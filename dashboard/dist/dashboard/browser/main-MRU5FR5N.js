var iR=Object.create;var Jc=Object.defineProperty,oR=Object.defineProperties,aR=Object.getOwnPropertyDescriptor,sR=Object.getOwnPropertyDescriptors,uR=Object.getOwnPropertyNames,Zw=Object.getOwnPropertySymbols,lR=Object.getPrototypeOf,Xw=Object.prototype.hasOwnProperty,cR=Object.prototype.propertyIsEnumerable;var Kw=(t,e,n)=>e in t?Jc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ge=(t,e)=>{for(var n in e||={})Xw.call(e,n)&&Kw(t,n,e[n]);if(Zw)for(var n of Zw(e))cR.call(e,n)&&Kw(t,n,e[n]);return t},ht=(t,e)=>oR(t,sR(e));var dR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fR=(t,e)=>{for(var n in e)Jc(t,n,{get:e[n],enumerable:!0})},hR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uR(e))!Xw.call(t,i)&&i!==n&&Jc(t,i,{get:()=>e[i],enumerable:!(r=aR(e,i))||r.enumerable});return t};var pR=(t,e,n)=>(n=t!=null?iR(lR(t)):{},hR(e||!t||!t.__esModule?Jc(n,"default",{value:t,enumerable:!0}):n,t));var uA=dR((Hc,Dw)=>{"use strict";(function(e,n){typeof Hc=="object"&&typeof Dw=="object"?Dw.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Hc=="object"?Hc.cytoscapePopper=n():e.cytoscapePopper=n()})(Hc,function(){return(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(r){return r},n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:o})},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=7)})([(function(t,e,n){"use strict";var r=n(5),i=r.getBoundingBox;function o(a,s){var u={getBoundingClientRect:function(){return i(a,s)}};return u}t.exports={getRef:o}}),(function(t,e,n){"use strict";t.exports=Object.assign!=null?Object.assign.bind(Object):function(r){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach(function(s){s!=null&&Object.keys(s).forEach(function(u){return r[u]=s[u]})}),r}}),(function(t,e,n){"use strict";var r=n(0),i=r.getRef,o=n(6),a=o.getContent;function s(u,l){var c=i(u,l),d=a(u,l.content);return u.popperFactory(c,d,l.popper)}t.exports={getPopper:s}}),(function(t,e,n){"use strict";var r=n(1),i=n(2),o=i.getPopper,a=n(0),s=a.getRef;function u(p){return h(this),o(this[0],c(this[0],p))}function l(p){return h(this),s(this[0],c(this[0],p))}function c(p,m){var g=function(E){return E.isNode()?{w:E.renderedWidth(),h:E.renderedHeight()}:{w:3,h:3}},v=function(E){return E.isNode()?d(E,g):f(E)},y={},w=p.cy(),b={renderedDimensions:g,renderedPosition:v,popper:y,cy:w};return r({},b,m)}function d(p,m){var g=p.renderedPosition(),v=m(p),y=v.w/2,w=v.h/2;return{x:g.x-y,y:g.y-w}}function f(p){var m=p.midpoint(),g=p.cy().pan(),v=p.cy().zoom();return{x:m.x*v+g.x,y:m.y*v+g.y}}function h(p){p.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}t.exports={popper:u,popperRef:l}}),(function(t,e,n){"use strict";var r=n(1),i=n(2),o=i.getPopper,a=n(0),s=a.getRef;function u(d){return o(this,c(this,d))}function l(d){return s(this,c(this,d))}function c(d,f){var h={boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:d};return r({},h,f)}t.exports={popper:u,popperRef:l}}),(function(t,e,n){"use strict";function r(i,o){var a=o.renderedPosition,s=o.cy,u=o.renderedDimensions,l=s.container().getBoundingClientRect(),c=u(i),d=a(i);return{top:d.y+l.top,left:d.x+l.left,right:d.x+c.w+l.left,bottom:d.y+c.h+l.top,width:c.w,height:c.h}}t.exports={getBoundingBox:r}}),(function(t,e,n){"use strict";function r(i,o){var a=null;if(typeof o=="function")a=o(i);else{if(o instanceof HTMLElement)return o;throw new Error("Can not create popper from 'target' with unknown type")}if(a===null)throw new Error("No 'target' specified to create popper");return a}t.exports={getContent:r}}),(function(t,e,n){"use strict";var r=n(4),i=n(3),o=function(s){if(typeof s!="function")throw new Error("Provide 'popperFactory' before registering the module");return function(l){l&&(l("core","popperFactory",s),l("collection","popperFactory",s),l("core","popper",r.popper),l("collection","popper",i.popper),l("core","popperRef",r.popperRef),l("collection","popperRef",i.popperRef))}};t.exports=o})])})});var On=null,ed=!1,rg=1,gR=null,er=Symbol("SIGNAL");function Oe(t){let e=On;return On=t,e}function nd(){return On}var ds={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Au(t){if(ed)throw new Error("");if(On===null)return;On.consumerOnSignalRead(t);let e=On.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=On.recomputing;if(r&&(n=e!==void 0?e.nextProducer:On.producers,n!==void 0&&n.producer===t)){On.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===On&&(!r||mR(i,On)))return;let o=hs(On),a={producer:t,consumer:On,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};On.producersTail=a,e!==void 0?e.nextProducer=a:On.producers=a,o&&tE(t,a)}function Qw(){rg++}function ig(t){if(!(hs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===rg)){if(!t.producerMustRecompute(t)&&!Nu(t)){ng(t);return}t.producerRecomputeValue(t),ng(t)}}function og(t){if(t.consumers===void 0)return;let e=ed;ed=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||vR(r)}}finally{ed=e}}function ag(){return On?.consumerAllowSignalWrites!==!1}function vR(t){t.dirty=!0,og(t),t.consumerMarkedDirty?.(t)}function ng(t){t.dirty=!1,t.lastCleanEpoch=rg}function fs(t){return t&&Jw(t),Oe(t)}function Jw(t){t.producersTail=void 0,t.recomputing=!0}function Ru(t,e){Oe(e),t&&eE(t)}function eE(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(hs(t))do n=sg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Nu(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ig(n),r!==n.version))return!0}return!1}function Qo(t){if(hs(t)){let e=t.producers;for(;e!==void 0;)e=sg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function tE(t,e){let n=t.consumersTail,r=hs(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)tE(i.producer,i)}function sg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!hs(e)){let o=e.producers;for(;o!==void 0;)o=sg(o)}return n}function hs(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ug(t){gR?.(t)}function mR(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function lg(t,e){return Object.is(t,e)}function rd(t,e){let n=Object.create(yR);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(ig(n),Au(n),n.value===td)throw n.error;return n.value};return r[er]=n,ug(n),r}var eg=Symbol("UNSET"),tg=Symbol("COMPUTING"),td=Symbol("ERRORED"),yR=ht(ge({},ds),{value:eg,dirty:!0,error:null,equal:lg,kind:"computed",producerMustRecompute(t){return t.value===eg||t.value===tg},producerRecomputeValue(t){if(t.value===tg)throw new Error("");let e=t.value;t.value=tg;let n=fs(t),r,i=!1;try{r=t.computation(),Oe(null),i=e!==eg&&e!==td&&r!==td&&t.equal(e,r)}catch(o){r=td,t.error=o}finally{Ru(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function bR(){throw new Error}var nE=bR;function rE(t){nE(t)}function cg(t){nE=t}var wR=null;function dg(t,e){let n=Object.create(id);n.value=t,e!==void 0&&(n.equal=e);let r=()=>iE(n);return r[er]=n,ug(n),[r,a=>Ou(n,a),a=>oE(n,a)]}function iE(t){return Au(t),t.value}function Ou(t,e){ag()||rE(t),t.equal(t.value,e)||(t.value=e,ER(t))}function oE(t,e){ag()||rE(t),Ou(t,e(t.value))}var id=ht(ge({},ds),{equal:lg,value:void 0,kind:"signal"});function ER(t){t.version++,Qw(),og(t),wR?.(t)}function fg(t){let e=Oe(null);try{return t()}finally{Oe(e)}}var hg=ht(ge({},ds),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function pg(t){if(t.dirty=!1,t.version>0&&!Nu(t))return;t.version++;let e=fs(t);try{t.cleanup(),t.fn()}finally{Ru(t,e)}}function Ue(t){return typeof t=="function"}function ps(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var od=ps(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ku(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Dn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ue(r))try{r()}catch(o){e=o instanceof od?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{aE(o)}catch(a){e=e??[],a instanceof od?e=[...e,...a.errors]:e.push(a)}}if(e)throw new od(e)}}add(e){var n;if(e&&e!==this)if(this.closed)aE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ku(n,e)}remove(e){let{_finalizers:n}=this;n&&ku(n,e),e instanceof t&&e._removeParent(this)}};Dn.EMPTY=(()=>{let t=new Dn;return t.closed=!0,t})();var gg=Dn.EMPTY;function ad(t){return t instanceof Dn||t&&"closed"in t&&Ue(t.remove)&&Ue(t.add)&&Ue(t.unsubscribe)}function aE(t){Ue(t)?t():t.unsubscribe()}var Hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gs={setTimeout(t,e,...n){let{delegate:r}=gs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=gs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function sd(t){gs.setTimeout(()=>{let{onUnhandledError:e}=Hr;if(e)e(t);else throw t})}function Pu(){}var sE=vg("C",void 0,void 0);function uE(t){return vg("E",void 0,t)}function lE(t){return vg("N",t,void 0)}function vg(t,e,n){return{kind:t,value:e,error:n}}var Jo=null;function vs(t){if(Hr.useDeprecatedSynchronousErrorHandling){let e=!Jo;if(e&&(Jo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jo;if(Jo=null,n)throw r}}else t()}function cE(t){Hr.useDeprecatedSynchronousErrorHandling&&Jo&&(Jo.errorThrown=!0,Jo.error=t)}var ea=class extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ad(e)&&e.add(this)):this.destination=SR}static create(e,n,r){return new ms(e,n,r)}next(e){this.isStopped?yg(lE(e),this):this._next(e)}error(e){this.isStopped?yg(uE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yg(sE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DR=Function.prototype.bind;function mg(t,e){return DR.call(t,e)}var bg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ud(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ud(r)}else ud(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ud(n)}}},ms=class extends ea{constructor(e,n,r){super();let i;if(Ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Hr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mg(e.next,o),error:e.error&&mg(e.error,o),complete:e.complete&&mg(e.complete,o)}):i=e}this.destination=new bg(i)}};function ud(t){Hr.useDeprecatedSynchronousErrorHandling?cE(t):sd(t)}function CR(t){throw t}function yg(t,e){let{onStoppedNotification:n}=Hr;n&&gs.setTimeout(()=>n(t,e))}var SR={closed:!0,next:Pu,error:CR,complete:Pu};var ys=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ur(t){return t}function wg(...t){return Eg(t)}function Eg(t){return t.length===0?Ur:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var at=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=TR(n)?n:new ms(n,r,i);return vs(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dE(r),new r((i,o)=>{let a=new ms({next:s=>{try{n(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ys](){return this}pipe(...n){return Eg(n)(this)}toPromise(n){return n=dE(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function dE(t){var e;return(e=t??Hr.Promise)!==null&&e!==void 0?e:Promise}function IR(t){return t&&Ue(t.next)&&Ue(t.error)&&Ue(t.complete)}function TR(t){return t&&t instanceof ea||IR(t)&&ad(t)}function xR(t){return Ue(t?.lift)}function st(t){return e=>{if(xR(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new Dg(t,e,n,r,i)}var Dg=class extends ea{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(u){e.error(u)}}:super._next,this._error=i?function(s){try{i(s)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var fE=ps(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var jt=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ld(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fE}next(n){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gg:(this.currentObservers=null,o.push(n),new Dn(()=>{this.currentObservers=null,ku(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new at;return n.source=this,n}}return t.create=(e,n)=>new ld(e,n),t})(),ld=class extends jt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gg}};var Cn=class extends jt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tr=new at(t=>t.complete());function hE(t){return t&&Ue(t.schedule)}function pE(t){return t[t.length-1]}function gE(t){return Ue(pE(t))?t.pop():void 0}function ao(t){return hE(pE(t))?t.pop():void 0}function mE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(d){a(d)}}function u(c){try{l(r.throw(c))}catch(d){a(d)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})}function vE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ta(t){return this instanceof ta?(this.v=t,this):new ta(t)}function yE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(p){return Promise.resolve(p).then(h,d)}}function s(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,v){o.push([h,m,g,v])>1||u(h,m)})},p&&(i[h]=p(i[h])))}function u(h,p){try{l(r[h](p))}catch(m){f(o[0][3],m)}}function l(h){h.value instanceof ta?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}function c(h){u("next",h)}function d(h){u("throw",h)}function f(h,p){h(p),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vE=="function"?vE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}}var cd=t=>t&&typeof t.length=="number"&&typeof t!="function";function dd(t){return Ue(t?.then)}function fd(t){return Ue(t[ys])}function hd(t){return Symbol.asyncIterator&&Ue(t?.[Symbol.asyncIterator])}function pd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _R(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gd=_R();function vd(t){return Ue(t?.[gd])}function md(t){return yE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ta(n.read());if(i)return yield ta(void 0);yield yield ta(r)}}finally{n.releaseLock()}})}function yd(t){return Ue(t?.getReader)}function hn(t){if(t instanceof at)return t;if(t!=null){if(fd(t))return MR(t);if(cd(t))return AR(t);if(dd(t))return RR(t);if(hd(t))return wE(t);if(vd(t))return NR(t);if(yd(t))return OR(t)}throw pd(t)}function MR(t){return new at(e=>{let n=t[ys]();if(Ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AR(t){return new at(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RR(t){return new at(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,sd)})}function NR(t){return new at(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wE(t){return new at(e=>{kR(t,e).catch(n=>e.error(n))})}function OR(t){return wE(md(t))}function kR(t,e){var n,r,i,o;return mE(this,void 0,void 0,function*(){try{for(n=bE(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function nr(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function bd(t,e=0){return st((n,r)=>{n.subscribe(pt(r,i=>nr(r,t,()=>r.next(i),e),()=>nr(r,t,()=>r.complete(),e),i=>nr(r,t,()=>r.error(i),e)))})}function wd(t,e=0){return st((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function EE(t,e){return hn(t).pipe(wd(e),bd(e))}function DE(t,e){return hn(t).pipe(wd(e),bd(e))}function CE(t,e){return new at(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function SE(t,e){return new at(n=>{let r;return nr(n,e,()=>{r=t[gd](),nr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}function Ed(t,e){if(!t)throw new Error("Iterable cannot be null");return new at(n=>{nr(n,e,()=>{let r=t[Symbol.asyncIterator]();nr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function IE(t,e){return Ed(md(t),e)}function TE(t,e){if(t!=null){if(fd(t))return EE(t,e);if(cd(t))return CE(t,e);if(dd(t))return DE(t,e);if(hd(t))return Ed(t,e);if(vd(t))return SE(t,e);if(yd(t))return IE(t,e)}throw pd(t)}function pn(t,e){return e?TE(t,e):hn(t)}function et(...t){let e=ao(t);return pn(t,e)}function Cg(t,e){let n=Ue(t)?t:()=>t,r=i=>i.error(n());return new at(e?i=>e.schedule(r,0,i):r)}function Dd(t){return!!t&&(t instanceof at||Ue(t.lift)&&Ue(t.subscribe))}var na=ps(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Tt(t,e){return st((n,r)=>{let i=0;n.subscribe(pt(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:PR}=Array;function FR(t,e){return PR(e)?t(...e):t(e)}function xE(t){return Tt(e=>FR(t,e))}var{isArray:LR}=Array,{getPrototypeOf:BR,prototype:VR,keys:jR}=Object;function _E(t){if(t.length===1){let e=t[0];if(LR(e))return{args:e,keys:null};if(HR(e)){let n=jR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HR(t){return t&&typeof t=="object"&&BR(t)===VR}function ME(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sg(...t){let e=ao(t),n=gE(t),{args:r,keys:i}=_E(t);if(r.length===0)return pn([],e);let o=new at(UR(r,e,i?a=>ME(i,a):Ur));return n?o.pipe(xE(n)):o}function UR(t,e,n=Ur){return r=>{AE(e,()=>{let{length:i}=t,o=new Array(i),a=i,s=i;for(let u=0;u<i;u++)AE(e,()=>{let l=pn(t[u],e),c=!1;l.subscribe(pt(r,d=>{o[u]=d,c||(c=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function AE(t,e,n){t?nr(n,t,e):e()}function RE(t,e,n,r,i,o,a,s){let u=[],l=0,c=0,d=!1,f=()=>{d&&!u.length&&!l&&e.complete()},h=m=>l<r?p(m):u.push(m),p=m=>{o&&e.next(m),l++;let g=!1;hn(n(m,c++)).subscribe(pt(e,v=>{i?.(v),o?h(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;u.length&&l<r;){let v=u.shift();a?nr(e,a,()=>p(v)):p(v)}f()}catch(v){e.error(v)}}))};return t.subscribe(pt(e,h,()=>{d=!0,f()})),()=>{s?.()}}function Hn(t,e,n=1/0){return Ue(e)?Hn((r,i)=>Tt((o,a)=>e(r,o,i,a))(hn(t(r,i))),n):(typeof e=="number"&&(n=e),st((r,i)=>RE(r,i,t,n)))}function NE(t=1/0){return Hn(Ur,t)}function OE(){return NE(1)}function bs(...t){return OE()(pn(t,ao(t)))}function Fu(t){return new at(e=>{hn(t()).subscribe(e)})}function si(t,e){return st((n,r)=>{let i=0;n.subscribe(pt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Lu(t){return st((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pt(n,void 0,void 0,a=>{o=hn(t(a,Lu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Cd(t,e){return Ue(e)?Hn(t,e,1):Hn(t,1)}function Ig(t){return st((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fi(t){return t<=0?()=>tr:st((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kE(t=$R){return st((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $R(){return new na}function Tg(t){return st((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Li(t,e){let n=arguments.length>=2;return r=>r.pipe(t?si((i,o)=>t(i,o,r)):Ur,Fi(1),n?Ig(e):kE(()=>new na))}function Sd(t){return t<=0?()=>tr:st((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xg(...t){let e=ao(t);return st((n,r)=>{(e?bs(t,n,e):bs(t,n)).subscribe(r)})}function ui(t,e){return st((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(pt(r,u=>{i?.unsubscribe();let l=0,c=o++;hn(t(u,c)).subscribe(i=pt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Bu(t){return st((e,n)=>{hn(t).subscribe(pt(n,()=>n.complete(),Pu)),!n.closed&&e.subscribe(n)})}function Un(t,e,n){let r=Ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?st((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(pt(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;s=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;s&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ur}var _g;function Id(){return _g}function li(t){let e=_g;return _g=t,e}var PE=Symbol("NotFound");function ws(t){return t===PE||t?.name==="\u0275NotFound"}var Hg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",pe=class extends Error{code;constructor(e,n){super(sa(e,n)),this.code=e}};function zR(t){return`NG0${Math.abs(t)}`}function sa(t,e){return`${zR(t)}${e?": "+e:""}`}var ua=globalThis;function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("")}function jE(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Vi(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Vi).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ug(t,e){return t?e?`${t} ${e}`:t:e||""}var qR=ut({__forward_ref__:ut});function la(t){return t.__forward_ref__=la,t.toString=function(){return Vi(this())},t}function Sn(t){return $g(t)?t():t}function $g(t){return typeof t=="function"&&t.hasOwnProperty(qR)&&t.__forward_ref__===la}function Ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fo(t){return{providers:t.providers||[],imports:t.imports||[]}}function qu(t){return GR(t,Nd)}function zg(t){return qu(t)!==null}function GR(t,e){return t.hasOwnProperty(e)&&t[e]||null}function WR(t){let e=t?.[Nd]??null;return e||null}function Ag(t){return t&&t.hasOwnProperty(xd)?t[xd]:null}var Nd=ut({\u0275prov:ut}),xd=ut({\u0275inj:ut}),Te=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qg(t){return t&&!!t.\u0275providers}var Gg=ut({\u0275cmp:ut}),Wg=ut({\u0275dir:ut}),Yg=ut({\u0275pipe:ut}),Zg=ut({\u0275mod:ut}),ju=ut({\u0275fac:ut}),ca=ut({__NG_ELEMENT_ID__:ut}),FE=ut({__NG_ENV_ID__:ut});function Kg(t){return Od(t,"@NgModule"),t[Zg]||null}function ho(t){return Od(t,"@Component"),t[Gg]||null}function Xg(t){return Od(t,"@Directive"),t[Wg]||null}function HE(t){return Od(t,"@Pipe"),t[Yg]||null}function Od(t,e){if(t==null)throw new pe(-919,!1)}function Gu(t){return typeof t=="string"?t:t==null?"":String(t)}function UE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gu(t)}var $E=ut({ngErrorCode:ut}),YR=ut({ngErrorMessage:ut}),ZR=ut({ngTokenPath:ut});function Qg(t,e){return zE("",-200,e)}function kd(t,e){throw new pe(-201,!1)}function zE(t,e,n){let r=new pe(e,t);return r[$E]=e,r[YR]=t,n&&(r[ZR]=n),r}function KR(t){return t[$E]}var Rg;function qE(){return Rg}function $n(t){let e=Rg;return Rg=t,e}function Jg(t,e,n){let r=qu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;kd(t,"")}var XR={},ra=XR,QR="__NG_DI_FLAG__",Ng=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ia(n)||0;try{return this.injector.get(e,r&8?null:ra,r)}catch(i){if(ws(i))return i;throw i}}};function JR(t,e=0){let n=Id();if(n===void 0)throw new pe(-203,!1);if(n===null)return Jg(t,void 0,e);{let r=eN(e),i=n.retrieve(t,r);if(ws(i)){if(r.optional)return null;throw i}return i}}function ze(t,e=0){return(qE()||JR)(Sn(t),e)}function ne(t,e){return ze(t,ia(e))}function ia(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function eN(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Og(t){let e=[];for(let n=0;n<t.length;n++){let r=Sn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new pe(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],u=tN(s);typeof u=="number"?u===-1?i=s.token:o|=u:i=s}e.push(ze(i,o))}else e.push(ze(r))}return e}function tN(t){return t[QR]}function so(t,e){let n=t.hasOwnProperty(ju);return n?t[ju]:null}function GE(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function WE(t){return t.flat(Number.POSITIVE_INFINITY)}function Pd(t,e){t.forEach(n=>Array.isArray(n)?Pd(n,e):e(n))}function ev(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YE(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ZE(t,e,n){let r=Ds(t,e);return r>=0?t[r|1]=n:(r=~r,YE(t,r,e,n)),r}function Fd(t,e){let n=Ds(t,e);if(n>=0)return t[n|1]}function Ds(t,e){return nN(t,e,1)}function nN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var po={},fr=[],da=new Te(""),tv=new Te("",-1),nv=new Te(""),Hu=class{get(e,n=ra){if(n===ra){let i=zE("",-201);throw i.name="\u0275NotFound",i}return n}};function fa(t){return{\u0275providers:t}}function KE(t){return fa([{provide:da,multi:!0,useValue:t}])}function XE(...t){return{\u0275providers:rv(!0,t),\u0275fromNgModule:!0}}function rv(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return Pd(e,a=>{let s=a;_d(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&QE(i,o),n}function QE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];iv(i,o=>{e(o,r)})}}function _d(t,e,n,r){if(t=Sn(t),!t)return!1;let i=null,o=Ag(t),a=!o&&ho(t);if(!o&&!a){let u=t.ngModule;if(o=Ag(u),o)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=t}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of u)_d(l,e,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;try{Pd(o.imports,c=>{_d(c,e,n,r)&&(l||=[],l.push(c))})}finally{}l!==void 0&&QE(l,e)}if(!s){let l=so(i)||(()=>new i);e({provide:i,useFactory:l,deps:fr},i),e({provide:nv,useValue:i,multi:!0},i),e({provide:da,useValue:()=>ze(i),multi:!0},i)}let u=o.providers;if(u!=null&&!s){let l=t;iv(u,c=>{e(c,l)})}}else return!1;return i!==t&&t.providers!==void 0}function iv(t,e){for(let n of t)qg(n)&&(n=n.\u0275providers),Array.isArray(n)?iv(n,e):e(n)}var rN=ut({provide:String,useValue:ut});function JE(t){return t!==null&&typeof t=="object"&&rN in t}function iN(t){return!!(t&&t.useExisting)}function oN(t){return!!(t&&t.useFactory)}function oa(t){return typeof t=="function"}function eD(t){return!!t.useClass}var Yu=new Te(""),Td={},LE={},Mg;function Zu(){return Mg===void 0&&(Mg=new Hu),Mg}var In=class{},aa=class extends In{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Pg(e,a=>this.processProvider(a)),this.records.set(tv,Es(void 0,this)),i.has("environment")&&this.records.set(In,Es(void 0,this));let o=this.records.get(Yu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nv,fr,{self:!0}))}retrieve(e,n){let r=ia(n)||0;try{return this.get(e,ra,r)}catch(i){if(ws(i))return i;throw i}}destroy(){Vu(this),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return Vu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Vu(this);let n=li(this),r=$n(void 0),i;try{return e()}finally{li(n),$n(r)}}get(e,n=ra,r){if(Vu(this),e.hasOwnProperty(FE))return e[FE](this);let i=ia(r),o,a=li(this),s=$n(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let c=cN(e)&&qu(e);c&&this.injectableDefInScope(c)?l=Es(kg(e),Td):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Zu():this.parent;return n=i&8&&n===ra?null:n,u.get(e,n)}catch(u){let l=KR(u);throw l===-200||l===-201?new pe(l,null):u}finally{$n(s),li(a)}}resolveInjectorInitializers(){let e=Oe(null),n=li(this),r=$n(void 0),i;try{let o=this.get(da,fr,{self:!0});for(let a of o)a()}finally{li(n),$n(r),Oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Vi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Sn(e);let n=oa(e)?e:Sn(e&&e.provide),r=sN(e);if(!oa(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Es(void 0,Td,!0),i.factory=()=>Og(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Oe(null);try{if(n.value===LE)throw Qg(Vi(e));return n.value===Td&&(n.value=LE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&lN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Sn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kg(t){let e=qu(t),n=e!==null?e.factory:so(t);if(n!==null)return n;if(t instanceof Te)throw new pe(204,!1);if(t instanceof Function)return aN(t);throw new pe(204,!1)}function aN(t){if(t.length>0)throw new pe(204,!1);let n=WR(t);return n!==null?()=>n.factory(t):()=>new t}function sN(t){if(JE(t))return Es(void 0,t.useValue);{let e=ov(t);return Es(e,Td)}}function ov(t,e,n){let r;if(oa(t)){let i=Sn(t);return so(i)||kg(i)}else if(JE(t))r=()=>Sn(t.useValue);else if(oN(t))r=()=>t.useFactory(...Og(t.deps||[]));else if(iN(t))r=(i,o)=>ze(Sn(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Sn(t&&(t.useClass||t.provide));if(uN(t))r=()=>new i(...Og(t.deps));else return so(i)||kg(i)}return r}function Vu(t){if(t.destroyed)throw new pe(205,!1)}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uN(t){return!!t.deps}function lN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cN(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Pg(t,e){for(let n of t)Array.isArray(n)?Pg(n,e):n&&qg(n)?Pg(n.\u0275providers,e):e(n)}function qn(t,e){let n;t instanceof aa?(Vu(t),n=t):n=new Ng(t);let r,i=li(n),o=$n(void 0);try{return e()}finally{li(i),$n(o)}}function tD(){return qE()!==void 0||Id()!=null}var $r=0,ke=1,Le=2,tn=3,Er=4,Dr=5,Cs=6,Ss=7,Ht=8,ji=9,Hi=10,Ut=11,Is=12,av=13,ha=14,hr=15,go=16,pa=17,di=18,Ku=19,sv=20,Bi=21,Ld=22,uo=23,pr=24,ga=25,va=26,Ot=27,nD=1,uv=6,vo=7,Xu=8,ma=9,kt=10;function fi(t){return Array.isArray(t)&&typeof t[nD]=="object"}function zr(t){return Array.isArray(t)&&t[nD]===!0}function lv(t){return(t.flags&4)!==0}function mo(t){return t.componentOffset>-1}function Bd(t){return(t.flags&1)===1}function hi(t){return!!t.template}function Ts(t){return(t[Le]&512)!==0}function ya(t){return(t[Le]&256)===256}var rD="svg",iD="math";function Cr(t){for(;Array.isArray(t);)t=t[$r];return t}function cv(t,e){return Cr(e[t])}function pi(t,e){return Cr(e[t.index])}function Qu(t,e){return t.data[e]}function Vd(t,e){return t[e]}function Ju(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Sr(t,e){let n=e[t];return fi(n)?n:n[$r]}function oD(t){return(t[Le]&4)===4}function jd(t){return(t[Le]&128)===128}function aD(t){return zr(t[tn])}function qr(t,e){return e==null?null:t[e]}function dv(t){t[pa]=0}function fv(t){t[Le]&1024||(t[Le]|=1024,jd(t)&&ba(t))}function sD(t,e){for(;t>0;)e=e[ha],t--;return e}function el(t){return!!(t[Le]&9216||t[pr]?.dirty)}function Hd(t){t[Hi].changeDetectionScheduler?.notify(8),t[Le]&64&&(t[Le]|=1024),el(t)&&ba(t)}function ba(t){t[Hi].changeDetectionScheduler?.notify(0);let e=lo(t);for(;e!==null&&!(e[Le]&8192||(e[Le]|=8192,!jd(e)));)e=lo(e)}function hv(t,e){if(ya(t))throw new pe(911,!1);t[Bi]===null&&(t[Bi]=[]),t[Bi].push(e)}function uD(t,e){if(t[Bi]===null)return;let n=t[Bi].indexOf(e);n!==-1&&t[Bi].splice(n,1)}function lo(t){let e=t[tn];return zr(e)?e[tn]:e}function pv(t){return t[Ss]??=[]}function gv(t){return t.cleanup??=[]}function lD(t,e,n,r){let i=pv(e);i.push(n),t.firstCreatePass&&gv(t).push(r,i.length-1)}var Ze={lFrame:SD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Fg=!1;function cD(){return Ze.lFrame.elementDepthCount}function dD(){Ze.lFrame.elementDepthCount++}function vv(){Ze.lFrame.elementDepthCount--}function fD(){return Ze.bindingsEnabled}function hD(){return Ze.skipHydrationRootTNode!==null}function mv(t){return Ze.skipHydrationRootTNode===t}function yv(){Ze.skipHydrationRootTNode=null}function Ge(){return Ze.lFrame.lView}function nn(){return Ze.lFrame.tView}function Ir(t){return Ze.lFrame.contextLView=t,t[Ht]}function Tr(t){return Ze.lFrame.contextLView=null,t}function Gn(){let t=bv();for(;t!==null&&t.type===64;)t=t.parent;return t}function bv(){return Ze.lFrame.currentTNode}function pD(){let t=Ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wa(t,e){let n=Ze.lFrame;n.currentTNode=t,n.isParent=e}function wv(){return Ze.lFrame.isParent}function gD(){Ze.lFrame.isParent=!1}function vD(){return Ze.lFrame.contextLView}function Ev(){return Fg}function Uu(t){let e=Fg;return Fg=t,e}function Ud(){let t=Ze.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mD(){return Ze.lFrame.bindingIndex}function yD(t){return Ze.lFrame.bindingIndex=t}function tl(){return Ze.lFrame.bindingIndex++}function Dv(t){let e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bD(){return Ze.lFrame.inI18n}function wD(t,e){let n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,$d(e)}function ED(){return Ze.lFrame.currentDirectiveIndex}function $d(t){Ze.lFrame.currentDirectiveIndex=t}function DD(t){let e=Ze.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Cv(){return Ze.lFrame.currentQueryIndex}function zd(t){Ze.lFrame.currentQueryIndex=t}function dN(t){let e=t[ke];return e.type===2?e.declTNode:e.type===1?t[Dr]:null}function Sv(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=dN(o),i===null||(o=o[ha],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ze.lFrame=CD();return r.currentTNode=e,r.lView=t,!0}function qd(t){let e=CD(),n=t[ke];Ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CD(){let t=Ze.lFrame,e=t===null?null:t.child;return e===null?SD(t):e}function SD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ID(){let t=Ze.lFrame;return Ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Iv=ID;function Gd(){let t=ID();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TD(t){return(Ze.lFrame.contextLView=sD(t,Ze.lFrame.contextLView))[Ht]}function gi(){return Ze.lFrame.selectedIndex}function yo(t){Ze.lFrame.selectedIndex=t}function xD(){let t=Ze.lFrame;return Qu(t.tView,t.selectedIndex)}function _D(){return Ze.lFrame.currentNamespace}var MD=!0;function Wd(){return MD}function Yd(t){MD=t}function Lg(t,e=null,n=null,r){let i=Tv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Tv(t,e=null,n=null,r,i=new Set){let o=[n||fr,XE(t)];return r=r||(typeof t=="object"?void 0:Vi(t)),new aa(o,e||Zu(),r||null,i)}var zn=class t{static THROW_IF_NOT_FOUND=ra;static NULL=new Hu;static create(e,n){if(Array.isArray(e))return Lg({name:""},n,e,"");{let r=e.name??"";return Lg({name:r},e.parent,e.providers,r)}}static \u0275prov=Ae({token:t,providedIn:"any",factory:()=>ze(tv)});static __NG_ELEMENT_ID__=-1},Yt=new Te(""),gr=(()=>{class t{static __NG_ELEMENT_ID__=fN;static __NG_ENV_ID__=n=>n}return t})(),Md=class extends gr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ya(this._lView)}onDestroy(e){let n=this._lView;return hv(n,e),()=>uD(n,e)}};function fN(){return new Md(Ge())}var AD=!1,bo=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Cn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new at(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Bg=class extends jt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,tD()&&(this.destroyRef=ne(gr,{optional:!0})??void 0,this.pendingTasks=ne(bo,{optional:!0})??void 0)}emit(e){let n=Oe(null);try{super.next(e)}finally{Oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return e instanceof Dn&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},kn=Bg;function Ad(...t){}function xv(t){let e,n;function r(){t=Ad;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function _v(t){return queueMicrotask(()=>t()),()=>{t=Ad}}var Mv="isAngularZone",$u=Mv+"_ID",hN=0,gn=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new kn(!1);onMicrotaskEmpty=new kn(!1);onStable=new kn(!1);onError=new kn(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=AD}=e;if(typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,vN(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new pe(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,pN,Ad,Ad);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},pN={};function Av(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){xv(()=>{t.callbackScheduled=!1,Vg(t),t.isCheckStableRunning=!0,Av(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vg(t)}function vN(t){let e=()=>{gN(t)},n=hN++;t._inner=t._inner.fork({name:"angular",properties:{[Mv]:!0,[$u]:n,[$u+n]:!0},onInvokeTask:(r,i,o,a,s,u)=>{if(mN(u))return r.invokeTask(o,a,s,u);try{return BE(t),r.invokeTask(o,a,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),VE(t)}},onInvoke:(r,i,o,a,s,u,l)=>{try{return BE(t),r.invoke(o,a,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!yN(u)&&e(),VE(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,Vg(t),Av(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function Vg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function BE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VE(t){t._nesting--,Av(t)}var zu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new kn;onMicrotaskEmpty=new kn;onStable=new kn;onError=new kn;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function mN(t){return RD(t,"__ignore_ng_zone__")}function yN(t){return RD(t,"__scheduler_tick__")}function RD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ci=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Gr=new Te("",{factory:()=>{let t=ne(gn),e=ne(In),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(ci),n.handleError(r))})}}}),ND={provide:da,useValue:()=>{let t=ne(ci,{optional:!0})},multi:!0},bN=new Te("",{factory:()=>{let t=ne(Yt).defaultView;if(!t)return;let e=ne(Gr),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),ne(gr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Rv(){return fa([KE(()=>void ne(bN))])}function qe(t,e){let[n,r,i]=dg(t,e?.equal),o=n,a=o[er];return o.set=r,o.update=i,o.asReadonly=OD.bind(o),o}function OD(){let t=this[er];if(t.readonlyFn===void 0){let e=()=>this();e[er]=t,t.readonlyFn=e}return t.readonlyFn}var nl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=wN}return t})();function wN(){return new nl(Ge(),Gn())}var co=class{},rl=new Te("",{factory:()=>!0});var Nv=new Te("");var Zd=(()=>{class t{static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new jg})}return t})(),jg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Rd=class{[er];constructor(e){this[er]=e}destroy(){this[er].destroy()}};function Ea(t,e){let n=e?.injector??ne(zn),r=e?.manualCleanup!==!0?n.get(gr):null,i,o=n.get(nl,null,{optional:!0}),a=n.get(co);return o!==null?(i=CN(o.view,a,t),r instanceof Md&&r._lView===o.view&&(r=null)):i=SN(t,n.get(Zd),a),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Rd(i)}var kD=ht(ge({},hg),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=Uu(!1);try{pg(this)}finally{Uu(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=Oe(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Oe(t)}}}),EN=ht(ge({},kD),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Qo(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),DN=ht(ge({},kD),{consumerMarkedDirty(){this.view[Le]|=8192,ba(this.view),this.notifier.notify(13)},destroy(){if(Qo(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[uo]?.delete(this)}});function CN(t,e,n){let r=Object.create(DN);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=PD(r,n),t[uo]??=new Set,t[uo].add(r),r.consumerMarkedDirty(r),r}function SN(t,e,n){let r=Object.create(EN);return r.fn=PD(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function PD(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Wr(t){return fg(t)}function pl(t){return{toString:t}.toString()}function ON(t){return typeof t=="function"}function cC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var nf=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},_a=(()=>{let t=()=>dC;return t.ngInherit=!0,t})();function dC(t){return t.type.prototype.ngOnChanges&&(t.setInput=PN),kN}function kN(){let t=hC(this),e=t?.current;if(e){let n=t.previous;if(n===po)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function PN(t,e,n,r,i){let o=this.declaredInputs[r],a=hC(t)||FN(t,{previous:po,current:null}),s=a.current||(a.current={}),u=a.previous,l=u[o];s[o]=new nf(l&&l.currentValue,n,u===po),cC(t,e,i,n)}var fC="__ngSimpleChanges__";function hC(t){return t[fC]||null}function FN(t,e){return t[fC]=e}var FD=[];var lt=function(t,e=null,n){for(let r=0;r<FD.length;r++){let i=FD[r];i(t,e,n)}},tt=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(tt||{});function LN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=dC(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function BN(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function Xd(t,e,n){pC(t,e,3,n)}function Qd(t,e,n,r){(t[Le]&3)===n&&pC(t,e,n,r)}function Ov(t,e){let n=t[Le];(n&3)===e&&(n&=16383,n+=1,t[Le]=n)}function pC(t,e,n,r){let i=r!==void 0?t[pa]&65535:0,o=r??-1,a=e.length-1,s=0;for(let u=i;u<a;u++)if(typeof e[u+1]=="number"){if(s=e[u],r!=null&&s>=r)break}else e[u]<0&&(t[pa]+=65536),(s<o||o==-1)&&(VN(t,n,e,u),t[pa]=(t[pa]&4294901760)+u+2),u++}function LD(t,e){lt(tt.LifecycleHookStart,t,e);let n=Oe(null);try{e.call(t)}finally{Oe(n),lt(tt.LifecycleHookEnd,t,e)}}function VN(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=t[a];i?t[Le]>>14<t[pa]>>16&&(t[Le]&3)===e&&(t[Le]+=16384,LD(s,o)):LD(s,o)}var _s=-1,Ca=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function jN(t){return(t.flags&8)!==0}function HN(t){return(t.flags&16)!==0}function UN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,o)}else{let o=i,a=n[++r];zN(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function $N(t){return t===3||t===4||t===6}function zN(t){return t.charCodeAt(0)===64}function Ms(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?BD(t,n,i,null,e[++r]):BD(t,n,i,null,null))}}return t}function BD(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function gC(t){return t!==_s}function rf(t){return t&32767}function qN(t){return t>>16}function of(t,e){let n=qN(t),r=e;for(;n>0;)r=r[ha],n--;return r}var zv=!0;function af(t){let e=zv;return zv=t,e}var GN=256,vC=GN-1,mC=5,WN=0,vi={};function YN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ca)&&(r=n[ca]),r==null&&(r=n[ca]=WN++);let i=r&vC,o=1<<i;e.data[t+(i>>mC)]|=o}function sf(t,e){let n=yC(t,e);if(n!==-1)return n;let r=e[ke];r.firstCreatePass&&(t.injectorIndex=e.length,kv(r.data,t),kv(e,null),kv(r.blueprint,null));let i=ym(t,e),o=t.injectorIndex;if(gC(i)){let a=rf(i),s=of(i,e),u=s[ke].data;for(let l=0;l<8;l++)e[o+l]=s[a+l]|u[a+l]}return e[o+8]=i,o}function kv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ym(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=CC(i),r===null)return _s;if(n++,i=i[ha],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _s}function qv(t,e,n){YN(t,e,n)}function bC(t,e,n){if(n&8||t!==void 0)return t;kd(e,"NodeInjector")}function wC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ji],o=$n(void 0);try{return i?i.get(e,r,n&8):Jg(e,r,n&8)}finally{$n(o)}}return bC(r,e,n)}function EC(t,e,n,r=0,i){if(t!==null){if(e[Le]&2048&&!(r&2)){let a=QN(t,e,n,r,vi);if(a!==vi)return a}let o=DC(t,e,n,r,vi);if(o!==vi)return o}return wC(e,n,r,i)}function DC(t,e,n,r,i){let o=KN(n);if(typeof o=="function"){if(!Sv(e,t,r))return r&1?bC(i,n,r):wC(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))kd(n);else return a}finally{Iv()}}else if(typeof o=="number"){let a=null,s=yC(t,e),u=_s,l=r&1?e[hr][Dr]:null;for((s===-1||r&4)&&(u=s===-1?ym(t,e):e[s+8],u===_s||!jD(r,!1)?s=-1:(a=e[ke],s=rf(u),e=of(u,e)));s!==-1;){let c=e[ke];if(VD(o,s,c.data)){let d=ZN(s,e,n,a,r,l);if(d!==vi)return d}u=e[s+8],u!==_s&&jD(r,e[ke].data[s+8]===l)&&VD(o,s,e)?(a=c,s=rf(u),e=of(u,e)):s=-1}}return i}function ZN(t,e,n,r,i,o){let a=e[ke],s=a.data[t+8],u=r==null?mo(s)&&zv:r!=a&&(s.type&3)!==0,l=i&1&&o===s,c=Jd(s,a,n,u,l);return c!==null?sl(e,a,c,s,i):vi}function Jd(t,e,n,r,i){let o=t.providerIndexes,a=e.data,s=o&1048575,u=t.directiveStart,l=t.directiveEnd,c=o>>20,d=r?s:s+c,f=i?s+c:l;for(let h=d;h<f;h++){let p=a[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){let h=a[u];if(h&&hi(h)&&h.type===n)return u}return null}function sl(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof Ca){let s=o;if(s.resolving){let h=UE(a[n]);throw Qg(h)}let u=af(s.canSeeViewProviders);s.resolving=!0;let l=a[n].type||a[n],c,d=s.injectImpl?$n(s.injectImpl):null,f=Sv(t,r,0);try{o=t[n]=s.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&LN(n,a[n],e)}finally{d!==null&&$n(d),af(u),s.resolving=!1,Iv()}}return o}function KN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ca)?t[ca]:void 0;return typeof e=="number"?e>=0?e&vC:XN:e}function VD(t,e,n){let r=1<<t;return!!(n[e+(t>>mC)]&r)}function jD(t,e){return!(t&2)&&!(t&1&&e)}var Da=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return EC(this._tNode,this._lView,e,ia(r),n)}};function XN(){return new Da(Gn(),Ge())}function Do(t){return pl(()=>{let e=t.prototype.constructor,n=e[ju]||Gv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ju]||Gv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gv(t){return $g(t)?()=>{let e=Gv(Sn(t));return e&&e()}:so(t)}function QN(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[Le]&2048&&!Ts(a);){let s=DC(o,a,n,r|2,vi);if(s!==vi)return s;let u=o.parent;if(!u){let l=a[sv];if(l){let c=l.get(n,vi,r);if(c!==vi)return c}u=CC(a),a=a[ha]}o=u}return i}function CC(t){let e=t[ke],n=e.type;return n===2?e.declTNode:n===1?t[Dr]:null}function JN(){return ks(Gn(),Ge())}function ks(t,e){return new vr(pi(t,e))}var vr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=JN}return t})();function eO(t){return t instanceof vr?t.nativeElement:t}function tO(){return this._results[Symbol.iterator]()}var uf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new jt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=WE(e);(this._changesDetected=!GE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=tO};function SC(t){return(t.flags&128)===128}var bm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(bm||{}),IC=new Map,nO=0;function rO(){return nO++}function iO(t){IC.set(t[Ku],t)}function Wv(t){IC.delete(t[Ku])}var HD="__ngContext__";function As(t,e){fi(e)?(t[HD]=e[Ku],iO(e)):t[HD]=e}function TC(t){return _C(t[Is])}function xC(t){return _C(t[Er])}function _C(t){for(;t!==null&&!zr(t);)t=t[Er];return t}var oO;function wm(t){oO=t}var wf=new Te("",{factory:()=>aO}),aO="ng";var Ef=new Te(""),gl=new Te("",{providedIn:"platform",factory:()=>"unknown"});var Df=new Te("",{factory:()=>ne(Yt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Cf={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Sf=new Te("",{factory:()=>Cf});var MC="r";var AC="di";var RC=!1,NC=new Te("",{factory:()=>RC});var sO=(t,e,n,r)=>{};function uO(t,e,n,r){sO(t,e,n,r)}function Em(t){return(t.flags&32)===32}var lO=()=>null;function OC(t,e,n=!1){return lO(t,e,n)}function kC(t,e){let n=t.contentQueries;if(n!==null){let r=Oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=t.data[a];zd(o),s.contentQueries(2,e[a],a)}}}finally{Oe(r)}}}function Yv(t,e,n){zd(0);let r=Oe(null);try{e(t,n)}finally{Oe(r)}}function PC(t,e,n){if(lv(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let s=t.data[a];if(s.contentQueries){let u=n[a];s.contentQueries(1,u,a)}}}finally{Oe(r)}}}var Zr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Zr||{});var Zv=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hg})`}};function If(t){return t instanceof Zv?t.changingThisBreaksApplicationSecurity:t}function cO(t,e){return t.createText(e)}function dO(t,e,n){t.setValue(e,n)}function FC(t,e,n){return t.createElement(e,n)}function lf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function LC(t,e,n){t.appendChild(e,n)}function UD(t,e,n,r,i){r!==null?lf(t,e,n,r,i):LC(t,e,n)}function BC(t,e,n,r){t.removeChild(null,e,n,r)}function fO(t,e,n){t.setAttribute(e,"style",n)}function hO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&UN(t,e,r),i!==null&&hO(t,e,i),o!==null&&fO(t,e,o)}function jC(t){return t instanceof Function?t():t}function pO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var HC="ng-template";function gO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Dm(t){return t.type===4&&t.value!==HC}function vO(t,e,n){let r=t.type===4&&!n?HC:t.value;return e===r}function mO(t,e,n){let r=4,i=t.attrs,o=i!==null?wO(i):0,a=!1;for(let s=0;s<e.length;s++){let u=e[s];if(typeof u=="number"){if(!a&&!Yr(r)&&!Yr(u))return!1;if(a&&Yr(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!vO(t,u,n)||u===""&&e.length===1){if(Yr(r))return!1;a=!0}}else if(r&8){if(i===null||!gO(t,i,u,n)){if(Yr(r))return!1;a=!0}}else{let l=e[++s],c=yO(u,i,Dm(t),n);if(c===-1){if(Yr(r))return!1;a=!0;continue}if(l!==""){let d;if(c>o?d="":d=i[c+1].toLowerCase(),r&2&&l!==d){if(Yr(r))return!1;a=!0}}}}return Yr(r)||a}function Yr(t){return(t&1)===0}function yO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=e[++i];for(;typeof s=="string";)s=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return EO(e,t)}function bO(t,e,n=!1){for(let r=0;r<e.length;r++)if(mO(t,e[r],n))return!0;return!1}function wO(t){for(let e=0;e<t.length;e++){let n=t[e];if($N(n))return e}return t.length}function EO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function $D(t,e){return t?":not("+e.trim()+")":e}function DO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Yr(a)&&(e+=$D(o,i),i=""),r=a,o=o||!Yr(r);n++}return i!==""&&(e+=$D(o,i)),e}function CO(t){return t.map(DO).join(",")}function SO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Yr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var xr={};function Cm(t,e,n,r,i,o,a,s,u,l,c){let d=Ot+r,f=d+i,h=IO(d,f),p=typeof l=="function"?l():l;return h[ke]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}function IO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}function TO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Cm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sm(t,e,n,r,i,o,a,s,u,l,c){let d=e.blueprint.slice();return d[$r]=i,d[Le]=r|4|128|8|64|1024,(l!==null||t&&t[Le]&2048)&&(d[Le]|=2048),dv(d),d[tn]=d[ha]=t,d[Ht]=n,d[Hi]=a||t&&t[Hi],d[Ut]=s||t&&t[Ut],d[ji]=u||t&&t[ji]||null,d[Dr]=o,d[Ku]=rO(),d[Cs]=c,d[sv]=l,d[hr]=e.type==2?t[hr]:d,d}function xO(t,e,n){let r=pi(e,t),i=TO(n),o=t[Hi].rendererFactory,a=Im(t,Sm(t,i,null,UC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function UC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function $C(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Im(t,e){return t[Is]?t[av][Er]=e:t[Is]=e,t[av]=e,e}function oe(t=1){zC(nn(),Ge(),gi()+t,!1)}function zC(t,e,n,r){if(!r)if((e[Le]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Xd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Qd(e,o,0,n)}yo(n)}var Tf=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Tf||{});function Kv(t,e,n,r){let i=Oe(null);try{let[o,a,s]=t.inputs[n],u=null;(a&Tf.SignalBased)!==0&&(u=e[o][er]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):s!==null&&(r=s.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):cC(e,u,o,r)}finally{Oe(i)}}var mi=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(mi||{}),_O;function Tm(t,e){return _O(t,e)}var Sa=new Set,xf=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(xf||{}),Ma=new Te(""),zD=new Set;function Kr(t){zD.has(t)||(zD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var xm=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),qC=[0,1,2,3],GC=(()=>{class t{ngZone=ne(gn);scheduler=ne(co);errorHandler=ne(ci,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){ne(Ma,{optional:!0})}execute(){let n=this.sequences.size>0;n&&lt(tt.AfterRenderHooksStart),this.executing=!0;for(let r of qC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&lt(tt.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[ga]??=[]).push(n),ba(r),r[Le]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(xf.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),cf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ga];e&&(this.view[ga]=e.filter(n=>n!==this))}};function _f(t,e){let n=e?.injector??ne(zn);return Kr("NgAfterNextRender"),AO(t,n,e,!0)}function MO(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function AO(t,e,n,r){let i=e.get(xm);i.impl??=e.get(GC);let o=e.get(Ma,null,{optional:!0}),a=n?.manualCleanup!==!0?e.get(gr):null,s=e.get(nl,null,{optional:!0}),u=new cf(i.impl,MO(t),s?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var WC=new Te("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:ne(In)})});function YC(t,e,n){let r=t.get(WC);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function RO(t,e){let n=t.get(WC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function NO(t,e){for(let[n,r]of e)YC(t,r.animateFns)}function qD(t,e,n,r){let i=t?.[va]?.enter;e!==null&&i&&i.has(n.index)&&NO(r,i)}function xs(t,e,n,r,i,o,a,s){if(i!=null){let u,l=!1;zr(i)?u=i:fi(i)&&(l=!0,i=i[$r]);let c=Cr(i);t===0&&r!==null?(qD(s,r,o,n),a==null?LC(e,r,c):lf(e,r,c,a||null,!0)):t===1&&r!==null?(qD(s,r,o,n),lf(e,r,c,a||null,!0)):t===2?GD(s,o,n,d=>{BC(e,c,l,d)}):t===3&&GD(s,o,n,()=>{e.destroyNode(c)}),u!=null&&qO(e,t,n,u,o,r,a)}}function OO(t,e){ZC(t,e),e[$r]=null,e[Dr]=null}function kO(t,e,n,r,i,o){r[$r]=i,r[Dr]=e,Af(t,r,n,1,i,o)}function ZC(t,e){e[Hi].changeDetectionScheduler?.notify(9),Af(t,e,e[Ut],2,null,null)}function PO(t){let e=t[Is];if(!e)return Pv(t[ke],t);for(;e;){let n=null;if(fi(e))n=e[Is];else{let r=e[kt];r&&(n=r)}if(!n){for(;e&&!e[Er]&&e!==t;)fi(e)&&Pv(e[ke],e),e=e[tn];e===null&&(e=t),fi(e)&&Pv(e[ke],e),n=e&&e[Er]}e=n}}function _m(t,e){let n=t[ma],r=n.indexOf(e);n.splice(r,1)}function Mf(t,e){if(ya(e))return;let n=e[Ut];n.destroyNode&&Af(t,e,n,3,null,null),PO(e)}function Pv(t,e){if(ya(e))return;let n=Oe(null);try{e[Le]&=-129,e[Le]|=256,e[pr]&&Qo(e[pr]),BO(t,e),LO(t,e),e[ke].type===1&&e[Ut].destroy();let r=e[go];if(r!==null&&zr(e[tn])){r!==e[tn]&&_m(r,e);let i=e[di];i!==null&&i.detachView(t)}Wv(e)}finally{Oe(n)}}function GD(t,e,n,r){let i=t?.[va];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Sa.add(t),YC(n,()=>{if(i.leave&&i.leave.has(e.index)){let a=i.leave.get(e.index),s=[];if(a){for(let u=0;u<a.animateFns.length;u++){let l=a.animateFns[u],{promise:c}=l();s.push(c)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(s),FO(t,r)}else t&&Sa.delete(t),r(!1)},i)}function FO(t,e){let n=t[va]?.running;if(n){n.then(()=>{t[va].running=void 0,Sa.delete(t),e(!0)});return}e(!1)}function LO(t,e){let n=t.cleanup,r=e[Ss];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(e[Ss]=null);let i=e[Bi];if(i!==null){e[Bi]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=e[uo];if(o!==null){e[uo]=null;for(let a of o)a.destroy()}}function BO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ca)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],u=o[a+1];lt(tt.LifecycleHookStart,s,u);try{u.call(s)}finally{lt(tt.LifecycleHookEnd,s,u)}}else{lt(tt.LifecycleHookStart,i,o);try{o.call(i)}finally{lt(tt.LifecycleHookEnd,i,o)}}}}}function VO(t,e,n){return jO(t,e.parent,n)}function jO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[$r];if(mo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Zr.None||i===Zr.Emulated)return null}return pi(r,n)}function HO(t,e,n){return $O(t,e,n)}function UO(t,e,n){return t.type&40?pi(t,n):null}var $O=UO,WD;function Mm(t,e,n,r){let i=VO(t,r,e),o=e[Ut],a=r.parent||e[Dr],s=HO(a,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)UD(o,i,n[u],s,!1);else UD(o,i,n,s,!1);WD!==void 0&&WD(o,r,e,n,i)}function ol(t,e){if(e!==null){let n=e.type;if(n&3)return pi(e,t);if(n&4)return Xv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ol(t,r);{let i=t[e.index];return zr(i)?Xv(-1,i):Cr(i)}}else{if(n&128)return ol(t,e.next);if(n&32)return Tm(e,t)()||Cr(t[e.index]);{let r=KC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=lo(t[hr]);return ol(i,r)}else return ol(t,e.next)}}}return null}function KC(t,e){if(e!==null){let r=t[hr][Dr],i=e.projection;return r.projection[i]}return null}function Xv(t,e){let n=kt+t+1;if(n<e.length){let r=e[n],i=r[ke].firstChild;if(i!==null)return ol(r,i)}return e[vo]}function Am(t,e,n,r,i,o,a){for(;n!=null;){let s=r[ji];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(a&&e===0&&(u&&As(Cr(u),r),n.flags|=2),!Em(n))if(l&8)Am(t,e,n.child,r,i,o,!1),xs(e,t,s,i,u,n,o,r);else if(l&32){let c=Tm(n,r),d;for(;d=c();)xs(e,t,s,i,d,n,o,r);xs(e,t,s,i,u,n,o,r)}else l&16?zO(t,e,r,n,i,o):xs(e,t,s,i,u,n,o,r);n=a?n.projectionNext:n.next}}function Af(t,e,n,r,i,o){Am(n,r,t.firstChild,e,i,o,!1)}function zO(t,e,n,r,i,o){let a=n[hr],u=a[Dr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let c=u[l];xs(e,t,n[ji],i,c,r,o,n)}else{let l=u,c=a[tn];SC(r)&&(l.flags|=128),Am(t,e,l,c,i,o,!0)}}function qO(t,e,n,r,i,o,a){let s=r[vo],u=Cr(r);s!==u&&xs(e,t,n,o,s,i,a);for(let l=kt;l<r.length;l++){let c=r[l];Af(c[ke],c,t,e,o,s)}}function GO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:mi.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mi.Important),t.setStyle(n,r,i,o))}}function XC(t,e,n,r,i){let o=gi(),a=r&2;try{yo(-1),a&&e.length>Ot&&zC(t,e,Ot,!1);let s=a?tt.TemplateUpdateStart:tt.TemplateCreateStart;lt(s,i,n),n(r,i)}finally{yo(o);let s=a?tt.TemplateUpdateEnd:tt.TemplateCreateEnd;lt(s,i,n)}}function QC(t,e,n){ek(t,e,n),(n.flags&64)===64&&tk(t,e,n)}function Rm(t,e,n=pi){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(e,t):t[a];t[i++]=s}}}function WO(t,e,n,r){let o=r.get(NC,RC)||n===Zr.ShadowDom||n===Zr.ExperimentalIsolatedShadowDom,a=t.selectRootElement(e,o);return YO(a),a}function YO(t){ZO(t)}var ZO=()=>null;function KO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XO(t,e,n,r,i,o){let a=e[ke];if(Nm(t,a,e,n,r)){mo(t)&&JO(e,t.index);return}t.type&3&&(n=KO(n)),QO(t,e,n,r,i,o)}function QO(t,e,n,r,i,o){if(t.type&3){let a=pi(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(a,n,r)}else t.type&12}function JO(t,e){let n=Sr(e,t);n[Le]&16||(n[Le]|=64)}function ek(t,e,n){let r=n.directiveStart,i=n.directiveEnd;mo(n)&&xO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||sf(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let s=t.data[a],u=sl(e,t,a,n);if(As(u,e),o!==null&&ik(e,a-r,u,s,n,o),hi(s)){let l=Sr(n.index,e);l[Ht]=sl(e,t,a,n)}}}function tk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=ED();try{yo(o);for(let s=r;s<i;s++){let u=t.data[s],l=e[s];$d(s),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&nk(u,l)}}finally{yo(-1),$d(a)}}function nk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rk(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];bO(e,o.selectors,!1)&&(r??=[],hi(o)?r.unshift(o):r.push(o))}return r}function ik(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let s=0;s<a.length;s+=2){let u=a[s],l=a[s+1];Kv(r,n,u,l)}}function JC(t,e,n,r,i){let o=Ot+n,a=e[ke],s=i(a,e,t,r,n);e[o]=s,wa(t,!0);let u=t.type===2;return u?(VC(e[Ut],s,t),(cD()===0||Bd(t))&&As(s,e),dD()):As(s,e),Wd()&&(!u||!Em(t))&&Mm(a,e,s,t),t}function eS(t){let e=t;return wv()?gD():(e=e.parent,wa(e,!1)),e}function ok(t,e){let n=t[ji];if(!n)return;let r;try{r=n.get(Gr,null)}catch{r=null}r?.(e)}function Nm(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],s=!1;if(a)for(let u=0;u<a.length;u+=2){let l=a[u],c=a[u+1],d=e.data[l];Kv(d,n[l],c,i),s=!0}if(o)for(let u of o){let l=n[u],c=e.data[u];Kv(c,l,r,i),s=!0}return s}function ak(t,e){let n=Sr(e,t),r=n[ke];sk(r,n);let i=n[$r];i!==null&&n[Cs]===null&&(n[Cs]=OC(i,n[ji])),lt(tt.ComponentStart);try{Om(r,n,n[Ht])}finally{lt(tt.ComponentEnd,n[Ht])}}function sk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Om(t,e,n){qd(e);try{let r=t.viewQuery;r!==null&&Yv(1,r,n);let i=t.template;i!==null&&XC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[di]?.finishViewCreation(t),t.staticContentQueries&&kC(t,e),t.staticViewQueries&&Yv(2,t.viewQuery,n);let o=t.components;o!==null&&uk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Le]&=-5,Gd()}}function uk(t,e){for(let n=0;n<e.length;n++)ak(t,e[n])}function Rf(t,e,n,r){let i=Oe(null);try{let o=e.tView,s=t[Le]&4096?4096:16,u=Sm(t,o,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[go]=l;let c=t[di];return c!==null&&(u[di]=c.createEmbeddedView(o)),Om(o,u,n),u}finally{Oe(i)}}function ul(t,e){return!e||e.firstChild===null||SC(t)}function ll(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Cr(o)),zr(o)&&tS(o,r);let a=n.type;if(a&8)ll(t,e,n.child,r);else if(a&32){let s=Tm(n,e),u;for(;u=s();)r.push(u)}else if(a&16){let s=KC(e,n);if(Array.isArray(s))r.push(...s);else{let u=lo(e[hr]);ll(u[ke],u,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function tS(t,e){for(let n=kt;n<t.length;n++){let r=t[n],i=r[ke].firstChild;i!==null&&ll(r[ke],r,i,e)}t[vo]!==t[$r]&&e.push(t[vo])}function nS(t){if(t[ga]!==null){for(let e of t[ga])e.impl.addSequence(e);t[ga].length=0}}var rS=[];function lk(t){return t[pr]??ck(t)}function ck(t){let e=rS.pop()??Object.create(fk);return e.lView=t,e}function dk(t){t.lView[pr]!==t&&(t.lView=null,rS.push(t))}var fk=ht(ge({},ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ba(t.lView)},consumerOnSignalRead(){this.lView[pr]=this}});function hk(t){let e=t[pr]??Object.create(pk);return e.lView=t,e}var pk=ht(ge({},ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=lo(t.lView);for(;e&&!iS(e[ke]);)e=lo(e);e&&fv(e)},consumerOnSignalRead(){this.lView[pr]=this}});function iS(t){return t.type!==2}function oS(t){if(t[uo]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[uo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Le]&8192)}}var gk=100;function aS(t,e=0){let r=t[Hi].rendererFactory,i=!1;i||r.begin?.();try{vk(t,e)}finally{i||r.end?.()}}function vk(t,e){let n=Ev();try{Uu(!0),Qv(t,e);let r=0;for(;el(t);){if(r===gk)throw new pe(103,!1);r++,Qv(t,1)}}finally{Uu(n)}}function mk(t,e,n,r){if(ya(e))return;let i=e[Le],o=!1,a=!1;qd(e);let s=!0,u=null,l=null;o||(iS(t)?(l=lk(e),u=fs(l)):nd()===null?(s=!1,l=hk(e),u=fs(l)):e[pr]&&(Qo(e[pr]),e[pr]=null));try{dv(e),yD(t.bindingStartIndex),n!==null&&XC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=t.preOrderCheckHooks;h!==null&&Xd(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Qd(e,h,0,null),Ov(e,0)}if(a||yk(e),oS(e),sS(e,0),t.contentQueries!==null&&kC(t,e),!o)if(c){let h=t.contentCheckHooks;h!==null&&Xd(e,h)}else{let h=t.contentHooks;h!==null&&Qd(e,h,1),Ov(e,1)}wk(t,e);let d=t.components;d!==null&&lS(e,d,0);let f=t.viewQuery;if(f!==null&&Yv(2,f,r),!o)if(c){let h=t.viewCheckHooks;h!==null&&Xd(e,h)}else{let h=t.viewHooks;h!==null&&Qd(e,h,2),Ov(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ld]){for(let h of e[Ld])h();e[Ld]=null}o||(nS(e),e[Le]&=-73)}catch(c){throw o||ba(e),c}finally{l!==null&&(Ru(l,u),s&&dk(l)),Gd()}}function sS(t,e){for(let n=TC(t);n!==null;n=xC(n))for(let r=kt;r<n.length;r++){let i=n[r];uS(i,e)}}function yk(t){for(let e=TC(t);e!==null;e=xC(e)){if(!(e[Le]&2))continue;let n=e[ma];for(let r=0;r<n.length;r++){let i=n[r];fv(i)}}}function bk(t,e,n){lt(tt.ComponentStart);let r=Sr(e,t);try{uS(r,n)}finally{lt(tt.ComponentEnd,r[Ht])}}function uS(t,e){jd(t)&&Qv(t,e)}function Qv(t,e){let r=t[ke],i=t[Le],o=t[pr],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Nu(o)),a||=!1,o&&(o.dirty=!1),t[Le]&=-9217,a)mk(r,t,r.template,t[Ht]);else if(i&8192){let s=Oe(null);try{oS(t),sS(t,1);let u=r.components;u!==null&&lS(t,u,1),nS(t)}finally{Oe(s)}}}function lS(t,e,n){for(let r=0;r<e.length;r++)bk(t,e[r],n)}function wk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)yo(~i);else{let o=i,a=n[++r],s=n[++r];wD(a,o);let u=e[o];lt(tt.HostBindingsUpdateStart,u);try{s(2,u)}finally{lt(tt.HostBindingsUpdateEnd,u)}}}}finally{yo(-1)}}function km(t,e){let n=Ev()?64:1088;for(t[Hi].changeDetectionScheduler?.notify(e);t;){t[Le]|=n;let r=lo(t);if(Ts(t)&&!r)return t;t=r}return null}function cS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dS(t,e){let n=kt+e;if(n<t.length)return t[n]}function Nf(t,e,n,r=!0){let i=e[ke];if(Ek(i,e,t,n),r){let a=Xv(n,t),s=e[Ut],u=s.parentNode(t[vo]);u!==null&&kO(i,t[Dr],s,e,u,a)}let o=e[Cs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fS(t,e){let n=cl(t,e);return n!==void 0&&Mf(n[ke],n),n}function cl(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n];if(r){let i=r[go];i!==null&&i!==t&&_m(i,r),e>0&&(t[n-1][Er]=r[Er]);let o=Wu(t,kt+e);OO(r[ke],r);let a=o[di];a!==null&&a.detachView(o[ke]),r[tn]=null,r[Er]=null,r[Le]&=-129}return r}function Ek(t,e,n,r){let i=kt+r,o=n.length;r>0&&(n[i-1][Er]=e),r<o-kt?(e[Er]=n[i],ev(n,kt+r,e)):(n.push(e),e[Er]=null),e[tn]=n;let a=e[go];a!==null&&n!==a&&hS(a,e);let s=e[di];s!==null&&s.insertView(t),Hd(e),e[Le]|=128}function hS(t,e){let n=t[ma],r=e[tn];if(fi(r))t[Le]|=2;else{let i=r[tn][hr];e[hr]!==i&&(t[Le]|=2)}n===null?t[ma]=[e]:n.push(e)}var wo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ke];return ll(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return ya(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tn];if(zr(e)){let n=e[Xu],r=n?n.indexOf(this):-1;r>-1&&(cl(e,r),Wu(n,r))}this._attachedToViewContainer=!1}Mf(this._lView[ke],this._lView)}onDestroy(e){hv(this._lView,e)}markForCheck(){km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Le]&=-129}reattach(){Hd(this._lView),this._lView[Le]|=128}detectChanges(){this._lView[Le]|=1024,aS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ts(this._lView),n=this._lView[go];n!==null&&!e&&_m(n,this._lView),ZC(this._lView[ke],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=e;let n=Ts(this._lView),r=this._lView[go];r!==null&&!n&&hS(r,this._lView),Hd(this._lView)}};var Rs=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Dk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Rf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new wo(o)}}return t})();function Dk(){return Of(Gn(),Ge())}function Of(t,e){return t.type&4?new Rs(e,t,ks(t,e)):null}function vl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Ck(t,e,n,r,i),bD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=pD();o.injectorIndex=a===null?-1:a.injectorIndex}return wa(o,!0),o}function Ck(t,e,n,r,i){let o=bv(),a=wv(),s=a?o:o&&o.parent,u=t.data[e]=Ik(t,s,n,e,r,i);return Sk(t,u,o,a),u}function Sk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Ik(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,s=0;return hD()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Tk(t){let e=t[uv]??[],r=t[tn][Ut],i=[];for(let o of e)o.data[AC]!==void 0?i.push(o):xk(o,r);t[uv]=i}function xk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[MC];for(;n<i;){let o=r.nextSibling;BC(e,r,!1),r=o,n++}}}var _k=()=>null,Mk=()=>null;function Jv(t,e){return _k(t,e)}function pS(t,e,n){return Mk(t,e,n)}var gS=class{},kf=class{},em=class{resolveComponentFactory(e){throw new pe(917,!1)}},ml=class{static NULL=new em},Ia=class{},Ui=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ak()}return t})();function Ak(){let t=Ge(),e=Gn(),n=Sr(e.index,t);return(fi(n)?n:t)[Ut]}var vS=(()=>{class t{static \u0275prov=Ae({token:t,providedIn:"root",factory:()=>null})}return t})();var ef={},tm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,ef,r);return i!==ef||n===ef?i:this.parentInjector.get(e,n,r)}};function df(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")o=s;else if(o==1)i=Ug(i,s);else if(o==2){let u=s,l=e[++a];r=Ug(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function xt(t,e=0){let n=Ge();if(n===null)return ze(t,e);let r=Gn();return EC(r,n,Sn(t),e)}function Rk(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let s=a,u=null,l=null;for(let c of a)if(c.resolveHostDirectives!==null){[s,u,l]=c.resolveHostDirectives(a);break}kk(t,e,n,s,o,u,l)}o!==null&&r!==null&&Nk(n,r,o)}function Nk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new pe(-301,!1);r.push(e[i],o)}}function Ok(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kk(t,e,n,r,i,o,a){let s=r.length,u=null;for(let f=0;f<s;f++){let h=r[f];u===null&&hi(h)&&(u=h,Ok(t,n,f)),qv(sf(n,e),t,h.type)}jk(n,t.data.length,s),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let f=0;f<s;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,c=!1,d=$C(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let f=0;f<s;f++){let h=r[f];if(n.mergedAttrs=Ms(n.mergedAttrs,h.hostAttrs),Fk(t,n,e,d,h),Vk(d,h,i),a!==null&&a.has(h)){let[m,g]=a.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,g+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}Pk(t,n,o)}function Pk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))YD(0,e,i,r),YD(1,e,i,r),KD(e,r,!1);else{let o=n.get(i);ZD(0,e,o,r),ZD(1,e,o,r),KD(e,r,!0)}}}function YD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),mS(e,o)}}function ZD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),mS(e,a)}}function mS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function KD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Dm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let u=r[s];if(u===0){s+=4;continue}else if(u===5){s+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let c of l)if(c===e){a??=[],a.push(u,r[s+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let c=0;c<l.length;c+=2)if(l[c]===e){a??=[],a.push(l[c+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function Fk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=so(i.type,!0)),a=new Ca(o,hi(i),xt,null);t.blueprint[r]=a,n[r]=a,Lk(t,e,r,$C(t,n,i.hostVars,xr),i)}function Lk(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;Bk(a)!=s&&a.push(s),a.push(n,r,o)}}function Bk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Vk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hi(e)&&(n[""]=t)}}function jk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yS(t,e,n,r,i,o,a,s){let u=e[ke],l=u.consts,c=qr(l,a),d=vl(u,t,n,r,c);return o&&Rk(u,e,d,qr(l,s),i),d.mergedAttrs=Ms(d.mergedAttrs,d.attrs),d.attrs!==null&&df(d,d.attrs,!1),d.mergedAttrs!==null&&df(d,d.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,d),d}function bS(t,e){BN(t,e),lv(e)&&t.queries.elementEnd(e)}function Hk(t,e,n,r,i,o){let a=e.consts,s=qr(a,i),u=vl(e,t,n,r,s);if(u.mergedAttrs=Ms(u.mergedAttrs,u.attrs),o!=null){let l=qr(a,o);u.localNames=[];for(let c=0;c<l.length;c+=2)u.localNames.push(l[c],-1)}return u.attrs!==null&&df(u,u.attrs,!1),u.mergedAttrs!==null&&df(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Pm(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function wS(t,e,n){return t[e]=n}function Eo(t,e,n){if(n===xr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ES(t,e,n,r){let i=Eo(t,e,n);return Eo(t,e+1,r)||i}function tf(t,e,n){return function r(i){let o=mo(t)?Sr(t.index,e):e;km(o,5);let a=e[Ht],s=XD(e,a,n,i),u=r.__ngNextListenerFn__;for(;u;)s=XD(e,a,u,i)&&s,u=u.__ngNextListenerFn__;return s}}function XD(t,e,n,r){let i=Oe(null);try{return lt(tt.OutputStart,e,n),n(r)!==!1}catch(o){return ok(t,o),!1}finally{lt(tt.OutputEnd,e,n),Oe(i)}}function DS(t,e,n,r,i,o,a,s){let u=Bd(t),l=!1,c=null;if(!r&&u&&(c=$k(e,n,o,t.index)),c!==null){let d=c.__ngLastListenerFn__||c;d.__ngNextListenerFn__=a,c.__ngLastListenerFn__=a,l=!0}else{let d=pi(t,n),f=r?r(d):d;uO(n,f,o,s);let h=i.listen(f,o,s);if(!Uk(o)){let p=r?m=>r(Cr(m[t.index])):t.index;CS(p,e,n,o,s,h,!1)}}return l}function Uk(t){return t.startsWith("animation")||t.startsWith("transition")}function $k(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=e[Ss],u=i[o+2];return s&&s.length>u?s[u]:null}typeof a=="string"&&(o+=2)}return null}function CS(t,e,n,r,i,o,a){let s=e.firstCreatePass?gv(e):null,u=pv(n),l=u.length;u.push(i,o),s&&s.push(r,t,l,(l+1)*(a?-1:1))}function QD(t,e,n,r,i,o){let a=e[n],s=e[ke],l=s.data[n].outputs[r],d=a[l].subscribe(o);CS(t.index,s,e,i,o,d,!0)}var nm=Symbol("BINDING");var ff=class extends ml{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ho(e);return new Ns(n,this.ngModule)}};function zk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Tf.SignalBased)!==0};return i&&(o.transform=i),o})}function qk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Gk(t,e,n){let r=e instanceof In?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new tm(n,r):n}function Wk(t){let e=t.get(Ia,null);if(e===null)throw new pe(407,!1);let n=t.get(vS,null),r=t.get(co,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Yk(t,e){let n=SS(t);return FC(e,n,n==="svg"?rD:n==="math"?iD:null)}function SS(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ns=class extends kf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,a){lt(tt.DynamicComponentStart);let s=Oe(null);try{let u=this.componentDef,l=Zk(r,u,a,o),c=Gk(u,i||this.ngModule,e),d=Wk(c),f=d.rendererFactory.createRenderer(null,u),h=r?WO(f,r,u.encapsulation,c):Yk(u,f),p=a?.some(JD)||o?.some(v=>typeof v!="function"&&v.bindings.some(JD)),m=Sm(null,l,null,512|UC(u),null,null,d,f,c,null,OC(h,c,!0));m[Ot]=h,qd(m);let g=null;try{let v=yS(Ot,m,2,"#host",()=>l.directiveRegistry,!0,0);VC(f,h,v),As(h,m),QC(l,m,v),PC(l,v,m),bS(l,v),n!==void 0&&Xk(v,this.ngContentSelectors,n),g=Sr(v.index,m),m[Ht]=g[Ht],Om(l,m,null)}catch(v){throw g!==null&&Wv(g),Wv(m),v}finally{lt(tt.DynamicComponentEnd),Gd()}return new hf(this.componentType,m,!!p)}finally{Oe(s)}}};function Zk(t,e,n,r){let i=t?["ng-version","21.0.6"]:SO(e.selectors[0]),o=null,a=null,s=0;if(n)for(let c of n)s+=c[nm].requiredVars,c.create&&(c.targetIdx=0,(o??=[]).push(c)),c.update&&(c.targetIdx=0,(a??=[]).push(c));if(r)for(let c=0;c<r.length;c++){let d=r[c];if(typeof d!="function")for(let f of d.bindings){s+=f[nm].requiredVars;let h=c+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(a??=[]).push(f))}}let u=[e];if(r)for(let c of r){let d=typeof c=="function"?c:c.type,f=Xg(d);u.push(f)}return Cm(0,null,Kk(o,a),1,s,u,null,null,null,[i],null)}function Kk(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function JD(t){let e=t[nm].kind;return e==="input"||e==="twoWay"}var hf=class extends gS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Qu(n[ke],Ot),this.location=ks(this._tNode,n),this.instance=Sr(this._tNode.index,n)[Ht],this.hostView=this.changeDetectorRef=new wo(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Nm(r,i[ke],i,e,n);this.previousInputValues.set(e,n);let a=Sr(r.index,i);km(a,1)}get injector(){return new Da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var $i=(()=>{class t{static __NG_ELEMENT_ID__=Qk}return t})();function Qk(){let t=Gn();return TS(t,Ge())}var Jk=$i,IS=class extends Jk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ks(this._hostTNode,this._hostLView)}get injector(){return new Da(this._hostTNode,this._hostLView)}get parentInjector(){let e=ym(this._hostTNode,this._hostLView);if(gC(e)){let n=of(e,this._hostLView),r=rf(e),i=n[ke].data[r+8];return new Da(i,n)}else return new Da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=eC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Jv(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,ul(this._hostTNode,a)),s}createComponent(e,n,r,i,o,a,s){let u=e&&!ON(e),l;if(u)l=n;else{let g=n||{};l=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef,a=g.directives,s=g.bindings}let c=u?e:new Ns(ho(e)),d=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(u?d:this.parentInjector).get(In,null);v&&(o=v)}let f=ho(c.componentType??{}),h=Jv(this._lContainer,f?.id??null),p=h?.firstChild??null,m=c.create(d,i,p,o,a,s);return this.insertImpl(m.hostView,l,ul(this._hostTNode,h)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aD(i)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let u=i[tn],l=new IS(u,u[Dr],u[tn]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return Nf(a,i,o,r),e.attachToViewContainerRef(),ev(Fv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=eC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=cl(this._lContainer,n);r&&(Wu(Fv(this._lContainer),n),Mf(r[ke],r))}detach(e){let n=this._adjustIndex(e,-1),r=cl(this._lContainer,n);return r&&Wu(Fv(this._lContainer),n)!=null?new wo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function eC(t){return t[Xu]}function Fv(t){return t[Xu]||(t[Xu]=[])}function TS(t,e){let n,r=e[t.index];return zr(r)?n=r:(n=cS(r,e,null,t),e[t.index]=n,Im(e,n)),tP(n,e,t,r),new IS(n,t,e)}function eP(t,e){let n=t[Ut],r=n.createComment(""),i=pi(e,t),o=n.parentNode(i);return lf(n,o,r,n.nextSibling(i),!1),r}var tP=iP,nP=()=>!1;function rP(t,e,n){return nP(t,e,n)}function iP(t,e,n,r){if(t[vo])return;let i;n.type&8?i=Cr(r):i=eP(e,n),t[vo]=i}var rm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},im=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Fm(e,n).matches!==null&&this.queries[n].setDirty()}},om=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=fP(e):this.predicate=e}},am=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},sm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,oP(n,o)),this.matchTNodeWithReadOption(e,n,Jd(n,e,o,!1,!1))}else r===Rs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Jd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===vr||i===$i||i===Rs&&n.type&4)this.addMatch(n.index,-2);else{let o=Jd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function oP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function aP(t,e){return t.type&11?ks(t,e):t.type&4?Of(t,e):null}function sP(t,e,n,r){return n===-1?aP(e,t):n===-2?uP(t,e,r):sl(t,t[ke],n,e)}function uP(t,e,n){if(n===vr)return ks(e,t);if(n===Rs)return Of(e,t);if(n===$i)return TS(e,t)}function xS(t,e,n,r){let i=e[di].queries[r];if(i.matches===null){let o=t.data,a=n.matches,s=[];for(let u=0;a!==null&&u<a.length;u+=2){let l=a[u];if(l<0)s.push(null);else{let c=o[l];s.push(sP(e,c,a[u+1],n.metadata.read))}}i.matches=s}return i.matches}function um(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=xS(t,e,i,n);for(let s=0;s<o.length;s+=2){let u=o[s];if(u>0)r.push(a[s/2]);else{let l=o[s+1],c=e[-u];for(let d=kt;d<c.length;d++){let f=c[d];f[go]===f[tn]&&um(f[ke],f,l,r)}if(c[ma]!==null){let d=c[ma];for(let f=0;f<d.length;f++){let h=d[f];um(h[ke],h,l,r)}}}}}return r}function lP(t,e){return t[di].queries[e].queryList}function cP(t,e,n){let r=new uf((n&4)===4);return lD(t,e,r,r.destroy),(e[di]??=new im).queries.push(new rm(r))-1}function dP(t,e,n){let r=nn();return r.firstCreatePass&&(hP(r,new om(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),cP(r,Ge(),e)}function fP(t){return t.split(",").map(e=>e.trim())}function hP(t,e,n){t.queries===null&&(t.queries=new am),t.queries.track(new sm(e,n))}function Fm(t,e){return t.queries.getByIndex(e)}function pP(t,e){let n=t[ke],r=Fm(n,e);return r.crossesNgTemplate?um(n,t,e,[]):xS(n,t,r,e)}var Ta=class{},Pf=class{};var pf=class extends Ta{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ff(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Kg(e);this._bootstrapComponents=jC(o.bootstrap),this._r3Injector=Tv(e,n,[{provide:Ta,useValue:this},{provide:ml,useValue:this.componentFactoryResolver},...r],Vi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gf=class extends Pf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new pf(this.moduleType,e,[])}};var dl=class extends Ta{injector;componentFactoryResolver=new ff(this);instance=null;constructor(e){super();let n=new aa([...e.providers,{provide:Ta,useValue:this},{provide:ml,useValue:this.componentFactoryResolver}],e.parent||Zu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yl(t,e,n=null){return new dl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var gP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=rv(!1,n.type),i=r.length>0?yl([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ae({token:t,providedIn:"environment",factory:()=>new t(ze(In))})}return t})();function Wn(t){return pl(()=>{let e=_S(t),n=ht(ge({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zr.Emulated,styles:t.styles||fr,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Kr("NgStandalone"),MS(n);let r=t.dependencies;return n.directiveDefs=tC(r,vP),n.pipeDefs=tC(r,HE),n.id=bP(n),n})}function vP(t){return ho(t)||Xg(t)}function Aa(t){return pl(()=>({type:t.type,bootstrap:t.bootstrap||fr,declarations:t.declarations||fr,imports:t.imports||fr,exports:t.exports||fr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mP(t,e){if(t==null)return po;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,s,u;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,u=i[3]||null):(o=i,a=i,s=Tf.None,u=null),n[o]=[r,s,u],e[o]=a}return n}function yP(t){if(t==null)return po;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function rr(t){return pl(()=>{let e=_S(t);return MS(e),e})}function bl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _S(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||po,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||fr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:mP(t.inputs,e),outputs:yP(t.outputs),debugInfo:null}}function MS(t){t.features?.forEach(e=>e(t))}function tC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function bP(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wP(t){return Object.getPrototypeOf(t.prototype).constructor}function Ps(t){let e=wP(t.type),n=!0,r=[t];for(;e;){let i;if(hi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new pe(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=Lv(t.inputs),a.declaredInputs=Lv(t.declaredInputs),a.outputs=Lv(t.outputs);let s=i.hostBindings;s&&IP(t,s);let u=i.viewQuery,l=i.contentQueries;if(u&&CP(t,u),l&&SP(t,l),EP(t,i),jE(t.outputs,i.outputs),hi(i)&&i.data.animation){let c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(t),s===Ps&&(n=!1)}}e=Object.getPrototypeOf(e)}DP(r)}function EP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function DP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ms(i.hostAttrs,n=Ms(n,i.hostAttrs))}}function Lv(t){return t===po?{}:t===fr?[]:t}function CP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function SP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function IP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function TP(t,e,n,r,i,o,a,s){if(n.firstCreatePass){t.mergedAttrs=Ms(t.mergedAttrs,t.attrs);let c=t.tView=Cm(2,t,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),c.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),wa(t,!1);let u=xP(n,e,t,r);Wd()&&Mm(n,e,u,t),As(u,e);let l=cS(u,e,u,t);e[r+Ot]=l,Im(e,l),rP(l,t,e)}function fl(t,e,n,r,i,o,a,s,u,l,c){let d=n+Ot,f;if(e.firstCreatePass){if(f=vl(e,d,4,a||null,s||null),l!=null){let h=qr(e.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=e.data[d];return TP(f,t,e,n,r,i,o,u),l!=null&&Rm(t,f,c),f}function Ff(t,e,n,r,i,o,a,s){let u=Ge(),l=nn(),c=qr(l.consts,o);return fl(u,l,t,e,n,r,i,c,void 0,a,s),Ff}var xP=_P;function _P(t,e,n,r){return Yd(!0),e[Ut].createComment("")}var Lm=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Bm=new Te("");function Ra(t){return!!t&&typeof t.then=="function"}function Vm(t){return!!t&&typeof t.subscribe=="function"}var AS=new Te("");var jm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=ne(AS,{optional:!0})??[];injector=ne(zn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=qn(this.injector,i);if(Ra(o))n.push(o);else if(Vm(o)){let a=new Promise((s,u)=>{o.subscribe({complete:s,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lf=new Te("");function RS(){cg(()=>{let t="";throw new pe(600,t)})}function NS(t){return t.isBoundToModule}var MP=10;var Co=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=ne(Gr);afterRenderManager=ne(xm);zonelessEnabled=ne(rl);rootEffectScheduler=ne(Zd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new jt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=ne(bo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Tt(n=>!n))}constructor(){ne(Ma,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=ne(In);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=zn.NULL){return this._injector.get(gn).run(()=>{lt(tt.BootstrapComponentStart);let a=n instanceof kf;if(!this._injector.get(jm).done){let p="";throw new pe(405,p)}let u;a?u=n:u=this._injector.get(ml).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=NS(u)?void 0:this._injector.get(Ta),c=r||u.selector,d=u.create(i,[],c,l),f=d.location.nativeElement,h=d.injector.get(Bm,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),al(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),lt(tt.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){lt(tt.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(xf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw lt(tt.ChangeDetectionEnd),new pe(101,!1);let n=Oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Oe(n),this.afterTick.next(),lt(tt.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ia,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<MP;){lt(tt.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{lt(tt.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!el(i))continue;let o=r&&!this.zonelessEnabled?0:1;aS(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>el(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;al(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Lf,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>al(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new pe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function al(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var X9=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var lm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Bv(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function AP(t,e,n,r){let i,o,a=0,s=t.length-1,u=void 0;if(Array.isArray(e)){Oe(r);let l=e.length-1;for(Oe(null);a<=s&&a<=l;){let c=t.at(a),d=e[a],f=Bv(a,c,a,d,n);if(f!==0){f<0&&t.updateValue(a,d),a++;continue}let h=t.at(s),p=e[l],m=Bv(s,h,l,p,n);if(m!==0){m<0&&t.updateValue(s,p),s--,l--;continue}let g=n(a,c),v=n(s,h),y=n(a,d);if(Object.is(y,v)){let w=n(l,p);Object.is(w,g)?(t.swap(a,s),t.updateValue(s,p),l--,s--):t.move(s,a),t.updateValue(a,d),a++;continue}if(i??=new vf,o??=rC(t,a,s,n),cm(t,i,a,y))t.updateValue(a,d),a++,s++;else if(o.has(y))i.set(g,t.detach(a)),s--;else{let w=t.create(a,e[a]);t.attach(a,w),a++,s++}}for(;a<=l;)nC(t,i,n,a,e[a]),a++}else if(e!=null){Oe(r);let l=e[Symbol.iterator]();Oe(null);let c=l.next();for(;!c.done&&a<=s;){let d=t.at(a),f=c.value,h=Bv(a,d,a,f,n);if(h!==0)h<0&&t.updateValue(a,f),a++,c=l.next();else{i??=new vf,o??=rC(t,a,s,n);let p=n(a,f);if(cm(t,i,a,p))t.updateValue(a,f),a++,s++,c=l.next();else if(!o.has(p))t.attach(a,t.create(a,f)),a++,s++,c=l.next();else{let m=n(a,d);i.set(m,t.detach(a)),s--}}}for(;!c.done;)nC(t,i,n,t.length,c.value),c=l.next()}for(;a<=s;)t.destroy(t.detach(s--));i?.forEach(l=>{t.destroy(l)})}function cm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function nC(t,e,n,r,i){if(cm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function rC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var vf=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function $t(t,e,n,r,i,o,a,s){Kr("NgControlFlow");let u=Ge(),l=nn(),c=qr(l.consts,o);return fl(u,l,t,e,n,r,i,c,256,a,s),Hm}function Hm(t,e,n,r,i,o,a,s){Kr("NgControlFlow");let u=Ge(),l=nn(),c=qr(l.consts,o);return fl(u,l,t,e,n,r,i,c,512,a,s),Hm}function zt(t,e){Kr("NgControlFlow");let n=Ge(),r=tl(),i=n[r]!==xr?n[r]:-1,o=i!==-1?mf(n,Ot+i):void 0,a=0;if(Eo(n,r,t)){let s=Oe(null);try{if(o!==void 0&&fS(o,a),t!==-1){let u=Ot+t,l=mf(n,u),c=pm(n[ke],u),d=pS(l,c,n),f=Rf(n,c,e,{dehydratedView:d});Nf(l,f,a,ul(c,d))}}finally{Oe(s)}}else if(o!==void 0){let s=dS(o,a);s!==void 0&&(s[Ht]=e)}}var dm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-kt}};function _r(t){return t}function Um(t,e){return e}var fm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function rn(t,e,n,r,i,o,a,s,u,l,c,d,f){Kr("NgControlFlow");let h=Ge(),p=nn(),m=u!==void 0,g=Ge(),v=s?a.bind(g[hr][Ht]):a,y=new fm(m,v);g[Ot+t]=y,fl(h,p,t+1,e,n,r,i,qr(p.consts,o),256),m&&fl(h,p,t+2,u,l,c,d,qr(p.consts,f),512)}var hm=class extends lm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-kt}at(e){return this.getLView(e)[Ht].$implicit}attach(e,n){let r=n[Cs];this.needsIndexUpdate||=e!==this.length,Nf(this.lContainer,n,e,ul(this.templateTNode,r)),RP(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,NP(this.lContainer,e),OP(this.lContainer,e)}create(e,n){let r=Jv(this.lContainer,this.templateTNode.tView.ssrId);return Rf(this.hostLView,this.templateTNode,new dm(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Mf(e[ke],e)}updateValue(e,n){this.getLView(e)[Ht].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ht].$index=e}getLView(e){return kP(this.lContainer,e)}};function on(t){let e=Oe(null),n=gi();try{let r=Ge(),i=r[ke],o=r[n],a=n+1,s=mf(r,a);if(o.liveCollection===void 0){let l=pm(i,a);o.liveCollection=new hm(s,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(AP(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=tl(),c=u.length===0;if(Eo(r,l,c)){let d=n+2,f=mf(r,d);if(c){let h=pm(i,d),p=pS(f,h,r),m=Rf(r,h,void 0,{dehydratedView:p});Nf(f,m,0,ul(h,p))}else i.firstUpdatePass&&Tk(f),fS(f,0)}}}finally{Oe(e)}}function mf(t,e){return t[e]}function RP(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n],i=r?r[va]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ji];RO(o,i),Sa.delete(r),i.detachedLeaveAnimationFns=void 0}}function NP(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n],i=r?r[va]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function OP(t,e){return cl(t,e)}function kP(t,e){return dS(t,e)}function pm(t,e){return Qu(t,e)}function Pt(t,e,n){let r=Ge(),i=tl();if(Eo(r,i,e)){let o=nn(),a=xD();XO(a,r,t,e,r[Ut],n)}return Pt}function iC(t,e,n,r,i){Nm(e,t,n,i?"class":"style",r)}function ae(t,e,n,r){let i=Ge(),o=i[ke],a=t+Ot,s=o.firstCreatePass?yS(a,i,2,e,rk,fD(),n,r):o.data[a];if(JC(s,i,t,e,OS),Bd(s)){let u=i[ke];QC(u,i,s),PC(u,s,i)}return r!=null&&Rm(i,s),ae}function ie(){let t=nn(),e=Gn(),n=eS(e);return t.firstCreatePass&&bS(t,n),mv(n)&&yv(),vv(),n.classesWithoutHost!=null&&jN(n)&&iC(t,n,Ge(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&HN(n)&&iC(t,n,Ge(),n.stylesWithoutHost,!1),ie}function gt(t,e,n,r){return ae(t,e,n,r),ie(),gt}function Mr(t,e,n,r){let i=Ge(),o=i[ke],a=t+Ot,s=o.firstCreatePass?Hk(a,o,2,e,n,r):o.data[a];return JC(s,i,t,e,OS),r!=null&&Rm(i,s),Mr}function mr(){let t=Gn(),e=eS(t);return mv(e)&&yv(),vv(),mr}function Bf(t,e,n,r){return Mr(t,e,n,r),mr(),Bf}var OS=(t,e,n,r,i)=>(Yd(!0),FC(e[Ut],r,_D()));function yi(){return Ge()}var il=void 0;function PP(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var FP=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",il,il,il],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",PP],Vv={};function ir(t){let e=LP(t),n=oC(e);if(n)return n;let r=e.split("-")[0];if(n=oC(r),n)return n;if(r==="en")return FP;throw new pe(701,!1)}function oC(t){return t in Vv||(Vv[t]=ua.ng&&ua.ng.common&&ua.ng.common.locales&&ua.ng.common.locales[t]),Vv[t]}var Ft=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ft||{});function LP(t){return t.toLowerCase().replace(/_/g,"-")}var wl="en-US";var BP=wl;function kS(t){typeof t=="string"&&(BP=t.toLowerCase().replace(/_/g,"-"))}function Rt(t,e,n){let r=Ge(),i=nn(),o=Gn();return VP(i,r,r[Ut],o,t,e,n),Rt}function Vf(t,e,n){let r=Ge(),i=nn(),o=Gn();return(o.type&3||n)&&DS(o,i,r,n,r[Ut],t,e,tf(o,r,e)),Vf}function VP(t,e,n,r,i,o,a){let s=!0,u=null;if((r.type&3||a)&&(u??=tf(r,e,o),DS(r,t,e,a,n,i,o,u)&&(s=!1)),s){let l=r.outputs?.[i],c=r.hostDirectiveOutputs?.[i];if(c&&c.length)for(let d=0;d<c.length;d+=2){let f=c[d],h=c[d+1];u??=tf(r,e,o),QD(r,e,f,h,i,u)}if(l&&l.length)for(let d of l)u??=tf(r,e,o),QD(r,e,d,i,i,u)}}function Be(t=1){return TD(t)}function jf(t,e,n){return dP(t,e,n),jf}function Hf(t){let e=Ge(),n=nn(),r=Cv();zd(r+1);let i=Fm(n,r);if(t.dirty&&oD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=pP(e,r);t.reset(o,eO),t.notifyOnChanges()}return!0}return!1}function Uf(){return lP(Ge(),Cv())}function Kd(t,e){return t<<17|e<<2}function xa(t){return t>>17&32767}function jP(t){return(t&2)==2}function HP(t,e){return t&131071|e<<17}function gm(t){return t|2}function Os(t){return(t&131068)>>2}function jv(t,e){return t&-131069|e<<2}function UP(t){return(t&1)===1}function vm(t){return t|1}function $P(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,s=xa(a),u=Os(a);t[r]=n;let l=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||Ds(d,c)>0)&&(l=!0)}else c=n;if(i)if(u!==0){let f=xa(t[s+1]);t[r+1]=Kd(f,s),f!==0&&(t[f+1]=jv(t[f+1],r)),t[s+1]=HP(t[s+1],r)}else t[r+1]=Kd(s,0),s!==0&&(t[s+1]=jv(t[s+1],r)),s=r;else t[r+1]=Kd(u,0),s===0?s=r:t[u+1]=jv(t[u+1],r),u=r;l&&(t[r+1]=gm(t[r+1])),aC(t,c,r,!0),aC(t,c,r,!1),zP(e,c,t,r,o),a=Kd(s,u),o?e.classBindings=a:e.styleBindings=a}function zP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ds(o,e)>=0&&(n[r+1]=vm(n[r+1]))}function aC(t,e,n,r){let i=t[n+1],o=e===null,a=r?xa(i):Os(i),s=!1;for(;a!==0&&(s===!1||o);){let u=t[a],l=t[a+1];qP(u,e)&&(s=!0,t[a+1]=r?vm(l):gm(l)),a=r?xa(l):Os(l)}s&&(t[n+1]=r?gm(i):vm(i))}function qP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ds(t,e)>=0:!1}function $f(t,e,n){return PS(t,e,n,!1),$f}function Et(t,e){return PS(t,e,null,!0),Et}function PS(t,e,n,r){let i=Ge(),o=nn(),a=Dv(2);if(o.firstUpdatePass&&WP(o,t,a,r),e!==xr&&Eo(i,a,e)){let s=o.data[gi()];QP(o,s,i,i[Ut],t,i[a+1]=JP(e,n),r,a)}}function GP(t,e){return e>=t.expandoStartIndex}function WP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[gi()],a=GP(t,n);eF(o,r)&&e===null&&!a&&(e=!1),e=YP(i,o,e,r),$P(i,o,e,n,a,r)}}function YP(t,e,n,r){let i=DD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Hv(null,t,e,n,r),n=hl(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Hv(i,t,e,n,r),o===null){let u=ZP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Hv(null,t,e,u[1],r),u=hl(u,e.attrs,r),KP(t,e,r,u))}else o=XP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ZP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Os(r)!==0)return t[xa(r)]}function KP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[xa(i)]=r}function XP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=hl(r,a,n)}return hl(r,e.attrs,n)}function Hv(t,e,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=e[s],r=hl(r,o.hostAttrs,i),o!==t);)s++;return t!==null&&(n.directiveStylingLast=s),r}function hl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZE(t,a,n?!0:e[++o]))}return t===void 0?null:t}function QP(t,e,n,r,i,o,a,s){if(!(e.type&3))return;let u=t.data,l=u[s+1],c=UP(l)?sC(u,e,n,i,Os(l),a):void 0;if(!yf(c)){yf(o)||jP(l)&&(o=sC(u,null,n,i,s,a));let d=cv(gi(),n);GO(r,a,d,i,o)}}function sC(t,e,n,r,i,o){let a=e===null,s;for(;i>0;){let u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=c===null,f=n[i+1];f===xr&&(f=d?fr:void 0);let h=d?Fd(f,r):c===r?f:void 0;if(l&&!yf(h)&&(h=Fd(u,r)),yf(h)&&(s=h,a))return s;let p=t[i+1];i=a?xa(p):Os(p)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(s=Fd(u,r))}return s}function yf(t){return t!==void 0}function JP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Vi(If(t)))),t}function eF(t,e){return(t.flags&(e?8:16))!==0}function Ce(t,e=""){let n=Ge(),r=nn(),i=t+Ot,o=r.firstCreatePass?vl(r,i,1,e,null):r.data[i],a=tF(r,n,o,e,t);n[i]=a,Wd()&&Mm(r,n,a,o),wa(o,!1)}var tF=(t,e,n,r,i)=>(Yd(!0),cO(e[Ut],r));function nF(t,e,n,r=""){return Eo(t,tl(),n)?e+Gu(n)+r:xr}function rF(t,e,n,r,i,o=""){let a=mD(),s=ES(t,a,n,i);return Dv(2),s?e+Gu(n)+r+Gu(i)+o:xr}function Zt(t){return Lt("",t),Zt}function Lt(t,e,n){let r=Ge(),i=nF(r,t,e,n);return i!==xr&&FS(r,gi(),i),Lt}function zf(t,e,n,r,i){let o=Ge(),a=rF(o,t,e,n,r,i);return a!==xr&&FS(o,gi(),a),zf}function FS(t,e,n){let r=cv(e,t);dO(t[Ut],r,n)}var LS={};function qf(t){Kr("NgLet");let e=nn(),n=Ge(),r=t+Ot,i=vl(e,r,128,null,null);return wa(i,!1),Ju(e,n,r,LS),qf}function El(t){let e=nn(),n=Ge(),r=gi();return Ju(e,n,r,t),t}function Dl(t){let e=vD(),n=Vd(e,Ot+t);if(n===LS)throw new pe(314,!1);return n}function uC(t,e,n){let r=nn();r.firstCreatePass&&BS(e,r.data,r.blueprint,hi(t),n)}function BS(t,e,n,r,i){if(t=Sn(t),Array.isArray(t))for(let o=0;o<t.length;o++)BS(t[o],e,n,r,i);else{let o=nn(),a=Ge(),s=Gn(),u=oa(t)?t:Sn(t.provide),l=ov(t),c=s.providerIndexes&1048575,d=s.directiveStart,f=s.providerIndexes>>20;if(oa(t)||!t.multi){let h=new Ca(l,i,xt,null),p=$v(u,e,i?c:c+f,d);p===-1?(qv(sf(s,a),o,u),Uv(o,t,e.length),e.push(u),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(h),a.push(h)):(n[p]=h,a[p]=h)}else{let h=$v(u,e,c+f,d),p=$v(u,e,c,c+f),m=h>=0&&n[h],g=p>=0&&n[p];if(i&&!g||!i&&!m){qv(sf(s,a),o,u);let v=aF(i?oF:iF,n.length,i,r,l,t);!i&&g&&(n[p].providerFactory=v),Uv(o,t,e.length,0),e.push(u),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(v),a.push(v)}else{let v=VS(n[i?p:h],l,!i&&r);Uv(o,t,h>-1?h:p,v)}!i&&r&&g&&n[p].componentProviders++}}}function Uv(t,e,n,r){let i=oa(e),o=eD(e);if(i||o){let u=(o?Sn(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let c=l.indexOf(n);c===-1?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function VS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $v(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iF(t,e,n,r,i){return mm(this.multi,[])}function oF(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,u=sl(r,r[ke],this.providerFactory.index,i);a=u.slice(0,s),mm(o,a);for(let l=s;l<u.length;l++)a.push(u[l])}else a=[],mm(o,a);return a}function mm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aF(t,e,n,r,i,o){let a=new Ca(t,n,xt,null);return a.multi=[],a.index=e,a.componentProviders=0,VS(a,i,r&&!n),a}function Gf(t,e){return n=>{n.providersResolver=(r,i)=>uC(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>uC(r,i?i(e):e,!0))}}function Cl(t,e,n,r){return HS(Ge(),Ud(),t,e,n,r)}function jS(t,e){let n=t[e];return n===xr?void 0:n}function HS(t,e,n,r,i,o){let a=e+n;return Eo(t,a,i)?wS(t,a+1,o?r.call(o,i):r(i)):jS(t,a+1)}function sF(t,e,n,r,i,o,a){let s=e+n;return ES(t,s,i,o)?wS(t,s+2,a?r.call(a,i,o):r(i,o)):jS(t,s+2)}function zi(t,e){let n=nn(),r,i=t+Ot;n.firstCreatePass?(r=uF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=so(r.type,!0)),a,s=$n(xt);try{let u=af(!1),l=o();return af(u),Ju(n,Ge(),i,l),l}finally{$n(s)}}function uF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function So(t,e,n){let r=t+Ot,i=Ge(),o=Vd(i,r);return US(i,r)?HS(i,Ud(),e,o.transform,n,o):o.transform(n)}function $m(t,e,n,r){let i=t+Ot,o=Ge(),a=Vd(o,i);return US(o,i)?sF(o,Ud(),e,a.transform,n,r,a):a.transform(n,r)}function US(t,e){return t[ke].data[e].pure}function zm(t,e){return Of(t,e)}var bf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qm=(()=>{class t{compileModuleSync(n){return new gf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Kg(n),o=jC(i.declarations).reduce((a,s)=>{let u=ho(s);return u&&a.push(new Ns(u)),a},[]);return new bf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $S=(()=>{class t{applicationErrorHandler=ne(Gr);appRef=ne(Co);taskService=ne(bo);ngZone=ne(gn);zonelessEnabled=ne(rl);tracing=ne(Ma,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Dn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($u):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ne(Nv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?_v:xv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_v(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zS(){return[{provide:co,useExisting:$S},{provide:gn,useClass:zu},{provide:rl,useValue:!0}]}function lF(){return typeof $localize<"u"&&$localize.locale||wl}var Fs=new Te("",{factory:()=>ne(Fs,{optional:!0,skipSelf:!0})||lF()});function Io(t,e){return rd(t,e?.equal)}var YS=Symbol("InputSignalNode#UNSET"),CF=ht(ge({},id),{transformFn:void 0,applyValueToInputSignal(t,e){Ou(t,e)}});function ZS(t,e){let n=Object.create(CF);n.value=t,n.transformFn=e?.transform;function r(){if(Au(n),n.value===YS){let i=null;throw new pe(-950,i)}return n.value}return r[er]=n,r}function qS(t,e){return ZS(t,e)}function SF(t){return ZS(YS,t)}var bi=(qS.required=SF,qS);var Gm=new Te(""),IF=new Te("");function Sl(t){return!t.moduleRef}function TF(t){let e=Sl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(gn);return n.run(()=>{Sl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Gr),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Sl(t)){let o=()=>e.destroy(),a=t.platformInjector.get(Gm);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Gm);a.add(o),t.moduleRef.onDestroy(()=>{al(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return _F(r,n,()=>{let o=e.get(bo),a=o.add(),s=e.get(jm);return s.runInitializers(),s.donePromise.then(()=>{let u=e.get(Fs,wl);if(kS(u||wl),!e.get(IF,!0))return Sl(t)?e.get(Co):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Sl(t)){let c=e.get(Co);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return xF?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var xF;function _F(t,e,n){try{let r=n();return Ra(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Wf=null;function MF(t=[],e){return zn.create({name:e,providers:[{provide:Yu,useValue:"platform"},{provide:Gm,useValue:new Set([()=>Wf=null])},...t]})}function AF(t=[]){if(Wf)return Wf;let e=MF(t);return Wf=e,RS(),RF(e),e}function RF(t){let e=t.get(Ef,null);qn(t,()=>{e?.forEach(n=>n())})}var Na=(()=>{class t{static __NG_ELEMENT_ID__=NF}return t})();function NF(t){return OF(Gn(),Ge(),(t&16)===16)}function OF(t,e,n){if(mo(t)&&!n){let r=Sr(t.index,e);return new wo(r,r)}else if(t.type&175){let r=e[hr];return new wo(r,e)}return null}var Wm=class{constructor(){}supports(e){return e instanceof Map||Pm(e)}create(){return new Ym}},Ym=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Pm(e)))throw new pe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}let r=new Zm(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Zm=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function GS(){return new Km([new Wm])}var Km=(()=>{class t{static \u0275prov=Ae({token:t,providedIn:"root",factory:GS});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=ne(t,{optional:!0,skipSelf:!0});return t.create(n,r||GS())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new pe(901,!1)}}return t})();function KS(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;lt(tt.BootstrapApplicationStart);try{let o=i?.injector??AF(r),a=[zS(),ND,...n||[]],s=new dl({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return TF({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{lt(tt.BootstrapApplicationEnd)}}function Oa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Xm(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var XS=null;function qi(){return XS}function Qm(t){XS??=t}var Il=class{},Yf=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>ne(QS),providedIn:"platform"})}return t})();var QS=(()=>{class t extends Yf{_location;_history;_doc=ne(Yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(n){let r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function tI(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function JS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function To(t){return t&&t[0]!=="?"?`?${t}`:t}var Zf=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>ne(PF),providedIn:"root"})}return t})(),kF=new Te(""),PF=(()=>{class t extends Zf{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ne(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return tI(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+To(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+To(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+To(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ze(Yf),ze(kF,8))};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bs=(()=>{class t{_subject=new jt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=BF(JS(eI(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+To(r))}normalize(n){return t.stripTrailingSlash(LF(this._basePath,eI(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+To(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+To(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=To;static joinWithSlash=tI;static stripTrailingSlash=JS;static \u0275fac=function(r){return new(r||t)(ze(Zf))};static \u0275prov=Ae({token:t,factory:()=>FF(),providedIn:"root"})}return t})();function FF(){return new Bs(ze(Zf))}function LF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function eI(t){return t.replace(/\/index.html$/,"")}function BF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var oy=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(oy||{});var Fn=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Fn||{}),vt=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(vt||{}),or=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(or||{}),ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function aI(t){return ir(t)[Ft.LocaleId]}function sI(t,e,n){let r=ir(t),i=[r[Ft.DayPeriodsFormat],r[Ft.DayPeriodsStandalone]],o=Ar(i,e);return Ar(o,n)}function uI(t,e,n){let r=ir(t),i=[r[Ft.DaysFormat],r[Ft.DaysStandalone]],o=Ar(i,e);return Ar(o,n)}function lI(t,e,n){let r=ir(t),i=[r[Ft.MonthsFormat],r[Ft.MonthsStandalone]],o=Ar(i,e);return Ar(o,n)}function cI(t,e){let r=ir(t)[Ft.Eras];return Ar(r,e)}function Tl(t,e){let n=ir(t);return Ar(n[Ft.DateFormat],e)}function xl(t,e){let n=ir(t);return Ar(n[Ft.TimeFormat],e)}function _l(t,e){let r=ir(t)[Ft.DateTimeFormat];return Ar(r,e)}function wi(t,e){let n=ir(t),r=n[Ft.NumberSymbols][e];if(typeof r>"u"){if(e===ar.CurrencyDecimal)return n[Ft.NumberSymbols][ar.Decimal];if(e===ar.CurrencyGroup)return n[Ft.NumberSymbols][ar.Group]}return r}function dI(t,e){return ir(t)[Ft.NumberFormats][e]}function fI(t){if(!t[Ft.ExtraData])throw new pe(2303,!1)}function hI(t){let e=ir(t);return fI(e),(e[Ft.ExtraData][2]||[]).map(r=>typeof r=="string"?Jm(r):[Jm(r[0]),Jm(r[1])])}function pI(t,e,n){let r=ir(t);fI(r);let i=[r[Ft.ExtraData][0],r[Ft.ExtraData][1]],o=Ar(i,e)||[];return Ar(o,n)||[]}function Ar(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new pe(2304,!1)}function Jm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var VF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kf={},jF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function gI(t,e,n,r){let i=ZF(t);e=Gi(n,e)||e;let a=[],s;for(;e;)if(s=jF.exec(e),s){a=a.concat(s.slice(1));let c=a.pop();if(!c)break;e=c}else{a.push(e);break}let u=i.getTimezoneOffset();r&&(u=mI(r,u),i=YF(i,r));let l="";return a.forEach(c=>{let d=GF(c);l+=d?d(i,n,u):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function th(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Gi(t,e){let n=aI(t);if(Kf[n]??={},Kf[n][e])return Kf[n][e];let r="";switch(e){case"shortDate":r=Tl(t,or.Short);break;case"mediumDate":r=Tl(t,or.Medium);break;case"longDate":r=Tl(t,or.Long);break;case"fullDate":r=Tl(t,or.Full);break;case"shortTime":r=xl(t,or.Short);break;case"mediumTime":r=xl(t,or.Medium);break;case"longTime":r=xl(t,or.Long);break;case"fullTime":r=xl(t,or.Full);break;case"short":let i=Gi(t,"shortTime"),o=Gi(t,"shortDate");r=Xf(_l(t,or.Short),[i,o]);break;case"medium":let a=Gi(t,"mediumTime"),s=Gi(t,"mediumDate");r=Xf(_l(t,or.Medium),[a,s]);break;case"long":let u=Gi(t,"longTime"),l=Gi(t,"longDate");r=Xf(_l(t,or.Long),[u,l]);break;case"full":let c=Gi(t,"fullTime"),d=Gi(t,"fullDate");r=Xf(_l(t,or.Full),[c,d]);break}return r&&(Kf[n][e]=r),r}function Xf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Xr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),o+a}function HF(t,e){return Xr(t,3).substring(0,e)}function Kt(t,e,n=0,r=!1,i=!1){return function(o,a){let s=UF(t,o);if((n>0||s>-n)&&(s+=n),t===3)s===0&&n===-12&&(s=12);else if(t===6)return HF(s,e);let u=wi(a,ar.MinusSign);return Xr(s,e,u,r,i)}}function UF(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new pe(2301,!1)}}function Dt(t,e,n=Fn.Format,r=!1){return function(i,o){return $F(i,o,t,e,n,r)}}function $F(t,e,n,r,i,o){switch(n){case 2:return lI(e,i,r)[t.getMonth()];case 1:return uI(e,i,r)[t.getDay()];case 0:let a=t.getHours(),s=t.getMinutes();if(o){let l=hI(e),c=pI(e,i,r),d=l.findIndex(f=>{if(Array.isArray(f)){let[h,p]=f,m=a>=h.hours&&s>=h.minutes,g=a<p.hours||a===p.hours&&s<p.minutes;if(h.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(f.hours===a&&f.minutes===s)return!0;return!1});if(d!==-1)return c[d]}return sI(e,i,r)[a<12?0:1];case 3:return cI(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new pe(2302,!1)}}function Qf(t){return function(e,n,r){let i=-1*r,o=wi(n,ar.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Xr(a,2,o)+Xr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Xr(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+Xr(a,2,o)+":"+Xr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Xr(a,2,o)+":"+Xr(Math.abs(i%60),2,o);default:throw new pe(2310,!1)}}}var zF=0,eh=4;function qF(t){let e=th(t,zF,1).getDay();return th(t,0,1+(e<=eh?eh:eh+7)-e)}function vI(t){let e=t.getDay(),n=e===0?-3:eh-e;return th(t.getFullYear(),t.getMonth(),t.getDate()+n)}function ey(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=vI(n),a=qF(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return Xr(i,t,wi(r,ar.MinusSign))}}function Jf(t,e=!1){return function(n,r){let o=vI(n).getFullYear();return Xr(o,t,wi(r,ar.MinusSign),e)}}var ty={};function GF(t){if(ty[t])return ty[t];let e;switch(t){case"G":case"GG":case"GGG":e=Dt(3,vt.Abbreviated);break;case"GGGG":e=Dt(3,vt.Wide);break;case"GGGGG":e=Dt(3,vt.Narrow);break;case"y":e=Kt(0,1,0,!1,!0);break;case"yy":e=Kt(0,2,0,!0,!0);break;case"yyy":e=Kt(0,3,0,!1,!0);break;case"yyyy":e=Kt(0,4,0,!1,!0);break;case"Y":e=Jf(1);break;case"YY":e=Jf(2,!0);break;case"YYY":e=Jf(3);break;case"YYYY":e=Jf(4);break;case"M":case"L":e=Kt(1,1,1);break;case"MM":case"LL":e=Kt(1,2,1);break;case"MMM":e=Dt(2,vt.Abbreviated);break;case"MMMM":e=Dt(2,vt.Wide);break;case"MMMMM":e=Dt(2,vt.Narrow);break;case"LLL":e=Dt(2,vt.Abbreviated,Fn.Standalone);break;case"LLLL":e=Dt(2,vt.Wide,Fn.Standalone);break;case"LLLLL":e=Dt(2,vt.Narrow,Fn.Standalone);break;case"w":e=ey(1);break;case"ww":e=ey(2);break;case"W":e=ey(1,!0);break;case"d":e=Kt(2,1);break;case"dd":e=Kt(2,2);break;case"c":case"cc":e=Kt(7,1);break;case"ccc":e=Dt(1,vt.Abbreviated,Fn.Standalone);break;case"cccc":e=Dt(1,vt.Wide,Fn.Standalone);break;case"ccccc":e=Dt(1,vt.Narrow,Fn.Standalone);break;case"cccccc":e=Dt(1,vt.Short,Fn.Standalone);break;case"E":case"EE":case"EEE":e=Dt(1,vt.Abbreviated);break;case"EEEE":e=Dt(1,vt.Wide);break;case"EEEEE":e=Dt(1,vt.Narrow);break;case"EEEEEE":e=Dt(1,vt.Short);break;case"a":case"aa":case"aaa":e=Dt(0,vt.Abbreviated);break;case"aaaa":e=Dt(0,vt.Wide);break;case"aaaaa":e=Dt(0,vt.Narrow);break;case"b":case"bb":case"bbb":e=Dt(0,vt.Abbreviated,Fn.Standalone,!0);break;case"bbbb":e=Dt(0,vt.Wide,Fn.Standalone,!0);break;case"bbbbb":e=Dt(0,vt.Narrow,Fn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Dt(0,vt.Abbreviated,Fn.Format,!0);break;case"BBBB":e=Dt(0,vt.Wide,Fn.Format,!0);break;case"BBBBB":e=Dt(0,vt.Narrow,Fn.Format,!0);break;case"h":e=Kt(3,1,-12);break;case"hh":e=Kt(3,2,-12);break;case"H":e=Kt(3,1);break;case"HH":e=Kt(3,2);break;case"m":e=Kt(4,1);break;case"mm":e=Kt(4,2);break;case"s":e=Kt(5,1);break;case"ss":e=Kt(5,2);break;case"S":e=Kt(6,1);break;case"SS":e=Kt(6,2);break;case"SSS":e=Kt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Qf(0);break;case"ZZZZZ":e=Qf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qf(2);break;default:return null}return ty[t]=e,e}function mI(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function WF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function YF(t,e,n){let i=t.getTimezoneOffset(),o=mI(e,i);return WF(t,-1*(o-i))}function ZF(t){if(nI(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,a=1]=t.split("-").map(s=>+s);return th(i,o-1,a)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(VF))return KF(r)}let e=new Date(t);if(!nI(e))throw new pe(2311,!1);return e}function KF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,a,s,u,l),e}function nI(t){return t instanceof Date&&!isNaN(t.valueOf())}var XF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rI=22,nh=".",Ml="0",QF=";",JF=",",ny="#";function eL(t,e,n,r,i,o,a=!1){let s="",u=!1;if(!isFinite(t))s=wi(n,ar.Infinity);else{let l=rL(t);a&&(l=nL(l));let c=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){let y=o.match(XF);if(y===null)throw new pe(2306,!1);let w=y[1],b=y[3],C=y[5];w!=null&&(c=ry(w)),b!=null&&(d=ry(b)),C!=null?f=ry(C):b!=null&&d>f&&(f=d)}iL(l,d,f);let h=l.digits,p=l.integerLen,m=l.exponent,g=[];for(u=h.every(y=>!y);p<c;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?g=h.splice(p,h.length):(g=h,h=[0]);let v=[];for(h.length>=e.lgSize&&v.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)v.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&v.unshift(h.join("")),s=v.join(wi(n,r)),g.length&&(s+=wi(n,i)+g.join("")),m&&(s+=wi(n,ar.Exponential)+"+"+m)}return t<0&&!u?s=e.negPre+s+e.negSuf:s=e.posPre+s+e.posSuf,s}function yI(t,e,n){let r=dI(e,oy.Decimal),i=tL(r,wi(e,ar.MinusSign));return eL(t,i,e,ar.Group,ar.Decimal,n)}function tL(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(QF),i=r[0],o=r[1],a=i.indexOf(nh)!==-1?i.split(nh):[i.substring(0,i.lastIndexOf(Ml)+1),i.substring(i.lastIndexOf(Ml)+1)],s=a[0],u=a[1]||"";n.posPre=s.substring(0,s.indexOf(ny));for(let c=0;c<u.length;c++){let d=u.charAt(c);d===Ml?n.minFrac=n.maxFrac=c+1:d===ny?n.maxFrac=c+1:n.posSuf+=d}let l=s.split(JF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let c=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(ny);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+c).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function nL(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function rL(t){let e=Math.abs(t)+"",n=0,r,i,o,a,s;for((i=e.indexOf(nh))>-1&&(e=e.replace(nh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ml;o++);if(o===(s=e.length))r=[0],i=1;else{for(s--;e.charAt(s)===Ml;)s--;for(i-=o,r=[],a=0;o<=s;o++,a++)r[a]=Number(e.charAt(o))}return i>rI&&(r=r.splice(0,rI-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function iL(t,e,n){if(e>n)throw new pe(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let d=a;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let d=1;d<a;d++)r[d]=0}if(s>=5)if(a-1<0){for(let d=0;d>a;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,c=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,u&&(p[h]===0&&h>=l?p.pop():u=!1),f>=10?1:0},0);c&&(r.unshift(c),t.integerLen++)}function ry(t){let e=parseInt(t);if(isNaN(e))throw new pe(2305,!1);return e}var iy=/\s+/,iI=[],ay=(()=>{class t{_ngEl;_renderer;initialClasses=iI;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(iy):iI}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(iy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(iy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(xt(vr),xt(Ui))};static \u0275dir=rr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function bI(t,e){return new pe(2100,!1)}var oL="mediumDate",wI=new Te(""),EI=new Te(""),sy=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??oL,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return gI(n,a,o||this.locale,s)}catch(a){throw bI(t,a.message)}}static \u0275fac=function(r){return new(r||t)(xt(Fs,16),xt(wI,24),xt(EI,24))};static \u0275pipe=bl({name:"date",type:t,pure:!0})}return t})();function aL(t,e){return{key:t,value:e}}var uy=(()=>{class t{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=oI;transform(n,r=oI){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(a=>{this.keyValues.push(aL(a.key,a.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||t)(xt(Km,16))};static \u0275pipe=bl({name:"keyvalue",type:t,pure:!1})}return t})();function oI(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n==null)return 1;if(r==null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var ly=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!sL(n))return null;i||=this._locale;try{let o=uL(n);return yI(o,i,r)}catch(o){throw bI(t,o.message)}}static \u0275fac=function(r){return new(r||t)(xt(Fs,16))};static \u0275pipe=bl({name:"number",type:t,pure:!0})}return t})();function sL(t){return!(t==null||t===""||t!==t)}function uL(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new pe(2309,!1);return t}function cy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Al=class{};var CI="browser";var SI=t=>t.src,dL=new Te("",{factory:()=>SI});var DI=/^((\s*\d+w\s*(,|$)){1,})$/;var fL=[1,2],hL=640;var pL=1920,gL=1080;var II=(()=>{class t{imageLoader=ne(dL);config=vL(ne(Sf));renderer=ne(Ui);imgElement=ne(vr).nativeElement;injector=ne(zn);destroyRef=ne(gr);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Kr("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let n=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&DI.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(n){if(n.ngSrc&&!n.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let n={src:this.ngSrc};this._renderedSrc=this.callImageLoader(n)}return this._renderedSrc}getRewrittenSrcset(){let n=DI.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=n?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:n}=this.config,r=n;return this.sizes?.trim()==="100vw"&&(r=n.filter(o=>o>=hL)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(n=!1){n&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return fL.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let n=!1;return this.sizes||(n=this.width>pL||this.height>gL),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==SI&&!n}generatePlaceholder(n){let{placeholderResolution:r}=this.config;return n===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof n=="string"?`url(${n})`:null}shouldBlurPlaceholder(n){return!n||!n.hasOwnProperty("blur")?!0:!!n.blur}removePlaceholderOnLoad(n){let r=()=>{let a=this.injector.get(Na);i(),o(),this.placeholder=!1,a.markForCheck()},i=this.renderer.listen(n,"load",r),o=this.renderer.listen(n,"error",r);this.destroyRef.onDestroy(()=>{i(),o()}),mL(n,r)}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=rr({type:t,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&$f("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",yL],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Xm],height:[2,"height","height",Xm],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",Oa],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",Oa],fill:[2,"fill","fill",Oa],placeholder:[2,"placeholder","placeholder",bL],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[_a]})}return t})();function vL(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},Cf,t,e)}function mL(t,e){t.complete&&t.naturalWidth&&e()}function yL(t){return typeof t=="string"?t:If(t)}function bL(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:Oa(t)}var Rl=class{_doc;constructor(e){this._doc=e}manager},rh=(()=>{class t extends Rl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ze(Yt))};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})(),ah=new Te(""),py=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof rh));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof rh);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ze(ah),ze(gn))};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})(),dy="ng-app-id";function TI(t){for(let e of t)e.remove()}function xI(t,e){let n=e.createElement("style");return n.textContent=t,n}function wL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${dy}="${e}"],link[${dy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(dy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function hy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var gy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,wL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,xI);r?.forEach(i=>this.addUsage(i,this.external,hy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(TI(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])TI(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,xI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,hy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ze(Yt),ze(wf),ze(Df,8),ze(gl))};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})(),fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vy=/%COMP%/g;var MI="%COMP%",EL=`_nghost-${MI}`,DL=`_ngcontent-${MI}`,CL=!0,SL=new Te("",{factory:()=>CL});function IL(t){return DL.replace(vy,t)}function TL(t){return EL.replace(vy,t)}function AI(t,e){return e.map(n=>n.replace(vy,t))}var my=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,a,s,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Nl(n,a,s,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof oh?i.applyToHost(n):i instanceof Ol&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Zr.Emulated:o=new oh(u,l,r,this.appId,c,a,s,d);break;case Zr.ShadowDom:return new ih(u,n,r,a,s,this.nonce,d,l);case Zr.ExperimentalIsolatedShadowDom:return new ih(u,n,r,a,s,this.nonce,d);default:o=new Ol(u,l,r,c,a,s,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ze(py),ze(gy),ze(wf),ze(SL),ze(Yt),ze(gn),ze(Df),ze(Ma,8))};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})(),Nl=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(fy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_I(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_I(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new pe(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=fy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=fy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mi.DashCase|mi.Important)?e.style.setProperty(n,r,i&mi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=qi().getGlobalEventTarget(this.doc,e),!e))throw new pe(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function _I(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ih=class extends Nl{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,a,s,u){super(e,i,o,s),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=AI(r.id,l);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}let c=r.getExternalStyles?.();if(c)for(let d of c){let f=hy(d,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ol=class extends Nl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,s,u){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?AI(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Sa.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},oh=class extends Ol{contentAttr;hostAttr;constructor(e,n,r,i,o,a,s,u){let l=i+"-"+r.id;super(e,n,r,o,a,s,u,l),this.contentAttr=IL(l),this.hostAttr=TL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var sh=class t extends Il{supportsDOMEvents=!0;static makeCurrent(){Qm(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xL();return n==null?null:_L(n)}resetBaseElement(){kl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cy(document.cookie,e)}},kl=null;function xL(){return kl=kl||document.head.querySelector("base"),kl?kl.getAttribute("href"):null}function _L(t){return new URL(t,document.baseURI).pathname}var ML=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})(),RI=["alt","control","meta","shift"],AL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NI=(()=>{class t extends Rl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),RI.forEach(l=>{let c=r.indexOf(l);c>-1&&(r.splice(c,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=AL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),RI.forEach(a=>{if(a!==i){let s=RL[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ze(Yt))};static \u0275prov=Ae({token:t,factory:t.\u0275fac})}return t})();function yy(t,e,n){let r=ge({rootComponent:t,platformRef:n?.platformRef},NL(e));return KS(r)}function NL(t){return{appProviders:[...LL,...t?.providers??[]],platformProviders:FL}}function OL(){sh.makeCurrent()}function kL(){return new ci}function PL(){return wm(document),document}var FL=[{provide:gl,useValue:CI},{provide:Ef,useValue:OL,multi:!0},{provide:Yt,useFactory:PL}];var LL=[{provide:Yu,useValue:"root"},{provide:ci,useFactory:kL},{provide:ah,useClass:rh,multi:!0},{provide:ah,useClass:NI,multi:!0},my,gy,py,{provide:Ia,useExisting:my},{provide:Al,useClass:ML},[]];var OI=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ze(Yt))};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $e="primary",ql=Symbol("RouteTitle"),Cy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $s(t){return new Cy(t)}function VL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hh(t){return new Promise((e,n)=>{t.pipe(Li()).subscribe({next:r=>e(r),error:r=>n(r)})})}function jL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ei(t[n],e[n]))return!1;return!0}function Ei(t,e){let n=t?Sy(t):void 0,r=e?Sy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UI(t[i],e[i]))return!1;return!0}function Sy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function $I(t){return t.length>0?t[t.length-1]:null}function Va(t){return Dd(t)?t:Ra(t)?pn(Promise.resolve(t)):et(t)}function zI(t){return Dd(t)?hh(t):Promise.resolve(t)}var HL={exact:GI,subset:WI},qI={exact:UL,subset:$L,ignored:()=>!0};function kI(t,e,n){return HL[n.paths](t.root,e.root,n.matrixParams)&&qI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function UL(t,e){return Ei(t,e)}function GI(t,e,n){if(!Fa(t.segments,e.segments)||!ch(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!GI(t.children[r],e.children[r],n))return!1;return!0}function $L(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UI(t[n],e[n]))}function WI(t,e,n){return YI(t,e,e.segments,n)}function YI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Fa(i,n)||e.hasChildren()||!ch(i,n,r))}else if(t.segments.length===n.length){if(!Fa(t.segments,n)||!ch(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!WI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Fa(t.segments,i)||!ch(t.segments,i,r)||!t.children[$e]?!1:YI(t.children[$e],e,o,r)}}function ch(t,e,n){return e.every((r,i)=>qI[n](t[i].parameters,r.parameters))}var Di=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ct([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){return GL.serialize(this)}},ct=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}},Pa=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$s(this.parameters),this._parameterMap}toString(){return KI(this)}};function zL(t,e){return Fa(t,e)&&t.every((n,r)=>Ei(n.parameters,e[r].parameters))}function Fa(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===$e&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==$e&&(n=n.concat(e(i,r)))}),n}var Sh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>new La,providedIn:"root"})}return t})(),La=class{parse(e){let n=new Ty(e);return new Di(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Pl(e.root,!0)}`,r=ZL(e.queryParams),i=typeof e.fragment=="string"?`#${WL(e.fragment)}`:"";return`${n}${r}${i}`}},GL=new La;function dh(t){return t.segments.map(e=>KI(e)).join("/")}function Pl(t,e){if(!t.hasChildren())return dh(t);if(e){let n=t.children[$e]?Pl(t.children[$e],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==$e&&r.push(`${i}:${Pl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qL(t,(r,i)=>i===$e?[Pl(t.children[$e],!1)]:[`${i}:${Pl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[$e]!=null?`${dh(t)}/${n[0]}`:`${dh(t)}/(${n.join("//")})`}}function ZI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uh(t){return ZI(t).replace(/%3B/gi,";")}function WL(t){return encodeURI(t)}function Iy(t){return ZI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(t){return decodeURIComponent(t)}function PI(t){return fh(t.replace(/\+/g,"%20"))}function KI(t){return`${Iy(t.path)}${YL(t.parameters)}`}function YL(t){return Object.entries(t).map(([e,n])=>`;${Iy(e)}=${Iy(n)}`).join("")}function ZL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${uh(n)}=${uh(i)}`).join("&"):`${uh(n)}=${uh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KL=/^[^\/()?;#]+/;function by(t){let e=t.match(KL);return e?e[0]:""}var XL=/^[^\/()?;=#]+/;function QL(t){let e=t.match(XL);return e?e[0]:""}var JL=/^[^=?&#]+/;function e2(t){let e=t.match(JL);return e?e[0]:""}var t2=/^[^&#]+/;function n2(t){let e=t.match(t2);return e?e[0]:""}var Ty=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[$e]=new ct(e,n)),r}parseSegment(){let e=by(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(e),new Pa(fh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=by(this.remaining);i&&(r=i,this.capture(r))}e[fh(n)]=fh(r)}parseQueryParam(e){let n=e2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=n2(this.remaining);a&&(r=a,this.capture(r))}let i=PI(n),o=PI(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=by(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new pe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$e);let a=this.parseChildren();n[o??$e]=Object.keys(a).length===1&&a[$e]?a[$e]:new ct([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new pe(4011,!1)}};function XI(t){return t.segments.length>0?new ct([],{[$e]:t}):t}function QI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=QI(i);if(r===$e&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ct(t.segments,e);return r2(n)}function r2(t){if(t.numberOfChildren===1&&t.children[$e]){let e=t.children[$e];return new ct(t.segments.concat(e.segments),e.children)}return t}function zs(t){return t instanceof Di}function i2(t,e,n=null,r=null,i=new La){let o=JI(t);return eT(o,e,n,r,i)}function JI(t){let e;function n(o){let a={};for(let u of o.children){let l=n(u);a[u.outlet]=l}let s=new ct(o.url,a);return o===t&&(e=s),s}let r=n(t.root),i=XI(r);return e??i}function eT(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return wy(o,o,o,n,r,i);let a=o2(e);if(a.toRoot())return wy(o,o,new ct([],{}),n,r,i);let s=a2(a,o,t),u=s.processChildren?Ll(s.segmentGroup,s.index,a.commands):nT(s.segmentGroup,s.index,a.commands);return wy(o,s.segmentGroup,u,n,r,i)}function ph(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jl(t){return typeof t=="object"&&t!=null&&t.outlets}function FI(t,e,n){t||="\u0275";let r=new Di;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function wy(t,e,n,r,i,o){let a={};for(let[l,c]of Object.entries(r??{}))a[l]=Array.isArray(c)?c.map(d=>FI(l,d,o)):FI(l,c,o);let s;t===e?s=n:s=tT(t,e,n);let u=XI(QI(s));return new Di(u,a,i)}function tT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tT(o,e,n)}),new ct(t.segments,r)}var gh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ph(r[0]))throw new pe(4003,!1);let i=r.find(jl);if(i&&i!==$I(r))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function o2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([u,l])=>{s[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,u)=>{u==0&&s==="."||(u==0&&s===""?n=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new gh(n,e,r)}var js=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function a2(t,e,n){if(t.isAbsolute)return new js(e,!0,0);if(!n)return new js(e,!1,NaN);if(n.parent===null)return new js(n,!0,0);let r=ph(t.commands[0])?0:1,i=n.segments.length-1+r;return s2(n,i,t.numberOfDoubleDots)}function s2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pe(4005,!1);i=r.segments.length}return new js(r,!1,i-o)}function u2(t){return jl(t[0])?t[0].outlets:{[$e]:t}}function nT(t,e,n){if(t??=new ct([],{}),t.segments.length===0&&t.hasChildren())return Ll(t,e,n);let r=l2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ct(t.segments.slice(0,r.pathIndex),{});return o.children[$e]=new ct(t.segments.slice(r.pathIndex),t.children),Ll(o,0,i)}else return r.match&&i.length===0?new ct(t.segments,{}):r.match&&!t.hasChildren()?xy(t,e,n):r.match?Ll(t,0,i):xy(t,e,n)}function Ll(t,e,n){if(n.length===0)return new ct(t.segments,{});{let r=u2(n),i={};if(Object.keys(r).some(o=>o!==$e)&&t.children[$e]&&t.numberOfChildren===1&&t.children[$e].segments.length===0){let o=Ll(t.children[$e],e,n);return new ct(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=nT(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new ct(t.segments,i)}}function l2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],s=n[r];if(jl(s))break;let u=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!BI(u,l,a))return o;r+=2}else{if(!BI(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(jl(o)){let u=c2(o.outlets);return new ct(r,u)}if(i===0&&ph(n[0])){let u=t.segments[e];r.push(new Pa(u.path,LI(n[0]))),i++;continue}let a=jl(o)?o.outlets[$e]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&ph(s)?(r.push(new Pa(a,LI(s))),i+=2):(r.push(new Pa(a,{})),i++)}return new ct(r,{})}function c2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xy(new ct([],{}),0,r))}),e}function LI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function BI(t,e,n){return t==n.path&&Ei(e,n.parameters)}var Bl="imperative",Tn=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Tn||{}),Rr=class{id;url;constructor(e,n){this.id=e,this.url=n}},qs=class extends Rr{type=Tn.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xo=class extends Rr{urlAfterRedirects;type=Tn.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sr=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(sr||{}),vh=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(vh||{}),Wi=class extends Rr{reason;code;type=Tn.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_o=class extends Rr{reason;code;type=Tn.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Hl=class extends Rr{error;target;type=Tn.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mh=class extends Rr{urlAfterRedirects;state;type=Tn.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_y=class extends Rr{urlAfterRedirects;state;type=Tn.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},My=class extends Rr{urlAfterRedirects;state;shouldActivate;type=Tn.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ay=class extends Rr{urlAfterRedirects;state;type=Tn.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends Rr{urlAfterRedirects;state;type=Tn.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ny=class{route;type=Tn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oy=class{route;type=Tn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ky=class{snapshot;type=Tn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Py=class{snapshot;type=Tn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fy=class{snapshot;type=Tn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ly=class{snapshot;type=Tn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ul=class{},Gs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function d2(t){return!(t instanceof Ul)&&!(t instanceof Gs)}function f2(t,e){return t.providers&&!t._injector&&(t._injector=yl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qr(t){return t.outlet||$e}function h2(t,e){let n=t.filter(r=>Qr(r)===e);return n.push(...t.filter(r=>Qr(r)!==e)),n}function Ys(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var By=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ys(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Gl(this.rootInjector)}},Gl=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new By(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ze(In))};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Vy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jy(e,this._root).map(n=>n.value)}};function Vy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Vy(t,n);if(r)return r}return null}function jy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jy(t,n);if(r.length)return r.unshift(e),r}return[]}var yr=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bh=class extends yh{snapshot;constructor(e,n){super(e),this.snapshot=n,Wy(this,e)}toString(){return this.snapshot.toString()}};function rT(t){let e=p2(t),n=new Cn([new Pa("",{})]),r=new Cn({}),i=new Cn({}),o=new Cn({}),a=new Cn(""),s=new Ba(n,r,o,a,i,$e,t,e.root);return s.snapshot=e.root,new bh(new yr(s,[]),e)}function p2(t){let e={},n={},r={},o=new Hs([],e,r,"",n,$e,t,null,{});return new Eh("",new yr(o,[]))}var Ba=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,s,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Tt(l=>l[ql]))??et(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tt(e=>$s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tt(e=>$s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:ge(ge({},e.params),t.params),data:ge(ge({},e.data),t.data),resolve:ge(ge(ge(ge({},t.data),e.data),i?.data),t._resolvedData)}:r={params:ge({},t.params),data:ge({},t.data),resolve:ge(ge({},t.data),t._resolvedData??{})},i&&oT(i)&&(r.resolve[ql]=i.title),r}var Hs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ql]}constructor(e,n,r,i,o,a,s,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Eh=class extends yh{url;constructor(e,n){super(n),this.url=e,Wy(this,n)}toString(){return iT(this._root)}};function Wy(t,e){e.value._routerState=t,e.children.forEach(n=>Wy(t,n))}function iT(t){let e=t.children.length>0?` { ${t.children.map(iT).join(", ")} } `:"";return`${t.value}${e}`}function Ey(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ei(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ei(e.params,n.params)||t.paramsSubject.next(n.params),jL(e.url,n.url)||t.urlSubject.next(n.url),Ei(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hy(t,e){let n=Ei(t.params,e.params)&&zL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Hy(t.parent,e.parent))}function oT(t){return typeof t.title=="string"||t.title===null}var g2=new Te(""),aT=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$e;activateEvents=new kn;deactivateEvents=new kn;attachEvents=new kn;detachEvents=new kn;routerOutletData=bi();parentContexts=ne(Gl);location=ne($i);changeDetector=ne(Na);inputBinder=ne(Ih,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,u=new Uy(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=rr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_a]})}return t})(),Uy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ba?this.route:e===Gl?this.childContexts:e===g2?this.outletData:this.parent.get(e,n)}},Ih=new Te("");var sT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Wn({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&gt(0,"router-outlet")},dependencies:[aT],encapsulation:2})}return t})();function Yy(t){let e=t.children&&t.children.map(Yy),n=e?ht(ge({},t),{children:e}):ge({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$e&&(n.component=sT),n}function v2(t,e,n){let r=$l(t,e._root,n?n._root:void 0);return new bh(r,e)}function $l(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=m2(t,e,n);return new yr(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>$l(t,s)),a}}let r=y2(e.value),i=e.children.map(o=>$l(t,o));return new yr(r,i)}}function m2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return $l(t,r,i);return $l(t,r)})}function y2(t){return new Ba(new Cn(t.url),new Cn(t.params),new Cn(t.queryParams),new Cn(t.fragment),new Cn(t.data),t.outlet,t.component,t)}var zl=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},uT="ngNavigationCancelingError";function Dh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lT(!1,sr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function lT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[uT]=!0,n.cancellationCode=e,n}function b2(t){return cT(t)&&zs(t.url)}function cT(t){return!!t&&t[uT]}var w2=(t,e,n,r)=>Tt(i=>(new $y(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$y=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ey(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vs(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vs(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ly(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Py(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ey(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ey(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Ch=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Us=class{component;route;constructor(e,n){this.component=e,this.route=n}};function E2(t,e,n){let r=t._root,i=e?e._root:null;return Fl(r,i,n,[r.value])}function D2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Zs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zg(t)?t:e.get(t):r}function Fl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vs(e);return t.children.forEach(a=>{C2(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Vl(s,n.getContext(a),i)),i}function C2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=S2(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ch(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Fl(t,e,s?s.children:null,r,i):Fl(t,e,n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Us(s.outlet.component,a))}else a&&Vl(e,s,i),i.canActivateChecks.push(new Ch(r)),o.component?Fl(t,null,s?s.children:null,r,i):Fl(t,null,n,r,i);return i}function S2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Fa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Fa(t.url,e.url)||!Ei(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hy(t,e)||!Ei(t.queryParams,e.queryParams);case"paramsChange":default:return!Hy(t,e)}}function Vl(t,e,n){let r=Vs(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Vl(a,e.children.getContext(o),n):Vl(a,null,n):Vl(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Us(e.outlet.component,i)):n.canDeactivateChecks.push(new Us(null,i)):n.canDeactivateChecks.push(new Us(null,i))}function Wl(t){return typeof t=="function"}function I2(t){return typeof t=="boolean"}function T2(t){return t&&Wl(t.canLoad)}function x2(t){return t&&Wl(t.canActivate)}function _2(t){return t&&Wl(t.canActivateChild)}function M2(t){return t&&Wl(t.canDeactivate)}function A2(t){return t&&Wl(t.canMatch)}function dT(t){return t instanceof na||t?.name==="EmptyError"}var lh=Symbol("INITIAL_VALUE");function Ws(){return ui(t=>Sg(t.map(e=>e.pipe(Fi(1),xg(lh)))).pipe(Tt(e=>{for(let n of e)if(n!==!0){if(n===lh)return lh;if(n===!1||R2(n))return n}return!0}),si(e=>e!==lh),Fi(1)))}function R2(t){return zs(t)||t instanceof zl}function fT(t){return t.aborted?et(void 0).pipe(Fi(1)):new at(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function hT(t){return Bu(fT(t))}function N2(t,e){return Hn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?et(ht(ge({},n),{guardsResult:!0})):O2(a,r,i,t).pipe(Hn(s=>s&&I2(s)?k2(r,o,t,e):et(s)),Tt(s=>ht(ge({},n),{guardsResult:s})))})}function O2(t,e,n,r){return pn(t).pipe(Hn(i=>V2(i.component,i.route,n,e,r)),Li(i=>i!==!0,!0))}function k2(t,e,n,r){return pn(e).pipe(Cd(i=>bs(F2(i.route.parent,r),P2(i.route,r),B2(t,i.path,n),L2(t,i.route,n))),Li(i=>i!==!0,!0))}function P2(t,e){return t!==null&&e&&e(new Fy(t)),et(!0)}function F2(t,e){return t!==null&&e&&e(new ky(t)),et(!0)}function L2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return et(!0);let i=r.map(o=>Fu(()=>{let a=Ys(e)??n,s=Zs(o,a),u=x2(s)?s.canActivate(e,t):qn(a,()=>s(e,t));return Va(u).pipe(Li())}));return et(i).pipe(Ws())}function B2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>D2(a)).filter(a=>a!==null).map(a=>Fu(()=>{let s=a.guards.map(u=>{let l=Ys(a.node)??n,c=Zs(u,l),d=_2(c)?c.canActivateChild(r,t):qn(l,()=>c(r,t));return Va(d).pipe(Li())});return et(s).pipe(Ws())}));return et(o).pipe(Ws())}function V2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return et(!0);let a=o.map(s=>{let u=Ys(e)??i,l=Zs(s,u),c=M2(l)?l.canDeactivate(t,e,n,r):qn(u,()=>l(t,e,n,r));return Va(c).pipe(Li())});return et(a).pipe(Ws())}function j2(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return et(!0);let a=o.map(s=>{let u=Zs(s,t),l=T2(u)?u.canLoad(e,n):qn(t,()=>u(e,n)),c=Va(l);return i?c.pipe(hT(i)):c});return et(a).pipe(Ws(),pT(r))}function pT(t){return wg(Un(e=>{if(typeof e!="boolean")throw Dh(t,e)}),Tt(e=>e===!0))}function H2(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return et(!0);let a=o.map(s=>{let u=Zs(s,t),l=A2(u)?u.canMatch(e,n):qn(t,()=>u(e,n)),c=Va(l);return i?c.pipe(hT(i)):c});return et(a).pipe(Ws(),pT(r))}var ka=class gT extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,gT.prototype)}},zy=class vT extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,vT.prototype)}};function U2(t){throw new pe(4e3,!1)}function $2(t){throw lT(!1,sr.GuardRejected)}var z2=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[$e])throw U2(`${e.redirectTo}`);i=i.children[$e]}}async applyRedirectCommands(e,n,r,i,o){let a=await q2(n,i,o);if(a instanceof Di)throw new zy(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new zy(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Di(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,u])=>{a[s]=this.createSegmentGroup(e,u,r,i)}),new ct(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new pe(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function q2(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:u,params:l,data:c,title:d}=e;return hh(Va(qn(n,()=>r({params:l,data:c,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:u,title:d}))))}var qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G2(t,e,n,r,i,o){let a=mT(t,e,n);return a.matched?(r=f2(e,r),H2(r,e,n,i,o).pipe(Tt(s=>s===!0?a:ge({},qy)))):et(a)}function mT(t,e,n){if(e.path==="**")return W2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ge({},qy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VL)(n,t,e);if(!i)return ge({},qy);let o={};Object.entries(i.posParams??{}).forEach(([s,u])=>{o[s]=u.path});let a=i.consumed.length>0?ge(ge({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function W2(t){return{matched:!0,parameters:t.length>0?$I(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VI(t,e,n,r){return n.length>0&&K2(t,n,r)?{segmentGroup:new ct(e,Z2(r,new ct(n,t.children))),slicedSegments:[]}:n.length===0&&X2(t,n,r)?{segmentGroup:new ct(t.segments,Y2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ct(t.segments,t.children),slicedSegments:n}}function Y2(t,e,n,r){let i={};for(let o of n)if(Th(t,e,o)&&!r[Qr(o)]){let a=new ct([],{});i[Qr(o)]=a}return ge(ge({},r),i)}function Z2(t,e){let n={};n[$e]=e;for(let r of t)if(r.path===""&&Qr(r)!==$e){let i=new ct([],{});n[Qr(r)]=i}return n}function K2(t,e,n){return n.some(r=>Th(t,e,r)&&Qr(r)!==$e)}function X2(t,e,n){return n.some(r=>Th(t,e,r))}function Th(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Q2(t,e,n){return e.length===0&&!t.children[n]}var J2=class{};async function eB(t,e,n,r,i,o,a="emptyOnly",s){return new nB(t,e,n,r,i,a,o,s).recognize()}var tB=31,nB=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,s,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=u,this.applyRedirects=new z2(this.urlSerializer,this.urlTree)}noMatchError(e){return new pe(4002,`'${e.segmentGroup}'`)}async recognize(){let e=VI(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new yr(r,n),o=new Eh("",i),a=i2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(e){let n=new Hs([],Object.freeze({}),Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$e,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,$e,n),rootSnapshot:n}}catch(r){if(r instanceof zy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ka?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let a=await this.processSegment(e,n,r,r.segments,i,!0,o);return a instanceof yr?[a]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let a=[];for(let u of o){let l=r.children[u],c=h2(n,u),d=await this.processSegmentGroup(e,c,l,u,i);a.push(...d)}let s=yT(a);return rB(s),s}async processSegment(e,n,r,i,o,a,s){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,a,s)}catch(l){if(l instanceof ka||dT(l))continue;throw l}if(Q2(r,i,o))return new J2;throw new ka(r)}async processSegmentAgainstRoute(e,n,r,i,o,a,s,u){if(Qr(r)!==a&&(a===$e||!Th(i,o,r)))throw new ka(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,a,u);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,u);throw new ka(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,s){let{matched:u,parameters:l,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=mT(n,i,o);if(!u)throw new ka(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tB&&(this.allowRedirects=!1));let h=new Hs(o,l,Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,jI(i),Qr(i),i.component??i._loadedComponent??null,i,HI(i)),p=wh(h,s,this.paramsInheritanceStrategy);if(h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let m=await this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,h,e),g=await this.applyRedirects.lineralizeSegments(i,m);return this.processSegment(e,r,n,g.concat(f),a,!1,s)}async matchSegmentAgainstRoute(e,n,r,i,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await hh(G2(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!s?.matched)throw new ka(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:c,consumedSegments:d,remainingSegments:f}=s,h=new Hs(d,c,Object.freeze(ge({},this.urlTree.queryParams)),this.urlTree.fragment,jI(r),Qr(r),r.component??r._loadedComponent??null,r,HI(r)),p=wh(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let{segmentGroup:m,slicedSegments:g}=VI(n,d,f,u);if(g.length===0&&m.hasChildren()){let w=await this.processChildren(l,u,m,h);return new yr(h,w)}if(u.length===0&&g.length===0)return new yr(h,[]);let v=Qr(r)===o,y=await this.processSegment(l,u,m,g,v?$e:o,!0,h);return new yr(h,y instanceof yr?[y]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await hh(j2(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw $2(n)}return{routes:[],injector:e}}};function rB(t){t.sort((e,n)=>e.value.outlet===$e?-1:n.value.outlet===$e?1:e.value.outlet.localeCompare(n.value.outlet))}function iB(t){let e=t.value.routeConfig;return e&&e.path===""}function yT(t){let e=[],n=new Set;for(let r of t){if(!iB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=yT(r.children);e.push(new yr(r.value,i))}return e.filter(r=>!n.has(r))}function jI(t){return t.data||{}}function HI(t){return t.resolve||{}}var oB=new Te("",{factory:()=>eB});function aB(t,e,n,r,i,o,a){let s=t.get(oB);return Hn(u=>et(u).pipe(ui(l=>s(t,e,n,r,l.extractedUrl,i,o,a)),Tt(({state:l,tree:c})=>ht(ge({},u),{targetSnapshot:l,urlAfterRedirects:c}))))}function sB(t,e){return Hn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return et(n);let o=new Set(i.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let l of bT(u))a.add(l);let s=0;return pn(a).pipe(Cd(u=>o.has(u)?uB(u,r,t,e):(u.data=wh(u,u.parent,t).resolve,et(void 0))),Un(()=>s++),Sd(1),Hn(u=>s===a.size?et(n):tr))})}function bT(t){let e=t.children.map(n=>bT(n)).flat();return[t,...e]}function uB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oT(i)&&(o[ql]=i.title),Fu(()=>(t.data=wh(t,t.parent,n).resolve,lB(o,t,e,r).pipe(Tt(a=>(t._resolvedData=a,t.data=ge(ge({},t.data),a),null)))))}function lB(t,e,n,r){let i=Sy(t);if(i.length===0)return et({});let o={};return pn(i).pipe(Hn(a=>cB(t[a],e,n,r).pipe(Li(),Un(s=>{if(s instanceof zl)throw Dh(new La,s);o[a]=s}))),Sd(1),Tt(()=>o),Lu(a=>dT(a)?tr:Cg(a)))}function cB(t,e,n,r){let i=Ys(e)??r,o=Zs(t,i),a=o.resolve?o.resolve(e,n):qn(i,()=>o(e,n));return Va(a)}function Dy(t){return ui(e=>{let n=t(e);return n?pn(n).pipe(Tt(()=>e)):et(e)})}var wT=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$e);return r}getResolvedTitleForRoute(n){return n.data[ql]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>ne(dB),providedIn:"root"})}return t})(),dB=(()=>{class t extends wT{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ze(OI))};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xh=new Te("",{factory:()=>({})}),_h=new Te(""),ET=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ne(qm);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await zI(qn(n,()=>r.loadComponent())),a=await CT(DT(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await fB(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function fB(t,e,n,r){let i=await zI(qn(n,()=>t.loadChildren())),o=await CT(DT(i)),a;o instanceof Pf||Array.isArray(o)?a=o:a=await e.compileModuleAsync(o),r&&r(t);let s,u,l=!1;return Array.isArray(a)?(u=a,l=!0):(s=a.create(n).injector,u=s.get(_h,[],{optional:!0,self:!0}).flat()),{routes:u.map(Yy),injector:s}}function hB(t){return t&&typeof t=="object"&&"default"in t}function DT(t){return hB(t)?t.default:t}async function CT(t){return t}var Zy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>ne(pB),providedIn:"root"})}return t})(),pB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ST=new Te("");var gB=()=>{},IT=new Te(""),TT=(()=>{class t{currentNavigation=qe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=qe(null);events=new jt;transitionAbortWithErrorSubject=new jt;configLoader=ne(ET);environmentInjector=ne(In);destroyRef=ne(gr);urlSerializer=ne(Sh);rootContexts=ne(Gl);location=ne(Bs);inputBindingEnabled=ne(Ih,{optional:!0})!==null;titleStrategy=ne(wT);options=ne(xh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ne(Zy);createViewTransition=ne(ST,{optional:!0});navigationErrorHandler=ne(IT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>et(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Ny(i)),r=i=>this.events.next(new Oy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Wr(()=>{this.transitions?.next(ht(ge({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Cn(null),this.transitions.pipe(si(r=>r!==null),ui(r=>{let i=!1,o=new AbortController;return et(r).pipe(ui(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",sr.SupersededByNewNavigation),tr;this.currentTransition=r;let s=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:s?ht(ge({},s),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new _o(a.id,this.urlSerializer.serialize(a.rawUrl),"",vh.IgnoredSameUrlNavigation)),a.resolve(!1),tr;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return et(a).pipe(ui(c=>(this.events.next(new qs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?tr:Promise.resolve(c))),aB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Un(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=c.urlAfterRedirects,f));let d=new mh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:c,extractedUrl:d,source:f,restoredState:h,extras:p}=a,m=new qs(c,this.urlSerializer.serialize(d),f,h);this.events.next(m);let g=rT(this.rootComponentType).snapshot;return this.currentTransition=r=ht(ge({},a),{targetSnapshot:g,urlAfterRedirects:d,extras:ht(ge({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(v=>(v.finalUrl=d,v)),et(r)}else return this.events.next(new _o(a.id,this.urlSerializer.serialize(a.extractedUrl),"",vh.IgnoredByUrlHandlingStrategy)),a.resolve(!1),tr}),Un(a=>{let s=new _y(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Tt(a=>(this.currentTransition=r=ht(ge({},a),{guards:E2(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),N2(this.environmentInjector,a=>this.events.next(a)),Un(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Dh(this.urlSerializer,a.guardsResult);let s=new My(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),si(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",sr.GuardRejected),!1)),Dy(a=>{if(a.guards.canActivateChecks.length!==0)return et(a).pipe(Un(s=>{let u=new Ay(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}),ui(s=>{let u=!1;return et(s).pipe(sB(this.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(s,"",sr.NoDataFromResolver)}}))}),Un(s=>{let u=new Ry(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}))}),Dy(a=>{let s=l=>{let c=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=Ys(l)??this.environmentInjector;c.push(this.configLoader.loadComponent(d,l.routeConfig).then(f=>{l.component=f}))}for(let d of l.children)c.push(...s(d));return c},u=s(a.targetSnapshot.root);return u.length===0?et(a):pn(Promise.all(u).then(()=>a))}),Dy(()=>this.afterPreactivation()),ui(()=>{let{currentSnapshot:a,targetSnapshot:s}=r,u=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return u?pn(u).pipe(Tt(()=>r)):et(r)}),Tt(a=>{let s=v2(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=ht(ge({},a),{targetRouterState:s}),this.currentNavigation.update(u=>(u.targetRouterState=s,u)),r}),Un(()=>{this.events.next(new Ul)}),w2(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Fi(1),Bu(fT(o.signal).pipe(si(()=>!i&&!r.targetRouterState),Un(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",sr.Aborted)}))),Un({next:a=>{i=!0,this.currentNavigation.update(s=>(s.abort=gB,s)),this.lastSuccessfulNavigation.set(Wr(this.currentNavigation)),this.events.next(new xo(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),Bu(this.transitionAbortWithErrorSubject.pipe(Un(a=>{throw a}))),Tg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",sr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Lu(a=>{if(this.destroyed)return r.resolve(!1),tr;if(i=!0,cT(a))this.events.next(new Wi(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),b2(a)?this.events.next(new Gs(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Hl(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let u=qn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(u instanceof zl){let{message:l,cancellationCode:c}=Dh(this.urlSerializer,u);this.events.next(new Wi(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Gs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return tr}))}))}cancelNavigationTransition(n,r,i){let o=new Wi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Wr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vB(t){return t!==Bl}var mB=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>ne(yB),providedIn:"root"})}return t})(),Gy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},yB=(()=>{class t extends Gy{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Do(t)))(i||t)}})();static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ky=(()=>{class t{urlSerializer=ne(Sh);options=ne(xh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=ne(Bs);urlHandlingStrategy=ne(Zy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Di;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof Di?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=rT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:()=>ne(xT),providedIn:"root"})}return t})(),xT=(()=>{class t extends Ky{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof qs?this.updateStateMemento():n instanceof _o?this.commitTransition(r):n instanceof mh?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ul?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Wi&&n.code!==sr.SupersededByNewNavigation&&n.code!==sr.Redirect?this.restoreHistory(r):n instanceof Hl?this.restoreHistory(r,!0):n instanceof xo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,u=ge(ge({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",u)}else{let s=ge(ge({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Do(t)))(i||t)}})();static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _T(t,e){t.events.pipe(si(n=>n instanceof xo||n instanceof Wi||n instanceof Hl||n instanceof _o),Tt(n=>n instanceof xo||n instanceof _o?0:(n instanceof Wi?n.code===sr.Redirect||n.code===sr.SupersededByNewNavigation:!1)?2:1),si(n=>n!==2),Fi(1)).subscribe(()=>{e()})}var bB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xy=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ne(Lm);stateManager=ne(Ky);options=ne(xh,{optional:!0})||{};pendingTasks=ne(bo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ne(TT);urlSerializer=ne(Sh);location=ne(Bs);urlHandlingStrategy=ne(Zy);injector=ne(In);_events=new jt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ne(mB);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ne(_h,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ne(Ih,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Dn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Wr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Wi&&r.code!==sr.Redirect&&r.code!==sr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xo)this.navigated=!0;else if(r instanceof Gs){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=ge({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vB(i.source)},a);this.scheduleNavigation(s,Bl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}d2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=ge({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(u=>{this.disposed||this.injector.get(Gr)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Wr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Yy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,c=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":c=ge(ge({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=JI(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return eT(d,n,c,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=zs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bl,null,r)}navigate(n,r={skipLocationChange:!1}){return EB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(sa(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=ge({},bB):r===!1?i=ge({},wB):i=r,zs(n))return kI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return kI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,u,l;a?(s=a.resolve,u=a.reject,l=a.promise):l=new Promise((d,f)=>{s=d,u=f});let c=this.pendingTasks.add();return _T(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new pe(4008,!1)}var DB=new Te("");function Qy(t,...e){return fa([{provide:_h,multi:!0,useValue:t},[],{provide:Ba,useFactory:CB},{provide:Lf,multi:!0,useFactory:SB},e.map(n=>n.\u0275providers)])}function CB(){return ne(Xy).routerState.root}function SB(){let t=ne(zn);return e=>{let n=t.get(Co);if(e!==n.components[0])return;let r=t.get(Xy),i=t.get(IB);t.get(TB)===1&&r.initialNavigation(),t.get(xB,null,{optional:!0})?.setUpPreloading(),t.get(DB,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IB=new Te("",{factory:()=>new jt}),TB=new Te("",{factory:()=>1});var xB=new Te("");var MT=[];var AT={providers:[Rv(),Qy(MT)]};function MB(t,e){if(t&1){let n=yi();Mr(0,"button",3),Vf("click",function(){let i=Ir(n).$implicit,o=Be();return Tr(o.toggleFilter(i))}),Ce(1),mr()}if(t&2){let n=e.$implicit,r=Be();Et("btn-primary",r.activeFilters().includes(n)),oe(),Lt(" ",n," ")}}function AB(t,e){if(t&1&&(Mr(0,"li",4)(1,"pre",5),Ce(2),mr()()),t&2){let n=Be().$implicit,r=Be();oe(2),Zt(r.JSON.stringify(n,null,2))}}function RB(t,e){if(t&1&&$t(0,AB,3,1,"li",4),t&2){let n=e.$implicit;zt(n?0:-1)}}var Jy=class t{inputs=bi.required();msgs=qe([]);JSON=JSON;filters=qe(["Insert"]);activeFilters=qe([]);constructor(){Ea(()=>{let e=this.inputs();e&&(this.filters().includes(e.type)||(this.filters.update(n=>[...n,e.type]),this.activeFilters.update(n=>[...n,e.type])),this.activeFilters().includes(e.type)&&this.msgs.update(n=>[...n,e].slice(-5)))})}toggleFilter(e){this.activeFilters.update(n=>n.includes(e)?n.filter(r=>r!==e):[...n,e])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Wn({type:t,selectors:[["app-events"]],inputs:{inputs:[1,"inputs"]},decls:6,vars:0,consts:[[1,"flex","flex-wrap","gap-2","mb-4"],[1,"btn","btn-sm","rounded-full",3,"btn-primary"],[1,"list","bg-base-100","rounded-box","shadow-md"],[1,"btn","btn-sm","rounded-full",3,"click"],[1,"list-row"],[1,"whitespace-pre-wrap","wrap-break-word"]],template:function(n,r){n&1&&(Mr(0,"div",0),rn(1,MB,2,3,"button",1,Um),mr(),Mr(3,"ul",2),rn(4,RB,1,1,null,null,_r),mr()),n&2&&(oe(),on(r.filters()),oe(3),on(r.msgs()))},encapsulation:2})},RT=Jy;var Mh=class t{constructor(e){this.zone=e;this.initEventsConnection(),this.initQueueConnection(),this.initStatisticsConnection(),this.initThreadsConnection()}_events=qe(null);events=this._events.asReadonly();_queues=qe(null);queues=this._queues.asReadonly();connectedThreads=qe(!1);connected=Io(()=>this.connectedQueues()&&this.connectedEvents()&&this.connectedStatistics()&&this.connectedThreads());_threads=qe(null);threads=this._threads.asReadonly();connectedStatistics=qe(!1);connectedEvents=qe(!1);connectedQueues=qe(!1);$statistics=new jt;initEventsConnection(){let e=new WebSocket("ws://localhost:3131/events");e.onmessage=n=>{this.zone.run(()=>{this.connectedEvents.set(!0);let r=JSON.parse(n.data);this._events.set(r)})},e.onclose=()=>{this.connectedEvents.set(!1),console.warn("Disconnected from Rust. Retrying in 2s..."),setTimeout(()=>this.initEventsConnection(),2e3)}}initQueueConnection(){let e=new WebSocket("ws://localhost:3131/queues");e.onmessage=n=>{this.zone.run(()=>{this.connectedQueues.set(!0);let r=JSON.parse(n.data);this._queues.set(r)})},e.onclose=()=>{this.connectedQueues.set(!1),console.warn("Disconnected from Rust. Retrying in 2s..."),setTimeout(()=>this.initQueueConnection(),2e3)}}initStatisticsConnection(){let e=new WebSocket("ws://localhost:3131/statistics");e.onmessage=n=>{this.zone.run(()=>{this.connectedStatistics.set(!0);let r=JSON.parse(n.data);this.$statistics.next(r)})},e.onclose=()=>{this.connectedStatistics.set(!1),console.warn("Disconnected from Rust. Retrying in 2s..."),setTimeout(()=>this.initStatisticsConnection(),2e3)}}initThreadsConnection(){let e=new WebSocket("ws://localhost:3131/threads");e.onmessage=n=>{this.zone.run(()=>{this.connectedThreads.set(!0),this._threads.set(n.data)})},e.onclose=()=>{this.connectedThreads.set(!1),console.warn("Disconnected from Rust. Retrying in 2s..."),setTimeout(()=>this.initThreadsConnection(),2e3)}}static \u0275fac=function(n){return new(n||t)(ze(gn))};static \u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})};var e0=t=>[t],NB=(t,e)=>e[0],NT=(t,e)=>e[0]+e[1];function OB(t,e){if(t&1&&(ae(0,"div",3)(1,"div",11),gt(2,"img",12),ie()()),t&2){Be();let n=Dl(0);oe(2),Pt("ngSrc",n)}}function kB(t,e){if(t&1&&(ae(0,"span",8),Ce(1),zi(2,"number"),ie()),t&2){let n=e.$implicit;oe(),Lt("",So(2,1,n)," IDs/sec")}}function PB(t,e){if(t&1&&(ae(0,"span",8),Ce(1),zi(2,"number"),ie()),t&2){let n=e.$implicit;oe(),Lt("",So(2,1,n)," IDs/sec")}}function FB(t,e){if(t&1&&(ae(0,"div",16)(1,"span",17),Ce(2),ie(),ae(3,"span",18),Ce(4),zi(5,"number"),ie()()),t&2){let n=e.$implicit;oe(2),Zt(n[2]),oe(2),Zt(So(5,2,n[3]))}}function LB(t,e){if(t&1&&(ae(0,"div")(1,"div",13)(2,"span"),Ce(3,"Plain"),ie(),gt(4,"div",14),ie(),ae(5,"div",15),rn(6,FB,6,4,"div",16,NT),ie()()),t&2){Be();let n=Dl(1);oe(6),on(n)}}function BB(t,e){if(t&1&&(ae(0,"span",23),Ce(1),zi(2,"number"),ie()),t&2){let n=e.$implicit;oe(),Lt(" ",So(2,1,n)," ")}}function VB(t,e){if(t&1&&(ae(0,"div",22)(1,"span",17),Ce(2),ie(),rn(3,BB,3,3,"span",23,_r),ie()),t&2){let n=e.$implicit;oe(2),Zt(n[2]),oe(),on(Cl(1,e0,n[3]))}}function jB(t,e){if(t&1&&(ae(0,"div")(1,"div",19)(2,"span"),Ce(3,"Mapped"),ie(),gt(4,"div",20),ie(),ae(5,"div",21),rn(6,VB,5,3,"div",22,NT),ie()()),t&2){Be();let n=Dl(2);oe(6),on(n)}}function HB(t,e){if(t&1&&(qf(0)(1)(2),ae(3,"div",1)(4,"div",2),$t(5,OB,3,1,"div",3),ae(6,"span",4),Ce(7),ie(),gt(8,"span",5),ae(9,"div",6)(10,"span",7),Ce(11,"PLAIN"),ie(),rn(12,kB,3,3,"span",8,_r),ie(),ae(14,"div",9)(15,"span",7),Ce(16,"MAPPED"),ie(),rn(17,PB,3,3,"span",8,_r),ie()(),ae(19,"div",10),$t(20,LB,8,0,"div"),$t(21,jB,8,0,"div"),ie()()),t&2){let n=e.$implicit,r=Be(),i=El(r.getImage(n[0]));oe();let o=El(r.plainStatistics().get(n[0]));oe();let a=El(r.mappedStatistics().get(n[0]));oe(3),zt(i?5:-1);let s=r.getTp(n[0]);oe(2),Zt(n[0]),oe(5),on(Cl(7,e0,s.plain)),oe(5),on(Cl(9,e0,s.mapped)),oe(3),zt(o!=null&&o.length?20:-1),oe(),zt(a!=null&&a.length?21:-1)}}var Ah=class t{inputs=bi.required();queue$=new jt;plainStatistics=qe(new Map);mappedStatistics=qe(new Map);tps=qe(new Map);ngOnInit(){this.inputs().subscribe(e=>{this.processData(e)})}processData(e){if(e.type==="Throughput"){let r=e.data;this.tps.update(i=>{let o=new Map(i);for(let a in r.tps)o.set(a,r.tps[a]);return o});return}let n=e.data;n&&this.updateStats(n)}updateStats(e){this.plainStatistics.update(n=>{let r=new Map(n);for(let i in e.engines){let[o,a]=e.engines[i],s=[...o].filter(u=>u[1]==="Plain").sort((u,l)=>u[0]-l[0]);r.set(a,s)}return r}),this.mappedStatistics.update(n=>{let r=new Map(n);for(let i in e.engines){let[o,a]=e.engines[i],s=[...o].filter(u=>u[1]==="Mapped").sort((u,l)=>u[0]-l[0]);r.set(a,s)}return r})}getImage(e){let n=e.toLowerCase();return n.includes("neo")?"/assets/neo.png":n.includes("mongo")?"/assets/mongo.png":n.includes("postgres")?"/assets/pg.png":null}getTp(e){return this.tps().get(e)||{plain:0,mapped:0}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Wn({type:t,selectors:[["app-statistics"]],inputs:{inputs:[1,"inputs"]},decls:3,vars:0,consts:[[1,"flex","flex-col","gap-4"],[1,"card","bg-base-100","border","border-base-300","shadow-sm","overflow-hidden"],[1,"bg-base-200/50","px-3","py-2","flex","items-center","gap-3","border-b","border-base-300"],[1,"avatar","shrink-0"],[1,"text-sm","font-bold","truncate","uppercase","tracking-tight"],[1,"grow"],[1,"badge","badge-outline","badge-secondary","gap-2"],[1,"opacity-70","text-[10px]"],[1,"font-mono","animate-update"],[1,"badge","badge-soft","badge-accent","gap-2"],[1,"p-3","flex","flex-col","gap-4"],[1,"w-8","h-8","rounded","bg-black/20","p-1"],["alt","","fill","",1,"logo-outline","object-contain",3,"ngSrc"],[1,"text-[14px]","font-black","uppercase","text-primary","mb-2","flex","items-center","gap-2"],[1,"h-px","grow","bg-primary/10"],[1,"grid","grid-cols-3","gap-2"],[1,"flex","flex-col","border-l-2","border-primary/30","pl-2"],[1,"text-[14px]","opacity-60","truncate"],[1,"text-xl","font-mono","font-bold","leading-none"],[1,"text-[14px]","font-black","uppercase","text-accent","mb-2","flex","items-center","gap-2"],[1,"h-px","grow","bg-accent/10"],[1,"grid","grid-cols-2","gap-2"],[1,"flex","flex-col","border-l-2","border-accent/30","pl-2"],[1,"text-xl","font-mono","font-bold","leading-none","animate-update"]],template:function(n,r){n&1&&(ae(0,"div",0),rn(1,HB,22,11,"div",1,NB),ie()),n&2&&(oe(),on(r.plainStatistics()))},dependencies:[II,ly],styles:[".logo-outline[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0 white) drop-shadow(-1px -1px 0 white) drop-shadow(0 0 8px rgba(255,255,255,.3))}@keyframes _ngcontent-%COMP%_flash-update{0%{transform:scale(1.1);font-weight:900}to{transform:scale(1);font-weight:inherit}}.animate-update[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_flash-update .8s ease-out}"]})};var UB=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(xt(Ui),xt(vr))};static \u0275dir=rr({type:t})}return t})(),kT=(()=>{class t extends UB{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Do(t)))(i||t)}})();static \u0275dir=rr({type:t,features:[Ps]})}return t})(),PT=new Te("");var $B=new Te("",{factory:()=>FT}),FT="always";var zB={provide:PT,useExisting:la(()=>BT),multi:!0};function LT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qB(t){return t.split(":")[0]}var BT=(()=>{class t extends kT{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=ne(Co).injector;destroyRef=ne(gr);cdr=ne(Na);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,_f({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=LT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=qB(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Do(t)))(i||t)}})();static \u0275dir=rr({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Rt("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gf([zB]),Ps]})}return t})(),VT=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(LT(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(xt(vr),xt(Ui),xt(BT,9))};static \u0275dir=rr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),GB={provide:PT,useExisting:la(()=>jT),multi:!0};function OT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function WB(t){return t.split(":")[0]}var jT=(()=>{class t extends kT{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let u=a[s],l=this._getOptionValue(u.value);i.push(l)}}else{let a=r.options;for(let s=0;s<a.length;s++){let u=a[s];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=WB(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Do(t)))(i||t)}})();static \u0275dir=rr({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Rt("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gf([GB]),Ps]})}return t})(),HT=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(OT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(OT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(xt(vr),xt(Ui),xt(jT,9))};static \u0275dir=rr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var YB=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Aa({type:t});static \u0275inj=fo({})}return t})();var UT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$B,useValue:n.callSetDisabledState??FT}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Aa({type:t});static \u0275inj=fo({imports:[YB]})}return t})();var Ci=new Int32Array(2),Rh=new Float32Array(Ci.buffer),Nh=new Float64Array(Ci.buffer),Ks=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Oh=(function(t){return t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING",t})(Oh||{});var Mo=class t{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new t(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Ci[0]=this.readInt32(e),Rh[0]}readFloat64(e){return Ci[Ks?0:1]=this.readInt32(e),Ci[Ks?1:0]=this.readInt32(e+4),Nh[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){Rh[0]=n,this.writeInt32(e,Ci[0])}writeFloat64(e,n){Nh[0]=n,this.writeInt32(e,Ci[Ks?0:1]),this.writeInt32(e+4,Ci[Ks?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<4;n++)e+=String.fromCharCode(this.readInt8(this.position_+4+n));return e}__offset(e,n){let r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);let r=this.readInt32(e);e+=4;let i=this.bytes_.subarray(e,e+r);return n===Oh.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+4}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=4)throw new Error("FlatBuffers: file identifier must be length "+4);for(let n=0;n<4;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+4+n))return!1;return!0}createScalarList(e,n){let r=[];for(let i=0;i<n;++i){let o=e(i);o!==null&&r.push(o)}return r}createObjList(e,n){let r=[];for(let i=0;i<n;++i){let o=e(i);o!==null&&r.push(o.unpack())}return r}};var Yl=class t{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=Mo.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);let r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){let i=this.bb.capacity();this.bb=t.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){let n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let r=n<<1,i=Mo.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(4,0),this.writeInt32(this.offset()-e+4)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let e=this.offset(),n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);let r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);let i=2;this.addInt16(e-this.object_start);let o=(r+i)*2;this.addInt16(o);let a=0,s=this.space;e:for(n=0;n<this.vtables.length;n++){let u=this.bb.capacity()-this.vtables[n];if(o==this.bb.readInt16(u)){for(let l=2;l<o;l+=2)if(this.bb.readInt16(s+l)!=this.bb.readInt16(u+l))continue e;a=this.vtables[n];break}}return a?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,a-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){let i=r?4:0;if(n){let o=n;if(this.prep(this.minalign,8+i),o.length!=4)throw new TypeError("FlatBuffers: file identifier must be length "+4);for(let a=3;a>=0;a--)this.writeInt8(o.charCodeAt(a))}this.prep(this.minalign,4+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){let r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(4,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);let n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){let n=[];for(let r=0;r<e.length;++r){let i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var de={};fR(de,{Array:()=>ic,Bool:()=>Zl,Date:()=>Kl,Dict:()=>Xl,DictEntry:()=>Si,Edge:()=>Ql,Float:()=>Jl,Int:()=>ec,Message:()=>Fh,Node:()=>tc,Text:()=>nc,Time:()=>rc,Value:()=>Ii,ValueData:()=>Ph});var Zl=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}value(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startBool(e){e.startObject(1)}static addValue(e,n){e.addFieldInt8(0,+n,0)}static endBool(e){return e.endObject()}static createBool(e,n){return t.startBool(e),t.addValue(e,n),t.endBool(e)}};var Kl=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}days(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}static startDate(e){e.startObject(1)}static addDays(e,n){e.addFieldInt64(0,n,BigInt("0"))}static endDate(e){return e.endObject()}static createDate(e,n){return t.startDate(e),t.addDays(e,n),t.endDate(e)}};var Si=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictEntry(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictEntry(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}key(e){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new Ii).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startDictEntry(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endDictEntry(e){return e.endObject()}};var Xl=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDict(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDict(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}entries(e,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new Si).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}entriesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startDict(e){e.startObject(1)}static addEntries(e,n){e.addFieldOffset(0,n,0)}static createEntriesVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startEntriesVector(e,n){e.startVector(4,n,4)}static endDict(e){return e.endObject()}static createDict(e,n){return t.startDict(e),t.addEntries(e,n),t.endDict(e)}};var Ql=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsEdge(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsEdge(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}label(e){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}startId(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint64(this.bb_pos+e):BigInt("0")}endId(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint64(this.bb_pos+e):BigInt("0")}properties(e,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new Si).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}propertiesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startEdge(e){e.startObject(5)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addLabel(e,n){e.addFieldOffset(1,n,0)}static addStartId(e,n){e.addFieldInt64(2,n,BigInt("0"))}static addEndId(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addProperties(e,n){e.addFieldOffset(4,n,0)}static createPropertiesVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startPropertiesVector(e,n){e.startVector(4,n,4)}static endEdge(e){return e.endObject()}static createEdge(e,n,r,i,o,a){return t.startEdge(e),t.addId(e,n),t.addLabel(e,r),t.addStartId(e,i),t.addEndId(e,o),t.addProperties(e,a),t.endEdge(e)}};var Jl=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloat(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloat(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}number(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}shift(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):0}static startFloat(e){e.startObject(2)}static addNumber(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addShift(e,n){e.addFieldInt8(1,n,0)}static endFloat(e){return e.endObject()}static createFloat(e,n,r){return t.startFloat(e),t.addNumber(e,n),t.addShift(e,r),t.endFloat(e)}};var ec=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}value(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}static startInt(e){e.startObject(1)}static addValue(e,n){e.addFieldInt64(0,n,BigInt("0"))}static endInt(e){return e.endObject()}static createInt(e,n){return t.startInt(e),t.addValue(e,n),t.endInt(e)}};var tc=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNode(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}labels(e,n){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+e*4,n):null}labelsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}properties(e,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new Si).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}propertiesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addLabels(e,n){e.addFieldOffset(1,n,0)}static createLabelsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startLabelsVector(e,n){e.startVector(4,n,4)}static addProperties(e,n){e.addFieldOffset(2,n,0)}static createPropertiesVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startPropertiesVector(e,n){e.startVector(4,n,4)}static endNode(e){return e.endObject()}static createNode(e,n,r,i){return t.startNode(e),t.addId(e,n),t.addLabels(e,r),t.addProperties(e,i),t.endNode(e)}};var nc=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsText(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsText(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}value(e){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}static startText(e){e.startObject(1)}static addValue(e,n){e.addFieldOffset(0,n,0)}static endText(e){return e.endObject()}static createText(e,n){return t.startText(e),t.addValue(e,n),t.endText(e)}};var rc=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}ms(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}ns(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint32(this.bb_pos+e):0}static startTime(e){e.startObject(2)}static addMs(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNs(e,n){e.addFieldInt32(1,n,0)}static endTime(e){return e.endObject()}static createTime(e,n,r){return t.startTime(e),t.addMs(e,n),t.addNs(e,r),t.endTime(e)}};var Ph=(d=>(d[d.NONE=0]="NONE",d[d.Int=1]="Int",d[d.Float=2]="Float",d[d.Bool=3]="Bool",d[d.Text=4]="Text",d[d.Time=5]="Time",d[d.Date=6]="Date",d[d.Array=7]="Array",d[d.Dict=8]="Dict",d[d.Node=9]="Node",d[d.Edge=10]="Edge",d))(Ph||{});var Ii=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsValue(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValue(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}dataType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):0}data(e){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__union(e,this.bb_pos+n):null}static startValue(e){e.startObject(2)}static addDataType(e,n){e.addFieldInt8(0,n,0)}static addData(e,n){e.addFieldOffset(1,n,0)}static endValue(e){return e.endObject()}static createValue(e,n,r){return t.startValue(e),t.addDataType(e,n),t.addData(e,r),t.endValue(e)}};var ic=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsArray(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsArray(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}values(e,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new Ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}valuesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startArray(e){e.startObject(1)}static addValues(e,n){e.addFieldOffset(0,n,0)}static createValuesVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startValuesVector(e,n){e.startVector(4,n,4)}static endArray(e){return e.endObject()}static createArray(e,n){return t.startArray(e),t.addValues(e,n),t.endArray(e)}};var Fh=class t{bb=null;bb_pos=0;__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}topics(e,n){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+e*4,n):null}topicsLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}payload(e,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}payloadLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}timestamp(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}static startMessage(e){e.startObject(3)}static addTopics(e,n){e.addFieldOffset(0,n,0)}static createTopicsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startTopicsVector(e,n){e.startVector(4,n,4)}static addPayload(e,n){e.addFieldOffset(1,n,0)}static createPayloadVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startPayloadVector(e,n){e.startVector(4,n,4)}static addTimestamp(e,n){e.addFieldInt64(2,n,BigInt("0"))}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i){return t.startMessage(e),t.addTopics(e,n),t.addPayload(e,r),t.addTimestamp(e,i),t.endMessage(e)}};var oc=class t{static pack(e,n=[],r=Date.now()){let i=new Yl(1024),o=0;if(e.length>0){let u=e.map(l=>t.toOffset(i,l));o=de.Message.createPayloadVector(i,u)}let a=0;if(n.length>0){let u=n.map(l=>i.createString(l));a=de.Message.createTopicsVector(i,u)}de.Message.startMessage(i),de.Message.addPayload(i,o),de.Message.addTimestamp(i,BigInt(r)),a!==0&&de.Message.addTopics(i,a);let s=de.Message.endMessage(i);return de.Message.finishMessageBuffer(i,s),i.asUint8Array()}static toOffset(e,n){let r=de.ValueData.NONE,i=0;switch(n.type){case"Int":r=de.ValueData.Int,i=de.Int.createInt(e,n.value);break;case"Float":r=de.ValueData.Float,i=de.Float.createFloat(e,n.number,n.shift);break;case"Bool":r=de.ValueData.Bool,i=de.Bool.createBool(e,n.value);break;case"Text":let o=e.createString(n.value);r=de.ValueData.Text,i=de.Text.createText(e,o);break;case"Time":r=de.ValueData.Time,i=de.Time.createTime(e,n.ms,n.ns);break;case"Date":r=de.ValueData.Date,i=de.Date.createDate(e,n.days);break;case"Array":let a=n.values.map(v=>t.toOffset(e,v)),s=de.Array.createValuesVector(e,a);r=de.ValueData.Array,i=de.Array.createArray(e,s);break;case"Dict":let u=Object.entries(n.entries).map(([v,y])=>{let w=e.createString(v),b=t.toOffset(e,y);return de.DictEntry.startDictEntry(e),de.DictEntry.addKey(e,w),de.DictEntry.addValue(e,b),de.DictEntry.endDictEntry(e)}),l=de.Dict.createEntriesVector(e,u);r=de.ValueData.Dict,i=de.Dict.createDict(e,l);break;case"Node":let c=n.labels.map(v=>e.createString(v)),d=de.Node.createLabelsVector(e,c),f=Object.entries(n.properties).map(([v,y])=>{let w=e.createString(v),b=t.toOffset(e,y);return de.DictEntry.startDictEntry(e),de.DictEntry.addKey(e,w),de.DictEntry.addValue(e,b),de.DictEntry.endDictEntry(e)}),h=de.Node.createPropertiesVector(e,f);r=de.ValueData.Node,i=de.Node.createNode(e,n.id,d,h);break;case"Edge":let p=e.createString(n.label),m=Object.entries(n.properties).map(([v,y])=>{let w=e.createString(v),b=t.toOffset(e,y);return de.DictEntry.startDictEntry(e),de.DictEntry.addKey(e,w),de.DictEntry.addValue(e,b),de.DictEntry.endDictEntry(e)}),g=de.Edge.createPropertiesVector(e,m);r=de.ValueData.Edge,i=de.Edge.createEdge(e,n.id,p,n.startId,n.endId,g);break;case"Null":r=de.ValueData.NONE,i=0;break}return de.Value.startValue(e),de.Value.addDataType(e,r),r!==de.ValueData.NONE&&de.Value.addData(e,i),de.Value.endValue(e)}static unpack(e){let n=new Mo(e),r=de.Message.getRootAsMessage(n),i=[];for(let o=0;o<r.payloadLength();o++){let a=r.payload(o);a&&i.push(t.fromFB(a))}return i}static fromFB(e){switch(e.dataType()){case de.ValueData.Int:return{type:"Int",value:e.data(new de.Int).value()};case de.ValueData.Float:{let r=e.data(new de.Float);return{type:"Float",number:r.number(),shift:r.shift()}}case de.ValueData.Bool:return{type:"Bool",value:e.data(new de.Bool).value()};case de.ValueData.Text:return{type:"Text",value:e.data(new de.Text).value()||""};case de.ValueData.Time:{let r=e.data(new de.Time);return{type:"Time",ms:r.ms(),ns:r.ns()}}case de.ValueData.Date:return{type:"Date",days:e.data(new de.Date).days()};case de.ValueData.Array:{let r=e.data(new de.Array),i=[],o=r.valuesLength();for(let a=0;a<o;a++){let s=r.values(a);s&&i.push(t.fromFB(s))}return{type:"Array",values:i}}case de.ValueData.Dict:{let r=e.data(new de.Dict);return{type:"Dict",entries:t.unpackProperties(i=>r.entries(i),r.entriesLength())}}case de.ValueData.Node:{let r=e.data(new de.Node),i=[],o=r.labelsLength();for(let a=0;a<o;a++){let s=r.labels(a);s!==null&&i.push(s)}return{type:"Node",id:r.id(),labels:i,properties:t.unpackProperties(a=>r.properties(a),r.propertiesLength())}}case de.ValueData.Edge:{let r=e.data(new de.Edge);return{type:"Edge",id:r.id(),label:r.label()||"",startId:r.startId(),endId:r.endId(),properties:t.unpackProperties(i=>r.properties(i),r.propertiesLength())}}case de.ValueData.NONE:default:return{type:"Null"}}}static unpackProperties(e,n){let r={};for(let i=0;i<n;i++){let o=e(i);if(o&&o.key()){let a=o.value();a&&(r[o.key()]=t.fromFB(a))}}return r}};function KB(t,e){if(t&1&&(ae(0,"span"),Ce(1),ie()),t&2){let n=Be().$implicit;oe(),Zt(n.values[0].value)}}function XB(t,e){if(t&1&&(ae(0,"span",25),Ce(1),ie()),t&2){let n=Be().$implicit;oe(),Zt(n.values[0].value)}}function QB(t,e){if(t&1&&(ae(0,"div",28),Ce(1),ie()),t&2){let n=Be().$implicit;Et("badge-success",n.values[0].value)("badge-error",!n.values[0].value),oe(),Lt(" ",n.values[0].value," ")}}function JB(t,e){if(t&1&&(ae(0,"span",27),Ce(1),ie()),t&2){let n=Be().$implicit;oe(),Lt("ID: ",n.values[0].id)}}function eV(t,e){if(t&1&&(ae(0,"div",1)(1,"div",21)(2,"div",22),Ce(3),ie(),ae(4,"div",23)(5,"span",24),Ce(6),ie(),$t(7,KB,2,1,"span")(8,XB,2,1,"span",25)(9,QB,2,5,"div",26)(10,JB,2,1,"span",27),ie()()()),t&2){let n,r=e.$implicit;oe(3),Lt("Topic: ",r.topic),oe(3),Zt(r.values[0].type),oe(),zt((n=r.values[0].type)==="Text"?7:n==="Int"?8:n==="Bool"?9:n==="Node"?10:-1)}}function tV(t,e){if(t&1){let n=yi();ae(0,"div",11)(1,"input",29),Rt("change",function(){Ir(n);let i=Be();return Tr(i.boolValue.set(!i.boolValue()))}),ie()()}if(t&2){let n=Be();oe(),Pt("checked",n.boolValue())}}function nV(t,e){if(t&1){let n=yi();ae(0,"input",30),Rt("input",function(i){Ir(n);let o=Be();return Tr(o.intValue.set(i.target.value))}),ie()}if(t&2){let n=Be();Pt("value",n.intValue())}}function rV(t,e){if(t&1){let n=yi();ae(0,"input",31),Rt("input",function(i){Ir(n);let o=Be();return Tr(o.nodeId.set(i.target.value))}),ie(),ae(1,"input",32),Rt("input",function(i){Ir(n);let o=Be();return Tr(o.nodeLabels.set(i.target.value))}),ie()}if(t&2){let n=Be();Pt("value",n.nodeId()),oe(),Pt("value",n.nodeLabels())}}function iV(t,e){if(t&1){let n=yi();ae(0,"input",33),Rt("input",function(i){Ir(n);let o=Be();return Tr(o.textValue.set(i.target.value))}),ie()}if(t&2){let n=Be();Pt("value",n.textValue())}}function oV(t,e){if(t&1){let n=yi();ae(0,"button",34),Rt("click",function(){Ir(n);let i=Be();return Tr(i.stopListen())}),Ce(1,"Stop"),ie()}}function aV(t,e){if(t&1){let n=yi();ae(0,"button",15),Rt("click",function(){Ir(n);let i=Be();return Tr(i.listen())}),Ce(1,"Listen"),ie()}if(t&2){let n=Be();Pt("disabled",!n.recTopic())}}function sV(t,e){if(t&1&&(ae(0,"div",19),gt(1,"div",35),ae(2,"span",36),Ce(3),ie(),gt(4,"div",35),ie()),t&2){let n=Be();oe(3),Lt("Live Stream: ",n.recTopic())}}function uV(t,e){if(t&1&&(ae(0,"span"),Ce(1),ie()),t&2){let n=Be().$implicit;oe(),Zt(n.values[0].value)}}function lV(t,e){if(t&1&&(ae(0,"span",25),Ce(1),ie()),t&2){let n=Be().$implicit;oe(),Zt(n.values[0].value)}}function cV(t,e){if(t&1&&(ae(0,"div",28),Ce(1),ie()),t&2){let n=Be().$implicit;Et("badge-success",n.values[0].value)("badge-error",!n.values[0].value),oe(),Lt(" ",n.values[0].value," ")}}function dV(t,e){if(t&1&&(ae(0,"span",27),Ce(1),ie()),t&2){let n=Be().$implicit;oe(),Lt("ID: ",n.values[0].id)}}function fV(t,e){if(t&1&&(ae(0,"pre",37),Ce(1),ie()),t&2){let n=Be().$implicit,r=Be();oe(),Zt(r.JSON.stringify(n.values[0]))}}function hV(t,e){if(t&1&&(ae(0,"pre",37),Ce(1),ie()),t&2){let n=Be().$implicit,r=Be();oe(),Zt(r.JSON.stringify(n.values[0]))}}function pV(t,e){if(t&1&&(ae(0,"div",16)(1,"div",21)(2,"div",22),Ce(3),ie(),ae(4,"div",23)(5,"span",24),Ce(6),ie(),$t(7,uV,2,1,"span")(8,lV,2,1,"span",25)(9,cV,2,5,"div",26)(10,dV,2,1,"span",27)(11,fV,2,1,"pre",37)(12,hV,2,1,"pre",37),ie()()()),t&2){let n,r=e.$implicit;oe(3),Lt("Topic: ",r.topic),oe(3),Zt(r.values[0].type),oe(),zt((n=r.values[0].type)==="Text"?7:n==="Int"?8:n==="Bool"?9:n==="Node"?10:n==="Dict"?11:n==="Array"?12:-1)}}var Lh=class t{messages=qe([]);connected=qe(!1);listening=qe(!1);_received=qe([]);socket=qe(null);zone=ne(gn);sendTopic=qe("");recTopic=qe("");selectedType=qe("Text");textValue=qe("");intValue=qe(0);boolValue=qe(!1);nodeId=qe(0);nodeLabels=qe("");currentValue=Io(()=>{switch(this.selectedType()){case"Int":return{type:"Int",value:BigInt(this.intValue())};case"Bool":return{type:"Bool",value:this.boolValue()};case"Node":return{type:"Node",id:BigInt(this.nodeId()),labels:this.nodeLabels().split(",").map(e=>e.trim()).filter(e=>!!e),properties:{}};default:return{type:"Text",value:this.textValue()}}});send(){let e=this.currentValue(),n=oc.pack([e]);console.log(`Sending to ${this.sendTopic()}:`,n),this.textValue.set(""),this.intValue.set(0),this.nodeLabels.set("")}listen(){this.initConnection(this.recTopic()),this.listening.set(!0)}console=console;stopListen(){this.socket.update(e=>(e?.close(1e3,"User requested disconnect"),this.recTopic.set(""),null)),this.connected.set(!1)}initConnection(e){this._received.set([]);let n=new WebSocket(`ws://localhost:3131/channel/${e}`);n.binaryType="arraybuffer",this.socket.set(n),BigInt.prototype.toJSON=function(){return this.toString()},this.connected.set(!0),n.onmessage=r=>{this.zone.run(()=>{let i=new Uint8Array(r.data),o=oc.unpack(i);this._received.update(a=>{let s=a;return s.length>=50&&(console.log("in"),s=a.slice(1,50)),[...s,{topic:e,values:o}].slice(0,50)})})},n.onclose=()=>{this.connected()&&(console.warn("Disconnected from Rust. Retrying in 2s..."),this.connected.set(!1),setTimeout(()=>this.initConnection(e),2e3))}}JSON=JSON;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Wn({type:t,selectors:[["app-roundtrip"]],decls:35,vars:7,consts:[[1,"p-4","flex","flex-col","gap-4"],[1,"chat","chat-start"],[1,"chat-bubble","chat-bubble-primary","flex","flex-col","gap-3","max-w-md","text-base-content"],[1,"input","input-sm","input-bordered","flex","items-center","gap-2"],["type","text","placeholder","Topic",1,"grow",3,"input","value"],[1,"join"],[1,"select","select-sm","select-bordered","join-item",3,"change","value"],["value","Text"],["value","Int"],["value","Bool"],["value","Node"],[1,"join-item","grow","bg-base-100","border","border-base-300","flex","items-center","px-4"],["type","number","placeholder","Number",1,"input","input-sm","input-bordered","join-item","grow",3,"value"],["type","text","placeholder","Value",1,"input","input-sm","input-bordered","join-item","grow",3,"value"],[1,"flex","w-full","justify-end"],[1,"btn","btn-sm",3,"click","disabled"],[1,"chat","chat-end"],[1,"btn","btn-sm"],[1,"btn","btn-sm",3,"disabled"],[1,"flex","items-center","my-6","gap-4"],[1,"flex","flex-col-reverse"],[1,"chat-bubble","chat-bubble-primary"],[1,"text-[10px]","uppercase","font-bold","opacity-50","mb-1"],[1,"flex","items-center","gap-2"],[1,"badge","badge-sm","badge-outline"],[1,"font-mono","text-info"],[1,"badge",3,"badge-success","badge-error"],[1,"text-sm"],[1,"badge"],["type","checkbox",1,"toggle","toggle-info","toggle-xs",3,"change","checked"],["type","number","placeholder","Number",1,"input","input-sm","input-bordered","join-item","grow",3,"input","value"],["type","number","placeholder","ID",1,"input","input-sm","input-bordered","join-item","w-16",3,"input","value"],["type","text","placeholder","Labels...",1,"input","input-sm","input-bordered","join-item","grow",3,"input","value"],["type","text","placeholder","Value",1,"input","input-sm","input-bordered","join-item","grow",3,"input","value"],[1,"btn","btn-sm",3,"click"],[1,"grow","h-px","bg-linear-to-r","from-transparent","via-primary/30","to-transparent"],[1,"text-[10px]","uppercase","tracking-widest","opacity-40","font-bold"],[1,"text-sm","overflow-x-auto","whitespace-pre-wrap"]],template:function(n,r){if(n&1&&(ae(0,"div",0),rn(1,eV,11,3,"div",1,_r),ae(3,"div",1)(4,"div",2)(5,"label",3)(6,"input",4),Rt("input",function(o){return r.sendTopic.set(o.target.value)}),ie()(),ae(7,"div",5)(8,"select",6),Rt("change",function(o){return r.selectedType.set(o.target.value)}),ae(9,"option",7),Ce(10,"Text"),ie(),ae(11,"option",8),Ce(12,"Int"),ie(),ae(13,"option",9),Ce(14,"Bool"),ie(),ae(15,"option",10),Ce(16,"Node"),ie()(),$t(17,tV,2,1,"div",11)(18,nV,1,1,"input",12)(19,rV,2,2)(20,iV,1,1,"input",13),ie(),ae(21,"div",14)(22,"button",15),Rt("click",function(){return r.send()}),Ce(23,"Send"),ie()()()()(),ae(24,"div",16)(25,"div",2)(26,"label",3)(27,"input",4),Rt("input",function(o){return r.recTopic.set(o.target.value)}),ie()(),ae(28,"div",14),$t(29,oV,2,0,"button",17)(30,aV,2,1,"button",18),ie()()(),$t(31,sV,5,1,"div",19),ae(32,"div",20),rn(33,pV,13,3,"div",16,_r),ie()),n&2){let i;oe(),on(r.messages()),oe(5),Pt("value",r.sendTopic()),oe(2),Pt("value",r.selectedType()),oe(9),zt((i=r.selectedType())==="Bool"?17:i==="Int"?18:i==="Node"?19:20),oe(5),Pt("disabled",!r.sendTopic()),oe(5),Pt("value",r.recTopic()),oe(2),zt(r.connected()?29:30),oe(2),zt(r.recTopic()!=null&&r.recTopic().trim().length!=0?31:-1),oe(2),on(r._received())}},dependencies:[UT,VT,HT],encapsulation:2})};var gV=(t,e)=>e.key;function vV(t,e){t&1&&(ae(0,"div",14),Ce(1," STALE "),ie())}function mV(t,e){t&1&&gt(0,"div",15)}function yV(t,e){if(t&1&&(ae(0,"div",8)(1,"div",9)(2,"span",10),Ce(3),ie(),ae(4,"span",11),Ce(5),ie()(),ae(6,"div",12)(7,"span",13),Ce(8),zi(9,"date"),ie(),$t(10,vV,2,0,"div",14)(11,mV,1,0,"div",15),ie()()),t&2){let n=e.$implicit;Pt("ngClass",n.isStale?"bg-error/10 opacity-60":"bg-base-100 shadow-sm"),oe(2),Et("line-through",n.isStale),oe(),Lt(" ",n.id," "),oe(2),Lt(" Delay: ",n.elapsed,"ms "),oe(3),Lt(" ",$m(9,7,n.timestamp,"mm:ss.SSS")," "),oe(2),zt(n.isStale?10:11)}}function bV(t,e){if(t&1&&(ae(0,"div",1),gt(1,"input",2),ae(2,"div",3)(3,"span",4),Ce(4),ie(),ae(5,"span",5),Ce(6),ie()(),ae(7,"div",6)(8,"div",7),rn(9,yV,12,10,"div",8,_r),ie()()()),t&2){let n=e.$implicit;oe(4),Zt(n.key),oe(2),Lt("",n.value.length," Threads"),oe(3),on(n.value)}}var Bh=class t{inputs=bi.required();threads=qe(new Map);currentTime=qe(Date.now());groupedThreads=Io(()=>{let e=this.threads(),n=this.currentTime(),r=5e3,i={};for(let o of e){let[a,s]=o,u=a.split(" ")[0]||"Unknown";i[u]||(i[u]=[]),i[u].push({id:a,timestamp:s,isStale:n-s>r,elapsed:n-s})}for(let o in i)i[o].sort((a,s)=>a.isStale!==s.isStale?a.isStale?1:-1:a.id.localeCompare(s.id));return i});constructor(){setInterval(()=>this.currentTime.set(Date.now()),100),Ea(()=>{let e=this.inputs();if(!e)return;let n=Date.now();this.threads.update(r=>{let i=new Map(r);return i.set(e,n),i})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Wn({type:t,selectors:[["app-threads"]],inputs:{inputs:[1,"inputs"]},decls:4,vars:2,consts:[[1,"space-y-4"],[1,"collapse","collapse-arrow","bg-base-200","border","border-base-300"],["type","checkbox"],[1,"collapse-title","flex","items-center","gap-4"],[1,"badge","badge-primary","font-bold","uppercase"],[1,"text-xs","opacity-50"],[1,"collapse-content"],[1,"grid","grid-cols-1","gap-2"],[1,"flex","justify-between","items-center","p-3","rounded-lg","transition-all","duration-500",3,"ngClass"],[1,"flex","flex-col"],[1,"font-mono","text-sm"],[1,"text-[10px]","opacity-40"],[1,"flex","items-center","gap-3"],[1,"text-[10px]","opacity-50","font-mono"],[1,"badge","badge-error","badge-xs","outline","outline-1","outline-error","animate-pulse"],[1,"w-2","h-2","rounded-full","bg-success","animate-pulse"]],template:function(n,r){n&1&&(ae(0,"div",0),rn(1,bV,11,2,"div",1,gV),zi(3,"keyvalue"),ie()),n&2&&(oe(),on(So(3,0,r.groupedThreads())))},dependencies:[ay,sy,uy],encapsulation:2})};function Rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wV(t){if(Array.isArray(t))return t}function EV(t){if(Array.isArray(t))return Rb(t)}function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yM(r.key),r)}}function qo(t,e,n){return e&&DV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dr(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Xb(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function mM(t,e,n){return(e=yM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function IV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(t,e){return wV(t)||SV(t,e)||Xb(t,e)||IV()}function lp(t){return EV(t)||CV(t)||Xb(t)||TV()}function xV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yM(t){var e=xV(t,"string");return typeof e=="symbol"?e:e+""}function un(t){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(t)}function Xb(t,e){if(t){if(typeof t=="string")return Rb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rb(t,e):void 0}}var an=typeof window>"u"?null:window,$T=an?an.navigator:null;an&&an.document;var _V=un(""),bM=un({}),MV=un(function(){}),AV=typeof HTMLElement>"u"?"undefined":un(HTMLElement),Mc=function(e){return e&&e.instanceString&&Nt(e.instanceString)?e.instanceString():null},xe=function(e){return e!=null&&un(e)==_V},Nt=function(e){return e!=null&&un(e)===MV},wt=function(e){return!br(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},rt=function(e){return e!=null&&un(e)===bM&&!wt(e)&&e.constructor===Object},RV=function(e){return e!=null&&un(e)===bM},ce=function(e){return e!=null&&un(e)===un(1)&&!isNaN(e)},NV=function(e){return ce(e)&&Math.floor(e)===e},cp=function(e){if(AV!=="undefined")return e!=null&&e instanceof HTMLElement},br=function(e){return Ac(e)||wM(e)},Ac=function(e){return Mc(e)==="collection"&&e._private.single},wM=function(e){return Mc(e)==="collection"&&!e._private.single},Qb=function(e){return Mc(e)==="core"},EM=function(e){return Mc(e)==="stylesheet"},OV=function(e){return Mc(e)==="event"},Bo=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},kV=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},PV=function(e){return rt(e)&&ce(e.x1)&&ce(e.x2)&&ce(e.y1)&&ce(e.y2)},FV=function(e){return RV(e)&&Nt(e.then)},LV=function(){return $T&&$T.userAgent.match(/msie|trident|edge/i)},fu=function(e,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);return o.join("$")});var r=function(){var o=this,a=arguments,s,u=n.apply(o,a),l=r.cache;return(s=l[u])||(s=l[u]=e.apply(o,a)),s};return r.cache={},r},Jb=fu(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Cp=fu(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),DM=fu(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),zT=function(e){return Bo(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Oo=function(e,n){return e.slice(-1*n.length)===n},sn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",BV="rgb[a]?\\(("+sn+"[%]?)\\s*,\\s*("+sn+"[%]?)\\s*,\\s*("+sn+"[%]?)(?:\\s*,\\s*("+sn+"))?\\)",VV="rgb[a]?\\((?:"+sn+"[%]?)\\s*,\\s*(?:"+sn+"[%]?)\\s*,\\s*(?:"+sn+"[%]?)(?:\\s*,\\s*(?:"+sn+"))?\\)",jV="hsl[a]?\\(("+sn+")\\s*,\\s*("+sn+"[%])\\s*,\\s*("+sn+"[%])(?:\\s*,\\s*("+sn+"))?\\)",HV="hsl[a]?\\((?:"+sn+")\\s*,\\s*(?:"+sn+"[%])\\s*,\\s*(?:"+sn+"[%])(?:\\s*,\\s*(?:"+sn+"))?\\)",UV="\\#[0-9a-fA-F]{3}",$V="\\#[0-9a-fA-F]{6}",CM=function(e,n){return e<n?-1:e>n?1:0},zV=function(e,n){return-1*CM(e,n)},Re=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(r!=null)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t[a]=r[a]}}return t},qV=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var n=e.length===4,r,i,o,a=16;return n?(r=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),o=parseInt(e[3]+e[3],a)):(r=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),o=parseInt(e[5]+e[6],a)),[r,i,o]}},GV=function(e){var n,r,i,o,a,s,u,l;function c(p,m,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?p+(m-p)*6*g:g<1/2?m:g<2/3?p+(m-p)*(2/3-g)*6:p}var d=new RegExp("^"+jV+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,o=parseFloat(d[3]),o<0||o>100)||(o=o/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=u=l=Math.round(o*255);else{var f=o<.5?o*(1+i):o+i-o*i,h=2*o-f;s=Math.round(255*c(h,f,r+1/3)),u=Math.round(255*c(h,f,r)),l=Math.round(255*c(h,f,r-1/3))}n=[s,u,l,a]}return n},WV=function(e){var n,r=new RegExp("^"+BV+"$").exec(e);if(r){n=[];for(var i=[],o=1;o<=3;o++){var a=r[o];if(a[a.length-1]==="%"&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),a<0||a>255)return;n.push(Math.floor(a))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=r[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;n.push(l)}}return n},YV=function(e){return ZV[e.toLowerCase()]},SM=function(e){return(wt(e)?e:null)||YV(e)||qV(e)||WV(e)||GV(e)},ZV={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},IM=function(e){for(var n=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var a=r[o];if(rt(a))throw Error("Tried to set map with object key");o<r.length-1?(n[a]==null&&(n[a]={}),n=n[a]):n[a]=e.value}},TM=function(e){for(var n=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var a=r[o];if(rt(a))throw Error("Tried to get map with object key");if(n=n[a],n==null)return n}return n},Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0,qT;function Nc(){if(qT)return t0;qT=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return t0=t,t0}var n0,GT;function KV(){if(GT)return n0;GT=1;var t=typeof Vh=="object"&&Vh&&Vh.Object===Object&&Vh;return n0=t,n0}var r0,WT;function Sp(){if(WT)return r0;WT=1;var t=KV(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return r0=n,r0}var i0,YT;function XV(){if(YT)return i0;YT=1;var t=Sp(),e=function(){return t.Date.now()};return i0=e,i0}var o0,ZT;function QV(){if(ZT)return o0;ZT=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return o0=e,o0}var a0,KT;function JV(){if(KT)return a0;KT=1;var t=QV(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return a0=n,a0}var s0,XT;function ew(){if(XT)return s0;XT=1;var t=Sp(),e=t.Symbol;return s0=e,s0}var u0,QT;function ej(){if(QT)return u0;QT=1;var t=ew(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var l=!0}catch{}var c=r.call(a);return l&&(s?a[i]=u:delete a[i]),c}return u0=o,u0}var l0,JT;function tj(){if(JT)return l0;JT=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return l0=n,l0}var c0,ex;function xM(){if(ex)return c0;ex=1;var t=ew(),e=ej(),n=tj(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?e(s):n(s)}return c0=a,c0}var d0,tx;function nj(){if(tx)return d0;tx=1;function t(e){return e!=null&&typeof e=="object"}return d0=t,d0}var f0,nx;function Oc(){if(nx)return f0;nx=1;var t=xM(),e=nj(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return f0=r,f0}var h0,rx;function rj(){if(rx)return h0;rx=1;var t=JV(),e=Nc(),n=Oc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return r;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=t(l);var d=o.test(l);return d||a.test(l)?s(l.slice(2),d?2:8):i.test(l)?r:+l}return h0=u,h0}var p0,ix;function ij(){if(ix)return p0;ix=1;var t=Nc(),e=XV(),n=rj(),r="Expected a function",i=Math.max,o=Math.min;function a(s,u,l){var c,d,f,h,p,m,g=0,v=!1,y=!1,w=!0;if(typeof s!="function")throw new TypeError(r);u=n(u)||0,t(l)&&(v=!!l.leading,y="maxWait"in l,f=y?i(n(l.maxWait)||0,u):f,w="trailing"in l?!!l.trailing:w);function b(A){var N=c,k=d;return c=d=void 0,g=A,h=s.apply(k,N),h}function C(A){return g=A,p=setTimeout(S,u),v?b(A):h}function E(A){var N=A-m,k=A-g,P=u-N;return y?o(P,f-k):P}function D(A){var N=A-m,k=A-g;return m===void 0||N>=u||N<0||y&&k>=f}function S(){var A=e();if(D(A))return I(A);p=setTimeout(S,E(A))}function I(A){return p=void 0,w&&c?b(A):(c=d=void 0,h)}function T(){p!==void 0&&clearTimeout(p),g=0,c=m=d=p=void 0}function _(){return p===void 0?h:I(e())}function M(){var A=e(),N=D(A);if(c=arguments,d=this,m=A,N){if(p===void 0)return C(m);if(y)return clearTimeout(p),p=setTimeout(S,u),b(m)}return p===void 0&&(p=setTimeout(S,u)),h}return M.cancel=T,M.flush=_,M}return p0=a,p0}var oj=ij(),kc=Rc(oj),g0=an?an.performance:null,_M=g0&&g0.now?function(){return g0.now()}:function(){return Date.now()},aj=(function(){if(an){if(an.requestAnimationFrame)return function(t){an.requestAnimationFrame(t)};if(an.mozRequestAnimationFrame)return function(t){an.mozRequestAnimationFrame(t)};if(an.webkitRequestAnimationFrame)return function(t){an.webkitRequestAnimationFrame(t)};if(an.msRequestAnimationFrame)return function(t){an.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(_M())},1e3/60)}})(),dp=function(e){return aj(e)},Xi=_M,qa=9261,MM=65599,iu=5381,AM=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qa,r=n,i;i=e.next(),!i.done;)r=r*MM+i.value|0;return r},bc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qa;return n*MM+e|0},wc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iu;return(n<<5)+n+e|0},sj=function(e,n){return e*2097152+n},Ao=function(e){return e[0]*2097152+e[1]},jh=function(e,n){return[bc(e[0],n[0]),wc(e[1],n[1])]},ox=function(e,n){var r={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?r.value=e[i++]:r.done=!0,r}};return AM(a,n)},Ya=function(e,n){var r={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?r.value=e.charCodeAt(i++):r.done=!0,r}};return AM(a,n)},RM=function(){return uj(arguments)},uj=function(e){for(var n,r=0;r<e.length;r++){var i=e[r];r===0?n=Ya(i):n=Ya(i,n)}return n};function lj(t,e,n,r,i){var o=i*Math.PI/180,a=Math.cos(o)*(t-n)-Math.sin(o)*(e-r)+n,s=Math.sin(o)*(t-n)+Math.cos(o)*(e-r)+r;return{x:a,y:s}}var cj=function(e,n,r,i,o,a){return{x:(e-r)*o+r,y:(n-i)*a+i}};function dj(t,e,n){if(n===0)return t;var r=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,o=e.w/e.h,a=1/o,s=lj(t.x,t.y,r,i,n),u=cj(s.x,s.y,r,i,o,a);return{x:u.x,y:u.y}}var ax=!0,fj=console.warn!=null,hj=console.trace!=null,tw=Number.MAX_SAFE_INTEGER||9007199254740991,NM=function(){return!0},fp=function(){return!1},sx=function(){return 0},nw=function(){},_t=function(e){throw new Error(e)},OM=function(e){if(e!==void 0)ax=!!e;else return ax},ft=function(e){OM()&&(fj?console.warn(e):(console.log(e),hj&&console.trace()))},pj=function(e){return Re({},e)},Mi=function(e){return e==null?e:wt(e)?e.slice():rt(e)?pj(e):e},gj=function(e){return e.slice()},kM=function(e,n){for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n},vj={},PM=function(){return vj},Mn=function(e){var n=Object.keys(e);return function(r){for(var i={},o=0;o<n.length;o++){var a=n[o],s=r?.[a];i[a]=s===void 0?e[a]:s}return i}},Vo=function(e,n,r){for(var i=e.length-1;i>=0;i--)e[i]===n&&e.splice(i,1)},rw=function(e){e.splice(0,e.length)},mj=function(e,n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}},lr=function(e,n,r){return r&&(n=DM(r,n)),e[n]},Zi=function(e,n,r,i){r&&(n=DM(r,n)),e[n]=i},yj=(function(){function t(){zo(this,t),this._obj={}}return qo(t,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}])})(),Ki=typeof Map<"u"?Map:yj,bj="undefined",wj=(function(){function t(e){if(zo(this,t),this._obj=Object.create(null),this.size=0,e!=null){var n;e.instanceString!=null&&e.instanceString()===this.instanceString()?n=e.toArray():n=e;for(var r=0;r<n.length;r++)this.add(n[r])}}return qo(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}])})(),gu=(typeof Set>"u"?"undefined":un(Set))!==bj?Set:wj,Ip=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||n===void 0||!Qb(e)){_t("An element must have a core reference and parameters set");return}var i=n.group;if(i==null&&(n.data&&n.data.source!=null&&n.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){_t("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?i==="edges":!!n.pannable,active:!1,classes:new gu,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),n.renderedPosition){var a=n.renderedPosition,s=e.pan(),u=e.zoom();o.position={x:(a.x-s.x)/u,y:(a.y-s.y)/u}}var l=[];wt(n.classes)?l=n.classes:xe(n.classes)&&(l=n.classes.split(/\s+/));for(var c=0,d=l.length;c<d;c++){var f=l[c];!f||f===""||o.classes.add(f)}this.createEmitter(),(r===void 0||r)&&this.restore();var h=n.style||n.css;h&&(ft("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h))},ux=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,i,o){var a;rt(r)&&!br(r)&&(a=r,r=a.roots||a.root,i=a.visit,o=a.directed),o=arguments.length===2&&!Nt(i)?i:o,i=Nt(i)?i:function(){};for(var s=this._private.cy,u=r=xe(r)?this.filter(r):r,l=[],c=[],d={},f={},h={},p=0,m,g=this.byGroup(),v=g.nodes,y=g.edges,w=0;w<u.length;w++){var b=u[w],C=b.id();b.isNode()&&(l.unshift(b),e.bfs&&(h[C]=!0,c.push(b)),f[C]=0)}for(var E=function(){var A=e.bfs?l.shift():l.pop(),N=A.id();if(e.dfs){if(h[N])return 0;h[N]=!0,c.push(A)}var k=f[N],P=d[N],O=P!=null?P.source():null,F=P!=null?P.target():null,U=P==null?void 0:A.same(O)?F[0]:O[0],z;if(z=i(A,P,U,p++,k),z===!0)return m=A,1;if(z===!1)return 1;for(var B=A.connectedEdges().filter(function(J){return(!o||J.source().same(A))&&y.has(J)}),V=0;V<B.length;V++){var Y=B[V],Z=Y.connectedNodes().filter(function(J){return!J.same(A)&&v.has(J)}),W=Z.id();Z.length!==0&&!h[W]&&(Z=Z[0],l.push(Z),e.bfs&&(h[W]=!0,c.push(Z)),d[W]=Y,f[W]=f[N]+1)}},D;l.length!==0&&(D=E(),!(D!==0&&D===1)););for(var S=s.collection(),I=0;I<c.length;I++){var T=c[I],_=d[T.id()];_!=null&&S.push(_),S.push(T)}return{path:s.collection(S),found:s.collection(m)}}},Ec={breadthFirstSearch:ux({bfs:!0}),depthFirstSearch:ux({dfs:!0})};Ec.bfs=Ec.breadthFirstSearch;Ec.dfs=Ec.depthFirstSearch;var Qh={exports:{}},Ej=Qh.exports,lx;function Dj(){return lx||(lx=1,(function(t,e){(function(){var n,r,i,o,a,s,u,l,c,d,f,h,p,m,g;i=Math.floor,d=Math.min,r=function(v,y){return v<y?-1:v>y?1:0},c=function(v,y,w,b,C){var E;if(w==null&&(w=0),C==null&&(C=r),w<0)throw new Error("lo must be non-negative");for(b==null&&(b=v.length);w<b;)E=i((w+b)/2),C(y,v[E])<0?b=E:w=E+1;return[].splice.apply(v,[w,w-w].concat(y)),y},s=function(v,y,w){return w==null&&(w=r),v.push(y),m(v,0,v.length-1,w)},a=function(v,y){var w,b;return y==null&&(y=r),w=v.pop(),v.length?(b=v[0],v[0]=w,g(v,0,y)):b=w,b},l=function(v,y,w){var b;return w==null&&(w=r),b=v[0],v[0]=y,g(v,0,w),b},u=function(v,y,w){var b;return w==null&&(w=r),v.length&&w(v[0],y)<0&&(b=[v[0],y],y=b[0],v[0]=b[1],g(v,0,w)),y},o=function(v,y){var w,b,C,E,D,S;for(y==null&&(y=r),E=function(){S=[];for(var I=0,T=i(v.length/2);0<=T?I<T:I>T;0<=T?I++:I--)S.push(I);return S}.apply(this).reverse(),D=[],b=0,C=E.length;b<C;b++)w=E[b],D.push(g(v,w,y));return D},p=function(v,y,w){var b;if(w==null&&(w=r),b=v.indexOf(y),b!==-1)return m(v,0,b,w),g(v,b,w)},f=function(v,y,w){var b,C,E,D,S;if(w==null&&(w=r),C=v.slice(0,y),!C.length)return C;for(o(C,w),S=v.slice(y),E=0,D=S.length;E<D;E++)b=S[E],u(C,b,w);return C.sort(w).reverse()},h=function(v,y,w){var b,C,E,D,S,I,T,_,M;if(w==null&&(w=r),y*10<=v.length){if(E=v.slice(0,y).sort(w),!E.length)return E;for(C=E[E.length-1],T=v.slice(y),D=0,I=T.length;D<I;D++)b=T[D],w(b,C)<0&&(c(E,b,0,null,w),E.pop(),C=E[E.length-1]);return E}for(o(v,w),M=[],S=0,_=d(y,v.length);0<=_?S<_:S>_;0<=_?++S:--S)M.push(a(v,w));return M},m=function(v,y,w,b){var C,E,D;for(b==null&&(b=r),C=v[w];w>y;){if(D=w-1>>1,E=v[D],b(C,E)<0){v[w]=E,w=D;continue}break}return v[w]=C},g=function(v,y,w){var b,C,E,D,S;for(w==null&&(w=r),C=v.length,S=y,E=v[y],b=2*y+1;b<C;)D=b+1,D<C&&!(w(v[b],v[D])<0)&&(b=D),v[y]=v[b],y=b,b=2*y+1;return v[y]=E,m(v,S,y,w)},n=(function(){v.push=s,v.pop=a,v.replace=l,v.pushpop=u,v.heapify=o,v.updateItem=p,v.nlargest=f,v.nsmallest=h;function v(y){this.cmp=y??r,this.nodes=[]}return v.prototype.push=function(y){return s(this.nodes,y,this.cmp)},v.prototype.pop=function(){return a(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},v.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},v.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},v.prototype.heapify=function(){return o(this.nodes,this.cmp)},v.prototype.updateItem=function(y){return p(this.nodes,y,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var y;return y=new v,y.nodes=this.nodes.slice(0),y},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v})(),(function(v,y){return t.exports=y()})(this,function(){return n})}).call(Ej)})(Qh)),Qh.exports}var v0,cx;function Cj(){return cx||(cx=1,v0=Dj()),v0}var Sj=Cj(),Pc=Rc(Sj),Ij=Mn({root:null,weight:function(e){return 1},directed:!1}),Tj={dijkstra:function(e){if(!rt(e)){var n=arguments;e={root:n[0],weight:n[1],directed:n[2]}}var r=Ij(e),i=r.root,o=r.weight,a=r.directed,s=this,u=o,l=xe(i)?this.filter(i)[0]:i[0],c={},d={},f={},h=this.byGroup(),p=h.nodes,m=h.edges;m.unmergeBy(function(k){return k.isLoop()});for(var g=function(P){return c[P.id()]},v=function(P,O){c[P.id()]=O,y.updateItem(P)},y=new Pc(function(k,P){return g(k)-g(P)}),w=0;w<p.length;w++){var b=p[w];c[b.id()]=b.same(l)?0:1/0,y.push(b)}for(var C=function(P,O){for(var F=(a?P.edgesTo(O):P.edgesWith(O)).intersect(m),U=1/0,z,B=0;B<F.length;B++){var V=F[B],Y=u(V);(Y<U||!z)&&(U=Y,z=V)}return{edge:z,dist:U}};y.size()>0;){var E=y.pop(),D=g(E),S=E.id();if(f[S]=D,D!==1/0)for(var I=E.neighborhood().intersect(p),T=0;T<I.length;T++){var _=I[T],M=_.id(),A=C(E,_),N=D+A.dist;N<g(_)&&(v(_,N),d[M]={node:E,edge:A.edge})}}return{distanceTo:function(P){var O=xe(P)?p.filter(P)[0]:P[0];return f[O.id()]},pathTo:function(P){var O=xe(P)?p.filter(P)[0]:P[0],F=[],U=O,z=U.id();if(O.length>0)for(F.unshift(O);d[z];){var B=d[z];F.unshift(B.edge),F.unshift(B.node),U=B.node,z=U.id()}return s.spawn(F)}}}},xj={kruskal:function(e){e=e||function(w){return 1};for(var n=this.byGroup(),r=n.nodes,i=n.edges,o=r.length,a=new Array(o),s=r,u=function(b){for(var C=0;C<a.length;C++){var E=a[C];if(E.has(b))return C}},l=0;l<o;l++)a[l]=this.spawn(r[l]);for(var c=i.sort(function(w,b){return e(w)-e(b)}),d=0;d<c.length;d++){var f=c[d],h=f.source()[0],p=f.target()[0],m=u(h),g=u(p),v=a[m],y=a[g];m!==g&&(s.merge(f),v.merge(y),a.splice(g,1))}return s}},_j=Mn({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Mj={aStar:function(e){var n=this.cy(),r=_j(e),i=r.root,o=r.goal,a=r.heuristic,s=r.directed,u=r.weight;i=n.collection(i)[0],o=n.collection(o)[0];var l=i.id(),c=o.id(),d={},f={},h={},p=new Pc(function(z,B){return f[z.id()]-f[B.id()]}),m=new gu,g={},v={},y=function(B,V){p.push(B),m.add(V)},w,b,C=function(){w=p.pop(),b=w.id(),m.delete(b)},E=function(B){return m.has(B)};y(i,l),d[l]=0,f[l]=a(i);for(var D=0;p.size()>0;){if(C(),D++,b===c){for(var S=[],I=o,T=c,_=v[T];S.unshift(I),_!=null&&S.unshift(_),I=g[T],I!=null;)T=I.id(),_=v[T];return{found:!0,distance:d[b],path:this.spawn(S),steps:D}}h[b]=!0;for(var M=w._private.edges,A=0;A<M.length;A++){var N=M[A];if(this.hasElementWithId(N.id())&&!(s&&N.data("source")!==b)){var k=N.source(),P=N.target(),O=k.id()!==b?k:P,F=O.id();if(this.hasElementWithId(F)&&!h[F]){var U=d[b]+u(N);if(!E(F)){d[F]=U,f[F]=U+a(O),y(O,F),g[F]=w,v[F]=N;continue}U<d[F]&&(d[F]=U,f[F]=U+a(O),g[F]=w,v[F]=N)}}}}return{found:!1,distance:void 0,path:void 0,steps:D}}},Aj=Mn({weight:function(e){return 1},directed:!1}),Rj={floydWarshall:function(e){for(var n=this.cy(),r=Aj(e),i=r.weight,o=r.directed,a=i,s=this.byGroup(),u=s.nodes,l=s.edges,c=u.length,d=c*c,f=function(Y){return u.indexOf(Y)},h=function(Y){return u[Y]},p=new Array(d),m=0;m<d;m++){var g=m%c,v=(m-g)/c;v===g?p[m]=0:p[m]=1/0}for(var y=new Array(d),w=new Array(d),b=0;b<l.length;b++){var C=l[b],E=C.source()[0],D=C.target()[0];if(E!==D){var S=f(E),I=f(D),T=S*c+I,_=a(C);if(p[T]>_&&(p[T]=_,y[T]=I,w[T]=C),!o){var M=I*c+S;!o&&p[M]>_&&(p[M]=_,y[M]=S,w[M]=C)}}}for(var A=0;A<c;A++)for(var N=0;N<c;N++)for(var k=N*c+A,P=0;P<c;P++){var O=N*c+P,F=A*c+P;p[k]+p[F]<p[O]&&(p[O]=p[k]+p[F],y[O]=y[k])}var U=function(Y){return(xe(Y)?n.filter(Y):Y)[0]},z=function(Y){return f(U(Y))},B={distance:function(Y,Z){var W=z(Y),J=z(Z);return p[W*c+J]},path:function(Y,Z){var W=z(Y),J=z(Z),te=h(W);if(W===J)return te.collection();if(y[W*c+J]==null)return n.collection();var ue=n.collection(),ee=W,j;for(ue.merge(te);W!==J;)ee=W,W=y[W*c+J],j=w[ee*c+W],ue.merge(j),ue.merge(h(W));return ue}};return B}},Nj=Mn({weight:function(e){return 1},directed:!1,root:null}),Oj={bellmanFord:function(e){var n=this,r=Nj(e),i=r.weight,o=r.directed,a=r.root,s=i,u=this,l=this.cy(),c=this.byGroup(),d=c.edges,f=c.nodes,h=f.length,p=new Ki,m=!1,g=[];a=l.collection(a)[0],d.unmergeBy(function(Ne){return Ne.isLoop()});for(var v=d.length,y=function(Ie){var Se=p.get(Ie.id());return Se||(Se={},p.set(Ie.id(),Se)),Se},w=function(Ie){return(xe(Ie)?l.$(Ie):Ie)[0]},b=function(Ie){return y(w(Ie)).dist},C=function(Ie){for(var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,le=w(Ie),ve=[],Ee=le;;){if(Ee==null)return n.spawn();var Me=y(Ee),De=Me.edge,Ve=Me.pred;if(ve.unshift(Ee[0]),Ee.same(Se)&&ve.length>0)break;De!=null&&ve.unshift(De),Ee=Ve}return u.spawn(ve)},E=0;E<h;E++){var D=f[E],S=y(D);D.same(a)?S.dist=0:S.dist=1/0,S.pred=null,S.edge=null}for(var I=!1,T=function(Ie,Se,le,ve,Ee,Me){var De=ve.dist+Me;De<Ee.dist&&!le.same(ve.edge)&&(Ee.dist=De,Ee.pred=Ie,Ee.edge=le,I=!0)},_=1;_<h;_++){I=!1;for(var M=0;M<v;M++){var A=d[M],N=A.source(),k=A.target(),P=s(A),O=y(N),F=y(k);T(N,k,A,O,F,P),o||T(k,N,A,F,O,P)}if(!I)break}if(I)for(var U=[],z=0;z<v;z++){var B=d[z],V=B.source(),Y=B.target(),Z=s(B),W=y(V).dist,J=y(Y).dist;if(W+Z<J||!o&&J+Z<W)if(m||(ft("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var te=[];W+Z<J&&te.push(V),!o&&J+Z<W&&te.push(Y);for(var ue=te.length,ee=0;ee<ue;ee++){var j=te[ee],$=[j];$.push(y(j).edge);for(var q=y(j).pred;$.indexOf(q)===-1;)$.push(q),$.push(y(q).edge),q=y(q).pred;$=$.slice($.indexOf(q));for(var K=$[0].id(),se=0,we=2;we<$.length;we+=2)$[we].id()<K&&(K=$[we].id(),se=we);$=$.slice(se).concat($.slice(0,se)),$.push($[0]);var We=$.map(function(Ne){return Ne.id()}).join(",");U.indexOf(We)===-1&&(g.push(u.spawn($)),U.push(We))}}else break}return{distanceTo:b,pathTo:C,hasNegativeWeightCycle:m,negativeWeightCycles:g}}},kj=Math.sqrt(2),Pj=function(e,n,r){r.length===0&&_t("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],o=i[1],a=i[2],s=n[o],u=n[a],l=r,c=l.length-1;c>=0;c--){var d=l[c],f=d[1],h=d[2];(n[f]===s&&n[h]===u||n[f]===u&&n[h]===s)&&l.splice(c,1)}for(var p=0;p<l.length;p++){var m=l[p];m[1]===u?(l[p]=m.slice(),l[p][1]=s):m[2]===u&&(l[p]=m.slice(),l[p][2]=s)}for(var g=0;g<n.length;g++)n[g]===u&&(n[g]=s);return l},m0=function(e,n,r,i){for(;r>i;){var o=Math.floor(Math.random()*n.length);n=Pj(o,e,n),r--}return n},Fj={kargerStein:function(){var e=this,n=this.byGroup(),r=n.nodes,i=n.edges;i.unmergeBy(function(F){return F.isLoop()});var o=r.length,a=i.length,s=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/kj);if(o<2){_t("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<a;c++){var d=i[c];l.push([c,r.indexOf(d.source()),r.indexOf(d.target())])}for(var f=1/0,h=[],p=new Array(o),m=new Array(o),g=new Array(o),v=function(U,z){for(var B=0;B<o;B++)z[B]=U[B]},y=0;y<=s;y++){for(var w=0;w<o;w++)m[w]=w;var b=m0(m,l.slice(),o,u),C=b.slice();v(m,g);var E=m0(m,b,u,2),D=m0(g,C,u,2);E.length<=D.length&&E.length<f?(f=E.length,h=E,v(m,p)):D.length<=E.length&&D.length<f&&(f=D.length,h=D,v(g,p))}for(var S=this.spawn(h.map(function(F){return i[F[0]]})),I=this.spawn(),T=this.spawn(),_=p[0],M=0;M<p.length;M++){var A=p[M],N=r[M];A===_?I.merge(N):T.merge(N)}var k=function(U){var z=e.spawn();return U.forEach(function(B){z.merge(B),B.connectedEdges().forEach(function(V){e.contains(V)&&!S.contains(V)&&z.merge(V)})}),z},P=[k(I),k(T)],O={cut:S,components:P,partition1:I,partition2:T};return O}},y0,Lj=function(e){return{x:e.x,y:e.y}},Tp=function(e,n,r){return{x:e.x*n+r.x,y:e.y*n+r.y}},FM=function(e,n,r){return{x:(e.x-r.x)/n,y:(e.y-r.y)/n}},ou=function(e){return{x:e[0],y:e[1]}},Bj=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=n;o<r;o++){var a=e[o];isFinite(a)&&(i=Math.min(a,i))}return i},Vj=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=n;o<r;o++){var a=e[o];isFinite(a)&&(i=Math.max(a,i))}return i},jj=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,a=n;a<r;a++){var s=e[a];isFinite(s)&&(i+=s,o++)}return i/o},Hj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(n,r):(r<e.length&&e.splice(r,e.length-r),n>0&&e.splice(0,n));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];a?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}o&&e.sort(function(f,h){return f-h});var c=e.length,d=Math.floor(c/2);return c%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},Uj=function(e){return Math.PI*e/180},Hh=function(e,n){return Math.atan2(n,e)-Math.PI/2},iw=Math.log2||function(t){return Math.log(t)/Math.log(2)},ow=function(e){return e>0?1:e<0?-1:0},Za=function(e,n){return Math.sqrt($a(e,n))},$a=function(e,n){var r=n.x-e.x,i=n.y-e.y;return r*r+i*i},$j=function(e){for(var n=e.length,r=0,i=0;i<n;i++)r+=e[i];for(var o=0;o<n;o++)e[o]=e[o]/r;return e},vn=function(e,n,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*n+i*i*r},uu=function(e,n,r,i){return{x:vn(e.x,n.x,r.x,i),y:vn(e.y,n.y,r.y,i)}},zj=function(e,n,r,i){var o={x:n.x-e.x,y:n.y-e.y},a=Za(e,n),s={x:o.x/a,y:o.y/a};return r=r??0,i=i??r*a,{x:e.x+s.x*i,y:e.y+s.y*i}},Dc=function(e,n,r){return Math.max(e,Math.min(r,n))},Zn=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},qj=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Gj=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Wj=function(e,n){e.x1=Math.min(e.x1,n.x1),e.x2=Math.max(e.x2,n.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n.y1),e.y2=Math.max(e.y2,n.y2),e.h=e.y2-e.y1},LM=function(e,n,r){e.x1=Math.min(e.x1,n),e.x2=Math.max(e.x2,n),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},Jh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=n,e.x2+=n,e.y1-=n,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ep=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,o,a;if(n.length===1)r=i=o=a=n[0];else if(n.length===2)r=o=n[0],a=i=n[1];else if(n.length===4){var s=Qt(n,4);r=s[0],i=s[1],o=s[2],a=s[3]}return e.x1-=a,e.x2+=i,e.y1-=r,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},dx=function(e,n){e.x1=n.x1,e.y1=n.y1,e.x2=n.x2,e.y2=n.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},aw=function(e,n){return!(e.x1>n.x2||n.x1>e.x2||e.x2<n.x1||n.x2<e.x1||e.y2<n.y1||n.y2<e.y1||e.y1>n.y2||n.y1>e.y2)},ko=function(e,n,r){return e.x1<=n&&n<=e.x2&&e.y1<=r&&r<=e.y2},fx=function(e,n){return ko(e,n.x,n.y)},BM=function(e,n){return ko(e,n.x1,n.y1)&&ko(e,n.x2,n.y2)},Yj=(y0=Math.hypot)!==null&&y0!==void 0?y0:function(t,e){return Math.sqrt(t*t+e*e)};function Zj(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var n=function(S,I){return{x:S.x+I.x,y:S.y+I.y}},r=function(S,I){return{x:S.x-I.x,y:S.y-I.y}},i=function(S,I){return{x:S.x*I,y:S.y*I}},o=function(S,I){return S.x*I.y-S.y*I.x},a=function(S){var I=Yj(S.x,S.y);return I===0?{x:0,y:0}:{x:S.x/I,y:S.y/I}},s=function(S){for(var I=0,T=0;T<S.length;T++){var _=S[T],M=S[(T+1)%S.length];I+=_.x*M.y-M.x*_.y}return I/2},u=function(S,I,T,_){var M=r(I,S),A=r(_,T),N=o(M,A);if(Math.abs(N)<1e-9)return n(S,i(M,.5));var k=o(r(T,S),A)/N;return n(S,i(M,k))},l=t.map(function(D){return{x:D.x,y:D.y}});s(l)<0&&l.reverse();for(var c=l.length,d=[],f=0;f<c;f++){var h=l[f],p=l[(f+1)%c],m=r(p,h),g=a({x:m.y,y:-m.x});d.push(g)}for(var v=d.map(function(D,S){var I=n(l[S],i(D,e)),T=n(l[(S+1)%c],i(D,e));return{p1:I,p2:T}}),y=[],w=0;w<c;w++){var b=v[(w-1+c)%c],C=v[w],E=u(b.p1,b.p2,C.p1,C.p2);y.push(E)}return y}function Kj(t,e,n,r,i,o){var a=oH(t,e,n,r,i),s=Zj(a,o),u=Zn();return s.forEach(function(l){return LM(u,l.x,l.y)}),u}var VM=function(e,n,r,i,o,a,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?jo(o,a):u,c=o/2,d=a/2;l=Math.min(l,c,d);var f=l!==c,h=l!==d,p;if(f){var m=r-c+l-s,g=i-d-s,v=r+c-l+s,y=g;if(p=Po(e,n,r,i,m,g,v,y,!1),p.length>0)return p}if(h){var w=r+c+s,b=i-d+l-s,C=w,E=i+d-l+s;if(p=Po(e,n,r,i,w,b,C,E,!1),p.length>0)return p}if(f){var D=r-c+l-s,S=i+d+s,I=r+c-l+s,T=S;if(p=Po(e,n,r,i,D,S,I,T,!1),p.length>0)return p}if(h){var _=r-c-s,M=i-d+l-s,A=_,N=i+d-l+s;if(p=Po(e,n,r,i,_,M,A,N,!1),p.length>0)return p}var k;{var P=r-c+l,O=i-d+l;if(k=hc(e,n,r,i,P,O,l+s),k.length>0&&k[0]<=P&&k[1]<=O)return[k[0],k[1]]}{var F=r+c-l,U=i-d+l;if(k=hc(e,n,r,i,F,U,l+s),k.length>0&&k[0]>=F&&k[1]<=U)return[k[0],k[1]]}{var z=r+c-l,B=i+d-l;if(k=hc(e,n,r,i,z,B,l+s),k.length>0&&k[0]>=z&&k[1]>=B)return[k[0],k[1]]}{var V=r-c+l,Y=i+d-l;if(k=hc(e,n,r,i,V,Y,l+s),k.length>0&&k[0]<=V&&k[1]>=Y)return[k[0],k[1]]}return[]},Xj=function(e,n,r,i,o,a,s){var u=s,l=Math.min(r,o),c=Math.max(r,o),d=Math.min(i,a),f=Math.max(i,a);return l-u<=e&&e<=c+u&&d-u<=n&&n<=f+u},Qj=function(e,n,r,i,o,a,s,u,l){var c={x1:Math.min(r,s,o)-l,x2:Math.max(r,s,o)+l,y1:Math.min(i,u,a)-l,y2:Math.max(i,u,a)+l};return!(e<c.x1||e>c.x2||n<c.y1||n>c.y2)},Jj=function(e,n,r,i){r-=i;var o=n*n-4*e*r;if(o<0)return[];var a=Math.sqrt(o),s=2*e,u=(-n+a)/s,l=(-n-a)/s;return[u,l]},eH=function(e,n,r,i,o){var a=1e-5;e===0&&(e=a),n/=e,r/=e,i/=e;var s,u,l,c,d,f,h,p;if(u=(3*r-n*n)/9,l=-(27*i)+n*(9*r-2*(n*n)),l/=54,s=u*u*u+l*l,o[1]=0,h=n/3,s>0){d=l+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),f=l-Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),o[0]=-h+d+f,h+=(d+f)/2,o[4]=o[2]=-h,h=Math.sqrt(3)*(-f+d)/2,o[3]=h,o[5]=-h;return}if(o[5]=o[3]=0,s===0){p=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-h+2*p,o[4]=o[2]=-(p+h);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),p=2*Math.sqrt(u),o[0]=-h+p*Math.cos(c/3),o[2]=-h+p*Math.cos((c+2*Math.PI)/3),o[4]=-h+p*Math.cos((c+4*Math.PI)/3)},tH=function(e,n,r,i,o,a,s,u){var l=1*r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s+i*i-4*i*a+2*i*u+4*a*a-4*a*u+u*u,c=9*r*o-3*r*r-3*r*s-6*o*o+3*o*s+9*i*a-3*i*i-3*i*u-6*a*a+3*a*u,d=3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e+3*i*i-6*i*a+i*u-i*n+2*a*a+2*a*n-u*n,f=1*r*o-r*r+r*e-o*e+i*a-i*i+i*n-a*n,h=[];eH(l,c,d,f,h);for(var p=1e-7,m=[],g=0;g<6;g+=2)Math.abs(h[g+1])<p&&h[g]>=0&&h[g]<=1&&m.push(h[g]);m.push(1),m.push(0);for(var v=-1,y,w,b,C=0;C<m.length;C++)y=Math.pow(1-m[C],2)*r+2*(1-m[C])*m[C]*o+m[C]*m[C]*s,w=Math.pow(1-m[C],2)*i+2*(1-m[C])*m[C]*a+m[C]*m[C]*u,b=Math.pow(y-e,2)+Math.pow(w-n,2),v>=0?b<v&&(v=b):v=b;return v},nH=function(e,n,r,i,o,a){var s=[e-r,n-i],u=[o-r,a-i],l=u[0]*u[0]+u[1]*u[1],c=s[0]*s[0]+s[1]*s[1],d=s[0]*u[0]+s[1]*u[1],f=d*d/l;return d<0?c:f>l?(e-o)*(e-o)+(n-a)*(n-a):c-f},cr=function(e,n,r){for(var i,o,a,s,u,l=0,c=0;c<r.length/2;c++)if(i=r[c*2],o=r[c*2+1],c+1<r.length/2?(a=r[(c+1)*2],s=r[(c+1)*2+1]):(a=r[(c+1-r.length/2)*2],s=r[(c+1-r.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)u=(e-i)/(a-i)*(s-o)+o,u>n&&l++;else continue;return l%2!==0},Qi=function(e,n,r,i,o,a,s,u,l){var c=new Array(r.length),d;u[0]!=null?(d=Math.atan(u[1]/u[0]),u[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=u;for(var f=Math.cos(-d),h=Math.sin(-d),p=0;p<c.length/2;p++)c[p*2]=a/2*(r[p*2]*f-r[p*2+1]*h),c[p*2+1]=s/2*(r[p*2+1]*f+r[p*2]*h),c[p*2]+=i,c[p*2+1]+=o;var m;if(l>0){var g=pp(c,-l);m=hp(g)}else m=c;return cr(e,n,m)},rH=function(e,n,r,i,o,a,s,u){for(var l=new Array(r.length*2),c=0;c<u.length;c++){var d=u[c];l[c*4+0]=d.startX,l[c*4+1]=d.startY,l[c*4+2]=d.stopX,l[c*4+3]=d.stopY;var f=Math.pow(d.cx-e,2)+Math.pow(d.cy-n,2);if(f<=Math.pow(d.radius,2))return!0}return cr(e,n,l)},hp=function(e){for(var n=new Array(e.length/2),r,i,o,a,s,u,l,c,d=0;d<e.length/4;d++){r=e[d*4],i=e[d*4+1],o=e[d*4+2],a=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],u=e[(d+1)*4+1],l=e[(d+1)*4+2],c=e[(d+1)*4+3]):(s=e[0],u=e[1],l=e[2],c=e[3]);var f=Po(r,i,o,a,s,u,l,c,!0);n[d*2]=f[0],n[d*2+1]=f[1]}return n},pp=function(e,n){for(var r=new Array(e.length*2),i,o,a,s,u=0;u<e.length/2;u++){i=e[u*2],o=e[u*2+1],u<e.length/2-1?(a=e[(u+1)*2],s=e[(u+1)*2+1]):(a=e[0],s=e[1]);var l=s-o,c=-(a-i),d=Math.sqrt(l*l+c*c),f=l/d,h=c/d;r[u*4]=i+f*n,r[u*4+1]=o+h*n,r[u*4+2]=a+f*n,r[u*4+3]=s+h*n}return r},iH=function(e,n,r,i,o,a){var s=r-e,u=i-n;s/=o,u/=a;var l=Math.sqrt(s*s+u*u),c=l-1;if(c<0)return[];var d=c/l;return[(r-e)*d+e,(i-n)*d+n]},Wa=function(e,n,r,i,o,a,s){return e-=o,n-=a,e/=r/2+s,n/=i/2+s,e*e+n*n<=1},hc=function(e,n,r,i,o,a,s){var u=[r-e,i-n],l=[e-o,n-a],c=u[0]*u[0]+u[1]*u[1],d=2*(l[0]*u[0]+l[1]*u[1]),f=l[0]*l[0]+l[1]*l[1]-s*s,h=d*d-4*c*f;if(h<0)return[];var p=(-d+Math.sqrt(h))/(2*c),m=(-d-Math.sqrt(h))/(2*c),g=Math.min(p,m),v=Math.max(p,m),y=[];if(g>=0&&g<=1&&y.push(g),v>=0&&v<=1&&y.push(v),y.length===0)return[];var w=y[0]*u[0]+e,b=y[0]*u[1]+n;if(y.length>1){if(y[0]==y[1])return[w,b];var C=y[1]*u[0]+e,E=y[1]*u[1]+n;return[w,b,C,E]}else return[w,b]},b0=function(e,n,r){return n<=e&&e<=r||r<=e&&e<=n?e:e<=n&&n<=r||r<=n&&n<=e?n:r},Po=function(e,n,r,i,o,a,s,u,l){var c=e-o,d=r-e,f=s-o,h=n-a,p=i-n,m=u-a,g=f*h-m*c,v=d*h-p*c,y=m*d-f*p;if(y!==0){var w=g/y,b=v/y,C=.001,E=0-C,D=1+C;return E<=w&&w<=D&&E<=b&&b<=D?[e+w*d,n+w*p]:l?[e+w*d,n+w*p]:[]}else return g===0||v===0?b0(e,r,s)===s?[s,u]:b0(e,r,o)===o?[o,a]:b0(o,s,r)===r?[r,i]:[]:[]},oH=function(e,n,r,i,o){var a=[],s=i/2,u=o/2,l=n,c=r;a.push({x:l+s*e[0],y:c+u*e[1]});for(var d=1;d<e.length/2;d++)a.push({x:l+s*e[d*2],y:c+u*e[d*2+1]});return a},Cc=function(e,n,r,i,o,a,s,u){var l=[],c,d=new Array(r.length),f=!0;a==null&&(f=!1);var h;if(f){for(var p=0;p<d.length/2;p++)d[p*2]=r[p*2]*a+i,d[p*2+1]=r[p*2+1]*s+o;if(u>0){var m=pp(d,-u);h=hp(m)}else h=d}else h=r;for(var g,v,y,w,b=0;b<h.length/2;b++)g=h[b*2],v=h[b*2+1],b<h.length/2-1?(y=h[(b+1)*2],w=h[(b+1)*2+1]):(y=h[0],w=h[1]),c=Po(e,n,i,o,g,v,y,w),c.length!==0&&l.push(c[0],c[1]);return l},aH=function(e,n,r,i,o,a,s,u,l){var c=[],d,f=new Array(r.length*2);l.forEach(function(y,w){w===0?(f[f.length-2]=y.startX,f[f.length-1]=y.startY):(f[w*4-2]=y.startX,f[w*4-1]=y.startY),f[w*4]=y.stopX,f[w*4+1]=y.stopY,d=hc(e,n,i,o,y.cx,y.cy,y.radius),d.length!==0&&c.push(d[0],d[1])});for(var h=0;h<f.length/4;h++)d=Po(e,n,i,o,f[h*4],f[h*4+1],f[h*4+2],f[h*4+3],!1),d.length!==0&&c.push(d[0],d[1]);if(c.length>2){for(var p=[c[0],c[1]],m=Math.pow(p[0]-e,2)+Math.pow(p[1]-n,2),g=1;g<c.length/2;g++){var v=Math.pow(c[g*2]-e,2)+Math.pow(c[g*2+1]-n,2);v<=m&&(p[0]=c[g*2],p[1]=c[g*2+1],m=v)}return p}return c},Uh=function(e,n,r){var i=[e[0]-n[0],e[1]-n[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(o-r)/o;return a<0&&(a=1e-5),[n[0]+a*i[0],n[1]+a*i[1]]},Yn=function(e,n){var r=Nb(e,n);return r=jM(r),r},jM=function(e){for(var n,r,i=e.length/2,o=1/0,a=1/0,s=-1/0,u=-1/0,l=0;l<i;l++)n=e[2*l],r=e[2*l+1],o=Math.min(o,n),s=Math.max(s,n),a=Math.min(a,r),u=Math.max(u,r);for(var c=2/(s-o),d=2/(u-a),f=0;f<i;f++)n=e[2*f]=e[2*f]*c,r=e[2*f+1]=e[2*f+1]*d,o=Math.min(o,n),s=Math.max(s,n),a=Math.min(a,r),u=Math.max(u,r);if(a<-1)for(var h=0;h<i;h++)r=e[2*h+1]=e[2*h+1]+(-1-a);return e},Nb=function(e,n){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=n;for(var o=new Array(e*2),a,s=0;s<e;s++)a=s*r+i,o[2*s]=Math.cos(a),o[2*s+1]=Math.sin(-a);return o},jo=function(e,n){return Math.min(e/4,n/4,8)},HM=function(e,n){return Math.min(e/10,n/10,8)},sw=function(){return 8},sH=function(e,n,r){return[e-2*n+r,2*(n-e),e]},Ob=function(e,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function w0(t,e){function n(d){for(var f=[],h=0;h<d.length;h++){var p=d[h],m=d[(h+1)%d.length],g={x:m.x-p.x,y:m.y-p.y},v={x:-g.y,y:g.x},y=Math.sqrt(v.x*v.x+v.y*v.y);f.push({x:v.x/y,y:v.y/y})}return f}function r(d,f){var h=1/0,p=-1/0,m=dr(d),g;try{for(m.s();!(g=m.n()).done;){var v=g.value,y=v.x*f.x+v.y*f.y;h=Math.min(h,y),p=Math.max(p,y)}}catch(w){m.e(w)}finally{m.f()}return{min:h,max:p}}function i(d,f){return!(d.max<f.min||f.max<d.min)}var o=[].concat(lp(n(t)),lp(n(e))),a=dr(o),s;try{for(a.s();!(s=a.n()).done;){var u=s.value,l=r(t,u),c=r(e,u);if(!i(l,c))return!1}}catch(d){a.e(d)}finally{a.f()}return!0}var uH=Mn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),lH={pageRank:function(e){for(var n=uH(e),r=n.dampingFactor,i=n.precision,o=n.iterations,a=n.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,d=l.length,f=d*d,h=c.length,p=new Array(f),m=new Array(d),g=(1-r)/d,v=0;v<d;v++){for(var y=0;y<d;y++){var w=v*d+y;p[w]=0}m[v]=0}for(var b=0;b<h;b++){var C=c[b],E=C.data("source"),D=C.data("target");if(E!==D){var S=l.indexOfId(E),I=l.indexOfId(D),T=a(C),_=I*d+S;p[_]+=T,m[S]+=T}}for(var M=1/d+g,A=0;A<d;A++)if(m[A]===0)for(var N=0;N<d;N++){var k=N*d+A;p[k]=M}else for(var P=0;P<d;P++){var O=P*d+A;p[O]=p[O]/m[A]+g}for(var F=new Array(d),U=new Array(d),z,B=0;B<d;B++)F[B]=1;for(var V=0;V<o;V++){for(var Y=0;Y<d;Y++)U[Y]=0;for(var Z=0;Z<d;Z++)for(var W=0;W<d;W++){var J=Z*d+W;U[Z]+=p[J]*F[W]}$j(U),z=F,F=U,U=z;for(var te=0,ue=0;ue<d;ue++){var ee=z[ue]-F[ue];te+=ee*ee}if(te<i)break}var j={rank:function(q){return q=s.collection(q)[0],F[l.indexOf(q)]}};return j}},hx=Mn({root:null,weight:function(e){return 1},directed:!1,alpha:0}),lu={degreeCentralityNormalized:function(e){e=hx(e);var n=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var c={},d={},f=0,h=0,p=0;p<i;p++){var m=r[p],g=m.id();e.root=m;var v=this.degreeCentrality(e);f<v.indegree&&(f=v.indegree),h<v.outdegree&&(h=v.outdegree),c[g]=v.indegree,d[g]=v.outdegree}return{indegree:function(w){return f==0?0:(xe(w)&&(w=n.filter(w)),c[w.id()]/f)},outdegree:function(w){return h===0?0:(xe(w)&&(w=n.filter(w)),d[w.id()]/h)}}}else{for(var o={},a=0,s=0;s<i;s++){var u=r[s];e.root=u;var l=this.degreeCentrality(e);a<l.degree&&(a=l.degree),o[u.id()]=l.degree}return{degree:function(w){return a===0?0:(xe(w)&&(w=n.filter(w)),o[w.id()]/a)}}}},degreeCentrality:function(e){e=hx(e);var n=this.cy(),r=this,i=e,o=i.root,a=i.weight,s=i.directed,u=i.alpha;if(o=n.collection(o)[0],s){for(var h=o.connectedEdges(),p=h.filter(function(E){return E.target().same(o)&&r.has(E)}),m=h.filter(function(E){return E.source().same(o)&&r.has(E)}),g=p.length,v=m.length,y=0,w=0,b=0;b<p.length;b++)y+=a(p[b]);for(var C=0;C<m.length;C++)w+=a(m[C]);return{indegree:Math.pow(g,1-u)*Math.pow(y,u),outdegree:Math.pow(v,1-u)*Math.pow(w,u)}}else{for(var l=o.connectedEdges().intersection(r),c=l.length,d=0,f=0;f<l.length;f++)d+=a(l[f]);return{degree:Math.pow(c,1-u)*Math.pow(d,u)}}}};lu.dc=lu.degreeCentrality;lu.dcn=lu.degreeCentralityNormalised=lu.degreeCentralityNormalized;var px=Mn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),cu={closenessCentralityNormalized:function(e){for(var n=px(e),r=n.harmonic,i=n.weight,o=n.directed,a=this.cy(),s={},u=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:o}),d=0;d<l.length;d++){for(var f=0,h=l[d],p=0;p<l.length;p++)if(d!==p){var m=c.distance(h,l[p]);r?f+=1/m:f+=m}r||(f=1/f),u<f&&(u=f),s[h.id()]=f}return{closeness:function(v){return u==0?0:(xe(v)?v=a.filter(v)[0].id():v=v.id(),s[v]/u)}}},closenessCentrality:function(e){var n=px(e),r=n.root,i=n.weight,o=n.directed,a=n.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:i,directed:o}),u=0,l=this.nodes(),c=0;c<l.length;c++){var d=l[c];if(!d.same(r)){var f=s.distanceTo(d);a?u+=1/f:u+=f}}return a?u:1/u}};cu.cc=cu.closenessCentrality;cu.ccn=cu.closenessCentralityNormalised=cu.closenessCentralityNormalized;var cH=Mn({weight:null,directed:!1}),kb={betweennessCentrality:function(e){for(var n=cH(e),r=n.directed,i=n.weight,o=i!=null,a=this.cy(),s=this.nodes(),u={},l={},c=0,d={set:function(w,b){l[w]=b,b>c&&(c=b)},get:function(w){return l[w]}},f=0;f<s.length;f++){var h=s[f],p=h.id();r?u[p]=h.outgoers().nodes():u[p]=h.openNeighborhood().nodes(),d.set(p,0)}for(var m=function(){for(var w=s[g].id(),b=[],C={},E={},D={},S=new Pc(function(Z,W){return D[Z]-D[W]}),I=0;I<s.length;I++){var T=s[I].id();C[T]=[],E[T]=0,D[T]=1/0}for(E[w]=1,D[w]=0,S.push(w);!S.empty();){var _=S.pop();if(b.push(_),o)for(var M=0;M<u[_].length;M++){var A=u[_][M],N=a.getElementById(_),k=void 0;N.edgesTo(A).length>0?k=N.edgesTo(A)[0]:k=A.edgesTo(N)[0];var P=i(k);A=A.id(),D[A]>D[_]+P&&(D[A]=D[_]+P,S.nodes.indexOf(A)<0?S.push(A):S.updateItem(A),E[A]=0,C[A]=[]),D[A]==D[_]+P&&(E[A]=E[A]+E[_],C[A].push(_))}else for(var O=0;O<u[_].length;O++){var F=u[_][O].id();D[F]==1/0&&(S.push(F),D[F]=D[_]+1),D[F]==D[_]+1&&(E[F]=E[F]+E[_],C[F].push(_))}}for(var U={},z=0;z<s.length;z++)U[s[z].id()]=0;for(;b.length>0;){for(var B=b.pop(),V=0;V<C[B].length;V++){var Y=C[B][V];U[Y]=U[Y]+E[Y]/E[B]*(1+U[B])}B!=s[g].id()&&d.set(B,d.get(B)+U[B])}},g=0;g<s.length;g++)m();var v={betweenness:function(w){var b=a.collection(w).id();return d.get(b)},betweennessNormalized:function(w){if(c==0)return 0;var b=a.collection(w).id();return d.get(b)/c}};return v.betweennessNormalised=v.betweennessNormalized,v}};kb.bc=kb.betweennessCentrality;var dH=Mn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),fH=function(e){return dH(e)},hH=function(e,n){for(var r=0,i=0;i<n.length;i++)r+=n[i](e);return r},pH=function(e,n,r){for(var i=0;i<n;i++)e[i*n+i]=r},UM=function(e,n){for(var r,i=0;i<n;i++){r=0;for(var o=0;o<n;o++)r+=e[o*n+i];for(var a=0;a<n;a++)e[a*n+i]=e[a*n+i]/r}},gH=function(e,n,r){for(var i=new Array(r*r),o=0;o<r;o++){for(var a=0;a<r;a++)i[o*r+a]=0;for(var s=0;s<r;s++)for(var u=0;u<r;u++)i[o*r+u]+=e[o*r+s]*n[s*r+u]}return i},vH=function(e,n,r){for(var i=e.slice(0),o=1;o<r;o++)e=gH(e,i,n);return e},mH=function(e,n,r){for(var i=new Array(n*n),o=0;o<n*n;o++)i[o]=Math.pow(e[o],r);return UM(i,n),i},yH=function(e,n,r,i){for(var o=0;o<r;o++){var a=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(n[o]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},bH=function(e,n,r,i){for(var o=[],a=0;a<n;a++){for(var s=[],u=0;u<n;u++)Math.round(e[a*n+u]*1e3)/1e3>0&&s.push(r[u]);s.length!==0&&o.push(i.collection(s))}return o},wH=function(e,n){for(var r=0;r<e.length;r++)if(!n[r]||e[r].id()!==n[r].id())return!1;return!0},EH=function(e){for(var n=0;n<e.length;n++)for(var r=0;r<e.length;r++)n!=r&&wH(e[n],e[r])&&e.splice(r,1);return e},gx=function(e){for(var n=this.nodes(),r=this.edges(),i=this.cy(),o=fH(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;for(var u=n.length,l=u*u,c=new Array(l),d,f=0;f<l;f++)c[f]=0;for(var h=0;h<r.length;h++){var p=r[h],m=a[p.source().id()],g=a[p.target().id()],v=hH(p,o.attributes);c[m*u+g]+=v,c[g*u+m]+=v}pH(c,u,o.multFactor),UM(c,u);for(var y=!0,w=0;y&&w<o.maxIterations;)y=!1,d=vH(c,u,o.expandFactor),c=mH(d,u,o.inflateFactor),yH(c,d,l,4)||(y=!0),w++;var b=bH(c,u,n,i);return b=EH(b),b},DH={markovClustering:gx,mcl:gx},CH=function(e){return e},$M=function(e,n){return Math.abs(n-e)},vx=function(e,n,r){return e+$M(n,r)},mx=function(e,n,r){return e+Math.pow(r-n,2)},SH=function(e){return Math.sqrt(e)},IH=function(e,n,r){return Math.max(e,$M(n,r))},ac=function(e,n,r,i,o){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:CH,s=i,u,l,c=0;c<e;c++)u=n(c),l=r(c),s=o(s,u,l);return a(s)},hu={euclidean:function(e,n,r){return e>=2?ac(e,n,r,0,mx,SH):ac(e,n,r,0,vx)},squaredEuclidean:function(e,n,r){return ac(e,n,r,0,mx)},manhattan:function(e,n,r){return ac(e,n,r,0,vx)},max:function(e,n,r){return ac(e,n,r,-1/0,IH)}};hu["squared-euclidean"]=hu.squaredEuclidean;hu.squaredeuclidean=hu.squaredEuclidean;function xp(t,e,n,r,i,o){var a;return Nt(t)?a=t:a=hu[t]||hu.euclidean,e===0&&Nt(t)?a(i,o):a(e,n,r,i,o)}var TH=Mn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),uw=function(e){return TH(e)},gp=function(e,n,r,i,o){var a=o!=="kMedoids",s=a?function(d){return r[d]}:function(d){return i[d](r)},u=function(f){return i[f](n)},l=r,c=n;return xp(e,i.length,s,u,l,c)},E0=function(e,n,r){for(var i=r.length,o=new Array(i),a=new Array(i),s=new Array(n),u=null,l=0;l<i;l++)o[l]=e.min(r[l]).value,a[l]=e.max(r[l]).value;for(var c=0;c<n;c++){u=[];for(var d=0;d<i;d++)u[d]=Math.random()*(a[d]-o[d])+o[d];s[c]=u}return s},zM=function(e,n,r,i,o){for(var a=1/0,s=0,u=0;u<n.length;u++){var l=gp(r,e,n[u],i,o);l<a&&(a=l,s=u)}return s},qM=function(e,n,r){for(var i=[],o=null,a=0;a<n.length;a++)o=n[a],r[o.id()]===e&&i.push(o);return i},xH=function(e,n,r){return Math.abs(n-e)<=r},_H=function(e,n,r){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Math.abs(e[i][o]-n[i][o]);if(a>r)return!1}return!0},MH=function(e,n,r){for(var i=0;i<r;i++)if(e===n[i])return!0;return!1},yx=function(e,n){var r=new Array(n);if(e.length<50)for(var i=0;i<n;i++){for(var o=e[Math.floor(Math.random()*e.length)];MH(o,r,i);)o=e[Math.floor(Math.random()*e.length)];r[i]=o}else for(var a=0;a<n;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},bx=function(e,n,r){for(var i=0,o=0;o<n.length;o++)i+=gp("manhattan",n[o],e,r,"kMedoids");return i},AH=function(e){var n=this.cy(),r=this.nodes(),i=null,o=uw(e),a=new Array(o.k),s={},u;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,u=E0(r,o.k,o.attributes)):un(o.testCentroids)==="object"?u=o.testCentroids:u=E0(r,o.k,o.attributes):u=E0(r,o.k,o.attributes);for(var l=!0,c=0;l&&c<o.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],s[i.id()]=zM(i,u,o.distance,o.attributes,"kMeans");l=!1;for(var f=0;f<o.k;f++){var h=qM(f,r,s);if(h.length!==0){for(var p=o.attributes.length,m=u[f],g=new Array(p),v=new Array(p),y=0;y<p;y++){v[y]=0;for(var w=0;w<h.length;w++)i=h[w],v[y]+=o.attributes[y](i);g[y]=v[y]/h.length,xH(g[y],m[y],o.sensitivityThreshold)||(l=!0)}u[f]=g,a[f]=n.collection(h)}}c++}return a},RH=function(e){var n=this.cy(),r=this.nodes(),i=null,o=uw(e),a=new Array(o.k),s,u={},l,c=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(un(o.testCentroids)==="object"?s=o.testCentroids:s=yx(r,o.k)):s=yx(r,o.k);for(var d=!0,f=0;d&&f<o.maxIterations;){for(var h=0;h<r.length;h++)i=r[h],u[i.id()]=zM(i,s,o.distance,o.attributes,"kMedoids");d=!1;for(var p=0;p<s.length;p++){var m=qM(p,r,u);if(m.length!==0){c[p]=bx(s[p],m,o.attributes);for(var g=0;g<m.length;g++)l=bx(m[g],m,o.attributes),l<c[p]&&(c[p]=l,s[p]=m[g],d=!0);a[p]=n.collection(m)}}f++}return a},NH=function(e,n,r,i,o){for(var a,s,u=0;u<n.length;u++)for(var l=0;l<e.length;l++)i[u][l]=Math.pow(r[u][l],o.m);for(var c=0;c<e.length;c++)for(var d=0;d<o.attributes.length;d++){a=0,s=0;for(var f=0;f<n.length;f++)a+=i[f][c]*o.attributes[d](n[f]),s+=i[f][c];e[c][d]=a/s}},OH=function(e,n,r,i,o){for(var a=0;a<e.length;a++)n[a]=e[a].slice();for(var s,u,l,c=2/(o.m-1),d=0;d<r.length;d++)for(var f=0;f<i.length;f++){s=0;for(var h=0;h<r.length;h++)u=gp(o.distance,i[f],r[d],o.attributes,"cmeans"),l=gp(o.distance,i[f],r[h],o.attributes,"cmeans"),s+=Math.pow(u/l,c);e[f][d]=1/s}},kH=function(e,n,r,i){for(var o=new Array(r.k),a=0;a<o.length;a++)o[a]=[];for(var s,u,l=0;l<n.length;l++){s=-1/0,u=-1;for(var c=0;c<n[0].length;c++)n[l][c]>s&&(s=n[l][c],u=c);o[u].push(e[l])}for(var d=0;d<o.length;d++)o[d]=i.collection(o[d]);return o},wx=function(e){var n=this.cy(),r=this.nodes(),i=uw(e),o,a,s,u,l;u=new Array(r.length);for(var c=0;c<r.length;c++)u[c]=new Array(i.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(i.k);for(var f=0;f<r.length;f++){for(var h=0,p=0;p<i.k;p++)s[f][p]=Math.random(),h+=s[f][p];for(var m=0;m<i.k;m++)s[f][m]=s[f][m]/h}a=new Array(i.k);for(var g=0;g<i.k;g++)a[g]=new Array(i.attributes.length);l=new Array(r.length);for(var v=0;v<r.length;v++)l[v]=new Array(i.k);for(var y=!0,w=0;y&&w<i.maxIterations;)y=!1,NH(a,r,s,l,i),OH(s,u,a,r,i),_H(s,u,i.sensitivityThreshold)||(y=!0),w++;return o=kH(r,s,i,n),{clusters:o,degreeOfMembership:s}},PH={kMeans:AH,kMedoids:RH,fuzzyCMeans:wx,fcm:wx},FH=Mn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),LH={single:"min",complete:"max"},BH=function(e){var n=FH(e),r=LH[n.linkage];return r!=null&&(n.linkage=r),n},Ex=function(e,n,r,i,o){for(var a=0,s=1/0,u,l=o.attributes,c=function(I,T){return xp(o.distance,l.length,function(_){return l[_](I)},function(_){return l[_](T)},I,T)},d=0;d<e.length;d++){var f=e[d].key,h=r[f][i[f]];h<s&&(a=f,s=h)}if(o.mode==="threshold"&&s>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var p=n[a],m=n[i[a]],g;o.mode==="dendrogram"?g={left:p,right:m,key:p.key}:g={value:p.value.concat(m.value),key:p.key},e[p.index]=g,e.splice(m.index,1),n[p.key]=g;for(var v=0;v<e.length;v++){var y=e[v];p.key===y.key?u=1/0:o.linkage==="min"?(u=r[p.key][y.key],r[p.key][y.key]>r[m.key][y.key]&&(u=r[m.key][y.key])):o.linkage==="max"?(u=r[p.key][y.key],r[p.key][y.key]<r[m.key][y.key]&&(u=r[m.key][y.key])):o.linkage==="mean"?u=(r[p.key][y.key]*p.size+r[m.key][y.key]*m.size)/(p.size+m.size):o.mode==="dendrogram"?u=c(y.value,p.value):u=c(y.value[0],p.value[0]),r[p.key][y.key]=r[y.key][p.key]=u}for(var w=0;w<e.length;w++){var b=e[w].key;if(i[b]===p.key||i[b]===m.key){for(var C=b,E=0;E<e.length;E++){var D=e[E].key;r[b][D]<r[b][C]&&(C=D)}i[b]=C}e[w].index=w}return p.key=m.key=p.index=m.index=null,!0},au=function(e,n,r){e&&(e.value?n.push(e.value):(e.left&&au(e.left,n),e.right&&au(e.right,n)))},Pb=function(e,n){if(!e)return"";if(e.left&&e.right){var r=Pb(e.left,n),i=Pb(e.right,n),o=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},Fb=function(e,n,r){if(!e)return[];var i=[],o=[],a=[];return n===0?(e.left&&au(e.left,i),e.right&&au(e.right,o),a=i.concat(o),[r.collection(a)]):n===1?e.value?[r.collection(e.value)]:(e.left&&au(e.left,i),e.right&&au(e.right,o),[r.collection(i),r.collection(o)]):e.value?[r.collection(e.value)]:(e.left&&(i=Fb(e.left,n-1,r)),e.right&&(o=Fb(e.right,n-1,r)),i.concat(o))},Dx=function(e){for(var n=this.cy(),r=this.nodes(),i=BH(e),o=i.attributes,a=function(w,b){return xp(i.distance,o.length,function(C){return o[C](w)},function(C){return o[C](b)},w,b)},s=[],u=[],l=[],c=[],d=0;d<r.length;d++){var f={value:i.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=f,c[d]=f,u[d]=[],l[d]=0}for(var h=0;h<s.length;h++)for(var p=0;p<=h;p++){var m=void 0;i.mode==="dendrogram"?m=h===p?1/0:a(s[h].value,s[p].value):m=h===p?1/0:a(s[h].value[0],s[p].value[0]),u[h][p]=m,u[p][h]=m,m<u[h][l[h]]&&(l[h]=p)}for(var g=Ex(s,c,u,l,i);g;)g=Ex(s,c,u,l,i);var v;return i.mode==="dendrogram"?(v=Fb(s[0],i.dendrogramDepth,n),i.addDendrogram&&Pb(s[0],n)):(v=new Array(s.length),s.forEach(function(y,w){y.key=y.index=null,v[w]=n.collection(y.value)})),v},VH={hierarchicalClustering:Dx,hca:Dx},jH=Mn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),HH=function(e){var n=e.damping,r=e.preference;.5<=n&&n<1||_t("Damping must range on [0.5, 1).  Got: ".concat(n));var i=["median","mean","min","max"];return i.some(function(o){return o===r})||ce(r)||_t("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(r)),jH(e)},UH=function(e,n,r,i){var o=function(s,u){return i[u](s)};return-xp(e,i.length,function(a){return o(n,a)},function(a){return o(r,a)},n,r)},$H=function(e,n){var r=null;return n==="median"?r=Hj(e):n==="mean"?r=jj(e):n==="min"?r=Bj(e):n==="max"?r=Vj(e):r=n,r},zH=function(e,n,r){for(var i=[],o=0;o<e;o++)n[o*e+o]+r[o*e+o]>0&&i.push(o);return i},Cx=function(e,n,r){for(var i=[],o=0;o<e;o++){for(var a=-1,s=-1/0,u=0;u<r.length;u++){var l=r[u];n[o*e+l]>s&&(a=l,s=n[o*e+l])}a>0&&i.push(a)}for(var c=0;c<r.length;c++)i[r[c]]=r[c];return i},qH=function(e,n,r){for(var i=Cx(e,n,r),o=0;o<r.length;o++){for(var a=[],s=0;s<i.length;s++)i[s]===r[o]&&a.push(s);for(var u=-1,l=-1/0,c=0;c<a.length;c++){for(var d=0,f=0;f<a.length;f++)d+=n[a[f]*e+a[c]];d>l&&(u=c,l=d)}r[o]=a[u]}return i=Cx(e,n,r),i},Sx=function(e){for(var n=this.cy(),r=this.nodes(),i=HH(e),o={},a=0;a<r.length;a++)o[r[a].id()]=a;var s,u,l,c,d,f;s=r.length,u=s*s,l=new Array(u);for(var h=0;h<u;h++)l[h]=-1/0;for(var p=0;p<s;p++)for(var m=0;m<s;m++)p!==m&&(l[p*s+m]=UH(i.distance,r[p],r[m],i.attributes));c=$H(l,i.preference);for(var g=0;g<s;g++)l[g*s+g]=c;d=new Array(u);for(var v=0;v<u;v++)d[v]=0;f=new Array(u);for(var y=0;y<u;y++)f[y]=0;for(var w=new Array(s),b=new Array(s),C=new Array(s),E=0;E<s;E++)w[E]=0,b[E]=0,C[E]=0;for(var D=new Array(s*i.minIterations),S=0;S<D.length;S++)D[S]=0;var I;for(I=0;I<i.maxIterations;I++){for(var T=0;T<s;T++){for(var _=-1/0,M=-1/0,A=-1,N=0,k=0;k<s;k++)w[k]=d[T*s+k],N=f[T*s+k]+l[T*s+k],N>=_?(M=_,_=N,A=k):N>M&&(M=N);for(var P=0;P<s;P++)d[T*s+P]=(1-i.damping)*(l[T*s+P]-_)+i.damping*w[P];d[T*s+A]=(1-i.damping)*(l[T*s+A]-M)+i.damping*w[A]}for(var O=0;O<s;O++){for(var F=0,U=0;U<s;U++)w[U]=f[U*s+O],b[U]=Math.max(0,d[U*s+O]),F+=b[U];F-=b[O],b[O]=d[O*s+O],F+=b[O];for(var z=0;z<s;z++)f[z*s+O]=(1-i.damping)*Math.min(0,F-b[z])+i.damping*w[z];f[O*s+O]=(1-i.damping)*(F-b[O])+i.damping*w[O]}for(var B=0,V=0;V<s;V++){var Y=f[V*s+V]+d[V*s+V]>0?1:0;D[I%i.minIterations*s+V]=Y,B+=Y}if(B>0&&(I>=i.minIterations-1||I==i.maxIterations-1)){for(var Z=0,W=0;W<s;W++){C[W]=0;for(var J=0;J<i.minIterations;J++)C[W]+=D[J*s+W];(C[W]===0||C[W]===i.minIterations)&&Z++}if(Z===s)break}}for(var te=zH(s,d,f),ue=qH(s,l,te),ee={},j=0;j<te.length;j++)ee[te[j]]=[];for(var $=0;$<r.length;$++){var q=o[r[$].id()],K=ue[q];K!=null&&ee[K].push(r[$])}for(var se=new Array(te.length),we=0;we<te.length;we++)se[we]=n.collection(ee[te[we]]);return se},GH={affinityPropagation:Sx,ap:Sx},WH=Mn({root:void 0,directed:!1}),YH={hierholzer:function(e){if(!rt(e)){var n=arguments;e={root:n[0],directed:n[1]}}var r=WH(e),i=r.root,o=r.directed,a=this,s=!1,u,l,c;i&&(c=xe(i)?this.filter(i)[0].id():i[0].id());var d={},f={};o?a.forEach(function(y){var w=y.id();if(y.isNode()){var b=y.indegree(!0),C=y.outdegree(!0),E=b-C,D=C-b;E==1?u?s=!0:u=w:D==1?l?s=!0:l=w:(D>1||E>1)&&(s=!0),d[w]=[],y.outgoers().forEach(function(S){S.isEdge()&&d[w].push(S.id())})}else f[w]=[void 0,y.target().id()]}):a.forEach(function(y){var w=y.id();if(y.isNode()){var b=y.degree(!0);b%2&&(u?l?s=!0:l=w:u=w),d[w]=[],y.connectedEdges().forEach(function(C){return d[w].push(C.id())})}else f[w]=[y.source().id(),y.target().id()]});var h={found:!1,trail:void 0};if(s)return h;if(l&&u)if(o){if(c&&l!=c)return h;c=l}else{if(c&&l!=c&&u!=c)return h;c||(c=l)}else c||(c=a[0].id());var p=function(w){for(var b=w,C=[w],E,D,S;d[b].length;)E=d[b].shift(),D=f[E][0],S=f[E][1],b!=S?(d[S]=d[S].filter(function(I){return I!=E}),b=S):!o&&b!=D&&(d[D]=d[D].filter(function(I){return I!=E}),b=D),C.unshift(E),C.unshift(b);return C},m=[],g=[];for(g=p(c);g.length!=1;)d[g[0]].length==0?(m.unshift(a.getElementById(g.shift())),m.unshift(a.getElementById(g.shift()))):g=p(g.shift()).concat(g);m.unshift(a.getElementById(g.shift()));for(var v in d)if(d[v].length)return h;return h.found=!0,h.trail=this.spawn(m,!0),h}},$h=function(){var e=this,n={},r=0,i=0,o=[],a=[],s={},u=function(f,h){for(var p=a.length-1,m=[],g=e.spawn();a[p].x!=f||a[p].y!=h;)m.push(a.pop().edge),p--;m.push(a.pop().edge),m.forEach(function(v){var y=v.connectedNodes().intersection(e);g.merge(v),y.forEach(function(w){var b=w.id(),C=w.connectedEdges().intersection(e);g.merge(w),n[b].cutVertex?g.merge(C.filter(function(E){return E.isLoop()})):g.merge(C)})}),o.push(g)},l=function(f,h,p){f===p&&(i+=1),n[h]={id:r,low:r++,cutVertex:!1};var m=e.getElementById(h).connectedEdges().intersection(e);if(m.size()===0)o.push(e.spawn(e.getElementById(h)));else{var g,v,y,w;m.forEach(function(b){g=b.source().id(),v=b.target().id(),y=g===h?v:g,y!==p&&(w=b.id(),s[w]||(s[w]=!0,a.push({x:h,y,edge:b})),y in n?n[h].low=Math.min(n[h].low,n[y].id):(l(f,y,h),n[h].low=Math.min(n[h].low,n[y].low),n[h].id<=n[y].low&&(n[h].cutVertex=!0,u(h,y))))})}};e.forEach(function(d){if(d.isNode()){var f=d.id();f in n||(i=0,l(f,f),n[f].cutVertex=i>1)}});var c=Object.keys(n).filter(function(d){return n[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(c),components:o}},ZH={hopcroftTarjanBiconnected:$h,htbc:$h,htb:$h,hopcroftTarjanBiconnectedComponents:$h},zh=function(){var e=this,n={},r=0,i=[],o=[],a=e.spawn(e),s=function(l){o.push(l),n[l]={index:r,low:r++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(m){var g=m.target().id();g!==l&&(g in n||s(g),n[g].explored||(n[l].low=Math.min(n[l].low,n[g].low)))}),n[l].index===n[l].low){for(var d=e.spawn();;){var f=o.pop();if(d.merge(e.getElementById(f)),n[f].low=n[l].index,n[f].explored=!0,f===l)break}var h=d.edgesWith(d),p=d.merge(h);i.push(p),a=a.difference(p)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in n||s(l)}}),{cut:a,components:i}},KH={tarjanStronglyConnected:zh,tsc:zh,tscc:zh,tarjanStronglyConnectedComponents:zh},GM={};[Ec,Tj,xj,Mj,Rj,Oj,Fj,lH,lu,cu,kb,DH,PH,VH,GH,YH,ZH,KH].forEach(function(t){Re(GM,t)});var WM=0,YM=1,ZM=2,ni=function(e){if(!(this instanceof ni))return new ni(e);this.id="Thenable/1.0.7",this.state=WM,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};ni.prototype={fulfill:function(e){return Ix(this,YM,"fulfillValue",e)},reject:function(e){return Ix(this,ZM,"rejectReason",e)},then:function(e,n){var r=this,i=new ni;return r.onFulfilled.push(xx(e,i,"fulfill")),r.onRejected.push(xx(n,i,"reject")),KM(r),i.proxy}};var Ix=function(e,n,r,i){return e.state===WM&&(e.state=n,e[r]=i,KM(e)),e},KM=function(e){e.state===YM?Tx(e,"onFulfilled",e.fulfillValue):e.state===ZM&&Tx(e,"onRejected",e.rejectReason)},Tx=function(e,n,r){if(e[n].length!==0){var i=e[n];e[n]=[];var o=function(){for(var s=0;s<i.length;s++)i[s](r)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},xx=function(e,n,r){return function(i){if(typeof e!="function")n[r].call(n,i);else{var o;try{o=e(i)}catch(a){n.reject(a);return}XM(n,o)}}},XM=function(e,n){if(e===n||e.proxy===n){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(un(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(o){e.reject(o);return}if(typeof r=="function"){var i=!1;try{r.call(n,function(o){i||(i=!0,o===n?e.reject(new TypeError("circular thenable chain")):XM(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(n)};ni.all=function(t){return new ni(function(e,n){for(var r=new Array(t.length),i=0,o=function(u,l){r[u]=l,i++,i===t.length&&e(r)},a=0;a<t.length;a++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(d){o(s,d)},function(d){n(d)});else{var c=u;o(s,c)}})(a)})};ni.resolve=function(t){return new ni(function(e,n){e(t)})};ni.reject=function(t){return new ni(function(e,n){n(t)})};var vu=typeof Promise<"u"?Promise:ni,Lb=function(e,n,r){var i=Qb(e),o=!i,a=this._private=Re({duration:1e3},n,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&Nt(a.complete)&&a.completes.push(a.complete),o){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var u=e.pan();a.startPan={x:u.x,y:u.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},Ka=Lb.prototype;Re(Ka,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var n,r=e.target._private.animation;e.queue?n=r.queue:n=r.current,n.push(this),br(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var n=this._private;return e===void 0?n.progress*n.duration:this.progress(e/n.duration)},progress:function(e){var n=this._private,r=n.playing;return e===void 0?n.progress:(r&&this.pause(),n.progress=e,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,n=e.playing;n&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(l,c){var d=e[l];d!=null&&(e[l]=e[c],e[c]=d)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],a=o.name,s=e.startStyle[a];e.startStyle[a]=o,e.style[i]=s}return n&&this.play(),this},promise:function(e){var n=this._private,r;switch(e){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new vu(function(i,o){r.push(function(){i()})})}});Ka.complete=Ka.completed;Ka.run=Ka.play;Ka.running=Ka.playing;var XH={animated:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return!1;var a=i[0];if(a)return a._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){var s=i[a];s._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this,u=!o,l=!u;if(!s.styleEnabled())return this;var c=s.style();n=Re({},n,r);var d=Object.keys(n).length===0;if(d)return new Lb(a[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(l&&(n.style=c.getPropsList(n.style||n.css),n.css=void 0),l&&n.renderedPosition!=null){var f=n.renderedPosition,h=s.pan(),p=s.zoom();n.position=FM(f,p,h)}if(u&&n.panBy!=null){var m=n.panBy,g=s.pan();n.pan={x:g.x+m.x,y:g.y+m.y}}var v=n.center||n.centre;if(u&&v!=null){var y=s.getCenterPan(v.eles,n.zoom);y!=null&&(n.pan=y)}if(u&&n.fit!=null){var w=n.fit,b=s.getFitViewport(w.eles||w.boundingBox,w.padding);b!=null&&(n.pan=b.pan,n.zoom=b.zoom)}if(u&&rt(n.zoom)){var C=s.getZoomedViewport(n.zoom);C!=null?(C.zoomed&&(n.zoom=C.zoom),C.panned&&(n.pan=C.pan)):n.zoom=null}return new Lb(a[0],n)}},animate:function(){return function(n,r){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;r&&(n=Re({},n,r));for(var u=0;u<a.length;u++){var l=a[u],c=l.animated()&&(n.queue===void 0||n.queue),d=l.animation(n,c?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(n,r){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<a.length;u++){for(var l=a[u],c=l._private,d=c.animation.current,f=0;f<d.length;f++){var h=d[f],p=h._private;r&&(p.duration=0)}n&&(c.animation.queue=[]),r||(c.animation.current=[])}return s.notify("draw"),this}}},D0,_x;function _p(){if(_x)return D0;_x=1;var t=Array.isArray;return D0=t,D0}var C0,Mx;function QH(){if(Mx)return C0;Mx=1;var t=_p(),e=Oc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return C0=i,C0}var S0,Ax;function JH(){if(Ax)return S0;Ax=1;var t=xM(),e=Nc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!e(s))return!1;var u=t(s);return u==r||u==i||u==n||u==o}return S0=a,S0}var I0,Rx;function eU(){if(Rx)return I0;Rx=1;var t=Sp(),e=t["__core-js_shared__"];return I0=e,I0}var T0,Nx;function tU(){if(Nx)return T0;Nx=1;var t=eU(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return T0=n,T0}var x0,Ox;function nU(){if(Ox)return x0;Ox=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return x0=n,x0}var _0,kx;function rU(){if(kx)return _0;kx=1;var t=JH(),e=tU(),n=Nc(),r=nU(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||e(f))return!1;var h=t(f)?c:o;return h.test(r(f))}return _0=d,_0}var M0,Px;function iU(){if(Px)return M0;Px=1;function t(e,n){return e?.[n]}return M0=t,M0}var A0,Fx;function lw(){if(Fx)return A0;Fx=1;var t=rU(),e=iU();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return A0=n,A0}var R0,Lx;function Mp(){if(Lx)return R0;Lx=1;var t=lw(),e=t(Object,"create");return R0=e,R0}var N0,Bx;function oU(){if(Bx)return N0;Bx=1;var t=Mp();function e(){this.__data__=t?t(null):{},this.size=0}return N0=e,N0}var O0,Vx;function aU(){if(Vx)return O0;Vx=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return O0=t,O0}var k0,jx;function sU(){if(jx)return k0;jx=1;var t=Mp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var s=a[o];return s===e?void 0:s}return r.call(a,o)?a[o]:void 0}return k0=i,k0}var P0,Hx;function uU(){if(Hx)return P0;Hx=1;var t=Mp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return P0=r,P0}var F0,Ux;function lU(){if(Ux)return F0;Ux=1;var t=Mp(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return F0=n,F0}var L0,$x;function cU(){if($x)return L0;$x=1;var t=oU(),e=aU(),n=sU(),r=uU(),i=lU();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,L0=o,L0}var B0,zx;function dU(){if(zx)return B0;zx=1;function t(){this.__data__=[],this.size=0}return B0=t,B0}var V0,qx;function QM(){if(qx)return V0;qx=1;function t(e,n){return e===n||e!==e&&n!==n}return V0=t,V0}var j0,Gx;function Ap(){if(Gx)return j0;Gx=1;var t=QM();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return j0=e,j0}var H0,Wx;function fU(){if(Wx)return H0;Wx=1;var t=Ap(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return H0=r,H0}var U0,Yx;function hU(){if(Yx)return U0;Yx=1;var t=Ap();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return U0=e,U0}var $0,Zx;function pU(){if(Zx)return $0;Zx=1;var t=Ap();function e(n){return t(this.__data__,n)>-1}return $0=e,$0}var z0,Kx;function gU(){if(Kx)return z0;Kx=1;var t=Ap();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return z0=e,z0}var q0,Xx;function vU(){if(Xx)return q0;Xx=1;var t=dU(),e=fU(),n=hU(),r=pU(),i=gU();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,q0=o,q0}var G0,Qx;function mU(){if(Qx)return G0;Qx=1;var t=lw(),e=Sp(),n=t(e,"Map");return G0=n,G0}var W0,Jx;function yU(){if(Jx)return W0;Jx=1;var t=cU(),e=vU(),n=mU();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return W0=r,W0}var Y0,e_;function bU(){if(e_)return Y0;e_=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Y0=t,Y0}var Z0,t_;function Rp(){if(t_)return Z0;t_=1;var t=bU();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Z0=e,Z0}var K0,n_;function wU(){if(n_)return K0;n_=1;var t=Rp();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return K0=e,K0}var X0,r_;function EU(){if(r_)return X0;r_=1;var t=Rp();function e(n){return t(this,n).get(n)}return X0=e,X0}var Q0,i_;function DU(){if(i_)return Q0;i_=1;var t=Rp();function e(n){return t(this,n).has(n)}return Q0=e,Q0}var J0,o_;function CU(){if(o_)return J0;o_=1;var t=Rp();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return J0=e,J0}var eb,a_;function SU(){if(a_)return eb;a_=1;var t=yU(),e=wU(),n=EU(),r=DU(),i=CU();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,eb=o,eb}var tb,s_;function IU(){if(s_)return tb;s_=1;var t=SU(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var l=r.apply(this,a);return o.cache=u.set(s,l)||u,l};return o.cache=new(n.Cache||t),o}return n.Cache=t,tb=n,tb}var nb,u_;function TU(){if(u_)return nb;u_=1;var t=IU(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return nb=n,nb}var rb,l_;function JM(){if(l_)return rb;l_=1;var t=TU(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,s,u,l){o.push(u?l.replace(n,"$1"):s||a)}),o});return rb=r,rb}var ib,c_;function e1(){if(c_)return ib;c_=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return ib=t,ib}var ob,d_;function xU(){if(d_)return ob;d_=1;var t=ew(),e=e1(),n=_p(),r=Oc(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return e(s,a)+"";if(r(s))return o?o.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return ob=a,ob}var ab,f_;function t1(){if(f_)return ab;f_=1;var t=xU();function e(n){return n==null?"":t(n)}return ab=e,ab}var sb,h_;function n1(){if(h_)return sb;h_=1;var t=_p(),e=QH(),n=JM(),r=t1();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return sb=i,sb}var ub,p_;function cw(){if(p_)return ub;p_=1;var t=Oc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return ub=e,ub}var lb,g_;function _U(){if(g_)return lb;g_=1;var t=n1(),e=cw();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return lb=n,lb}var cb,v_;function MU(){if(v_)return cb;v_=1;var t=_U();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return cb=e,cb}var AU=MU(),RU=Rc(AU),db,m_;function NU(){if(m_)return db;m_=1;var t=lw(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return db=e,db}var fb,y_;function OU(){if(y_)return fb;y_=1;var t=NU();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return fb=e,fb}var hb,b_;function kU(){if(b_)return hb;b_=1;var t=OU(),e=QM(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&e(u,s))||s===void 0&&!(a in o))&&t(o,a,s)}return hb=i,hb}var pb,w_;function PU(){if(w_)return pb;w_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return pb=n,pb}var gb,E_;function FU(){if(E_)return gb;E_=1;var t=kU(),e=n1(),n=PU(),r=Nc(),i=cw();function o(a,s,u,l){if(!r(a))return a;s=e(s,a);for(var c=-1,d=s.length,f=d-1,h=a;h!=null&&++c<d;){var p=i(s[c]),m=u;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(c!=f){var g=h[p];m=l?l(g,p,h):void 0,m===void 0&&(m=r(g)?g:n(s[c+1])?[]:{})}t(h,p,m),h=h[p]}return a}return gb=o,gb}var vb,D_;function LU(){if(D_)return vb;D_=1;var t=FU();function e(n,r,i){return n==null?n:t(n,r,i)}return vb=e,vb}var BU=LU(),VU=Rc(BU),mb,C_;function jU(){if(C_)return mb;C_=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return mb=t,mb}var yb,S_;function HU(){if(S_)return yb;S_=1;var t=e1(),e=jU(),n=_p(),r=Oc(),i=JM(),o=cw(),a=t1();function s(u){return n(u)?t(u,o):r(u)?[u]:e(i(a(u)))}return yb=s,yb}var UU=HU(),$U=Rc(UU),zU={data:function(e){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=Re({},n,e),function(i,o){var a=e,s=this,u=s.length!==void 0,l=u?s:[s],c=u?s[0]:s;if(xe(i)){var d=i.indexOf(".")!==-1,f=d&&$U(i);if(a.allowGetting&&o===void 0){var h;return c&&(a.beforeGet(c),f&&c._private[a.field][i]===void 0?h=RU(c._private[a.field],f):h=c._private[a.field][i]),h}else if(a.allowSetting&&o!==void 0){var p=!a.immutableKeys[i];if(p){var m=mM({},i,o);a.beforeSet(s,m);for(var g=0,v=l.length;g<v;g++){var y=l[g];a.canSet(y)&&(f&&c._private[a.field][i]===void 0?VU(y._private[a.field],f,o):y._private[a.field][i]=o)}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}}}else if(a.allowSetting&&rt(i)){var w=i,b,C,E=Object.keys(w);a.beforeSet(s,w);for(var D=0;D<E.length;D++){b=E[D],C=w[b];var S=!a.immutableKeys[b];if(S)for(var I=0;I<l.length;I++){var T=l[I];a.canSet(T)&&(T._private[a.field][b]=C)}}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&Nt(i)){var _=i;s.on(a.bindingEvent,_)}else if(a.allowGetting&&i===void 0){var M;return c&&(a.beforeGet(c),M=c._private[a.field]),M}return s}},removeData:function(e){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Re({},n,e),function(i){var o=e,a=this,s=a.length!==void 0,u=s?a:[a];if(xe(i)){for(var l=i.split(/\s+/),c=l.length,d=0;d<c;d++){var f=l[d];if(!Bo(f)){var h=!o.immutableKeys[f];if(h)for(var p=0,m=u.length;p<m;p++)u[p]._private[o.field][f]=void 0}}o.triggerEvent&&a[o.triggerFnName](o.event)}else if(i===void 0){for(var g=0,v=u.length;g<v;g++)for(var y=u[g]._private[o.field],w=Object.keys(y),b=0;b<w.length;b++){var C=w[b],E=!o.immutableKeys[C];E&&(y[C]=void 0)}o.triggerEvent&&a[o.triggerFnName](o.event)}return a}}},qU={eventAliasesOn:function(e){var n=e;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,i){var o=this,a=Array.prototype.slice.call(arguments,0);return new vu(function(s,u){var l=function(h){o.off.apply(o,d),s(h)},c=a.concat([l]),d=c.concat([]);o.on.apply(o,c)})}}},dt={};[XH,zU,qU].forEach(function(t){Re(dt,t)});var GU={animate:dt.animate(),animation:dt.animation(),animated:dt.animated(),clearQueue:dt.clearQueue(),delay:dt.delay(),delayAnimation:dt.delayAnimation(),stop:dt.stop()},tp={classes:function(e){var n=this;if(e===void 0){var r=[];return n[0]._private.classes.forEach(function(p){return r.push(p)}),r}else wt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new gu(e),a=0;a<n.length;a++){for(var s=n[a],u=s._private,l=u.classes,c=!1,d=0;d<e.length;d++){var f=e[d],h=l.has(f);if(!h){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=o,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var n=this[0];return n!=null&&n._private.classes.has(e)},toggleClass:function(e,n){wt(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=n===void 0,o=[],a=0,s=r.length;a<s;a++)for(var u=r[a],l=u._private.classes,c=!1,d=0;d<e.length;d++){var f=e[d],h=l.has(f),p=!1;n||i&&!h?(l.add(f),p=!0):(!n||i&&h)&&(l.delete(f),p=!0),!c&&p&&(o.push(u),c=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},n),r}};tp.className=tp.classNames=tp.classes;var nt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:sn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};nt.variable="(?:[\\w-.]|(?:\\\\"+nt.metaChar+"))+";nt.className="(?:[\\w-]|(?:\\\\"+nt.metaChar+"))+";nt.value=nt.string+"|"+nt.number;nt.id=nt.variable;(function(){var t,e,n;for(t=nt.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],nt.comparatorOp+="|@"+e;for(t=nt.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],!(e.indexOf("!")>=0)&&e!=="="&&(nt.comparatorOp+="|\\!"+e)})();var yt=function(){return{checks:[]}},ye={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Bb=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return zV(t.selector,e.selector)}),WU=(function(){for(var t={},e,n=0;n<Bb.length;n++)e=Bb[n],t[e.selector]=e.matches;return t})(),YU=function(e,n){return WU[e](n)},ZU="("+Bb.map(function(t){return t.selector}).join("|")+")",Xs=function(e){return e.replace(new RegExp("\\\\("+nt.metaChar+")","g"),function(n,r){return r})},Ro=function(e,n,r){e[e.length-1]=r},Vb=[{name:"group",query:!0,regex:"("+nt.group+")",populate:function(e,n,r){var i=Qt(r,1),o=i[0];n.checks.push({type:ye.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:ZU,populate:function(e,n,r){var i=Qt(r,1),o=i[0];n.checks.push({type:ye.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+nt.id+")",populate:function(e,n,r){var i=Qt(r,1),o=i[0];n.checks.push({type:ye.ID,value:Xs(o)})}},{name:"className",query:!0,regex:"\\.("+nt.className+")",populate:function(e,n,r){var i=Qt(r,1),o=i[0];n.checks.push({type:ye.CLASS,value:Xs(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+nt.variable+")\\s*\\]",populate:function(e,n,r){var i=Qt(r,1),o=i[0];n.checks.push({type:ye.DATA_EXIST,field:Xs(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+nt.variable+")\\s*("+nt.comparatorOp+")\\s*("+nt.value+")\\s*\\]",populate:function(e,n,r){var i=Qt(r,3),o=i[0],a=i[1],s=i[2],u=new RegExp("^"+nt.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),n.checks.push({type:ye.DATA_COMPARE,field:Xs(o),operator:a,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+nt.boolOp+")\\s*("+nt.variable+")\\s*\\]",populate:function(e,n,r){var i=Qt(r,2),o=i[0],a=i[1];n.checks.push({type:ye.DATA_BOOL,field:Xs(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+nt.meta+")\\s*("+nt.comparatorOp+")\\s*("+nt.number+")\\s*\\]\\]",populate:function(e,n,r){var i=Qt(r,3),o=i[0],a=i[1],s=i[2];n.checks.push({type:ye.META_COMPARE,field:Xs(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:nt.separator,populate:function(e,n){var r=e.currentSubject,i=e.edgeCount,o=e.compoundCount,a=e[e.length-1];r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=i,a.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=yt();return s}},{name:"directedEdge",separator:!0,regex:nt.directedEdge,populate:function(e,n){if(e.currentSubject==null){var r=yt(),i=n,o=yt();return r.checks.push({type:ye.DIRECTED_EDGE,source:i,target:o}),Ro(e,n,r),e.edgeCount++,o}else{var a=yt(),s=n,u=yt();return a.checks.push({type:ye.NODE_SOURCE,source:s,target:u}),Ro(e,n,a),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:nt.undirectedEdge,populate:function(e,n){if(e.currentSubject==null){var r=yt(),i=n,o=yt();return r.checks.push({type:ye.UNDIRECTED_EDGE,nodes:[i,o]}),Ro(e,n,r),e.edgeCount++,o}else{var a=yt(),s=n,u=yt();return a.checks.push({type:ye.NODE_NEIGHBOR,node:s,neighbor:u}),Ro(e,n,a),u}}},{name:"child",separator:!0,regex:nt.child,populate:function(e,n){if(e.currentSubject==null){var r=yt(),i=yt(),o=e[e.length-1];return r.checks.push({type:ye.CHILD,parent:o,child:i}),Ro(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var a=yt(),s=e[e.length-1],u=yt(),l=yt(),c=yt(),d=yt();return a.checks.push({type:ye.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=n.checks,n.checks=[{type:ye.TRUE}],d.checks.push({type:ye.TRUE}),u.checks.push({type:ye.PARENT,parent:d,child:c}),Ro(e,s,a),e.currentSubject=l,e.compoundCount++,c}else{var f=yt(),h=yt(),p=[{type:ye.PARENT,parent:f,child:h}];return f.checks=n.checks,n.checks=p,e.compoundCount++,h}}},{name:"descendant",separator:!0,regex:nt.descendant,populate:function(e,n){if(e.currentSubject==null){var r=yt(),i=yt(),o=e[e.length-1];return r.checks.push({type:ye.DESCENDANT,ancestor:o,descendant:i}),Ro(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var a=yt(),s=e[e.length-1],u=yt(),l=yt(),c=yt(),d=yt();return a.checks.push({type:ye.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=n.checks,n.checks=[{type:ye.TRUE}],d.checks.push({type:ye.TRUE}),u.checks.push({type:ye.ANCESTOR,ancestor:d,descendant:c}),Ro(e,s,a),e.currentSubject=l,e.compoundCount++,c}else{var f=yt(),h=yt(),p=[{type:ye.ANCESTOR,ancestor:f,descendant:h}];return f.checks=n.checks,n.checks=p,e.compoundCount++,h}}},{name:"subject",modifier:!0,regex:nt.subject,populate:function(e,n){if(e.currentSubject!=null&&e.currentSubject!==n)return ft("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=n;var r=e[e.length-1],i=r.checks[0],o=i==null?null:i.type;o===ye.DIRECTED_EDGE?i.type=ye.NODE_TARGET:o===ye.UNDIRECTED_EDGE&&(i.type=ye.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Vb.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var KU=function(e){for(var n,r,i,o=0;o<Vb.length;o++){var a=Vb[o],s=a.name,u=e.match(a.regexObj);if(u!=null){r=u,n=a,i=s;var l=u[0];e=e.substring(l.length);break}}return{expr:n,match:r,name:i,remaining:e}},XU=function(e){var n=e.match(/^\s+/);if(n){var r=n[0];e=e.substring(r.length)}return e},QU=function(e){var n=this,r=n.inputText=e,i=n[0]=yt();for(n.length=1,r=XU(r);;){var o=KU(r);if(o.expr==null)return ft("The selector `"+e+"`is invalid"),!1;var a=o.match.slice(1),s=o.expr.populate(n,i,a);if(s===!1)return!1;if(s!=null&&(i=s),r=o.remaining,r.match(/^\s*$/))break}var u=n[n.length-1];n.currentSubject!=null&&(u.subject=n.currentSubject),u.edgeCount=n.edgeCount,u.compoundCount=n.compoundCount;for(var l=0;l<n.length;l++){var c=n[l];if(c.compoundCount>0&&c.edgeCount>0)return ft("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return ft("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&ft("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},JU=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},n=function(c){return xe(c)?'"'+c+'"':e(c)},r=function(c){return" "+c+" "},i=function(c,d){var f=c.type,h=c.value;switch(f){case ye.GROUP:{var p=e(h);return p.substring(0,p.length-1)}case ye.DATA_COMPARE:{var m=c.field,g=c.operator;return"["+m+r(e(g))+n(h)+"]"}case ye.DATA_BOOL:{var v=c.operator,y=c.field;return"["+e(v)+y+"]"}case ye.DATA_EXIST:{var w=c.field;return"["+w+"]"}case ye.META_COMPARE:{var b=c.operator,C=c.field;return"[["+C+r(e(b))+n(h)+"]]"}case ye.STATE:return h;case ye.ID:return"#"+h;case ye.CLASS:return"."+h;case ye.PARENT:case ye.CHILD:return o(c.parent,d)+r(">")+o(c.child,d);case ye.ANCESTOR:case ye.DESCENDANT:return o(c.ancestor,d)+" "+o(c.descendant,d);case ye.COMPOUND_SPLIT:{var E=o(c.left,d),D=o(c.subject,d),S=o(c.right,d);return E+(E.length>0?" ":"")+D+S}case ye.TRUE:return""}},o=function(c,d){return c.checks.reduce(function(f,h,p){return f+(d===c&&p===0?"$":"")+i(h,d)},"")},a="",s=0;s<this.length;s++){var u=this[s];a+=o(u,u.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},e$={parse:QU,toString:JU},r1=function(e,n,r){var i,o=xe(e),a=ce(e),s=xe(r),u,l,c=!1,d=!1,f=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),d=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),c=!0),(o||s||c)&&(u=!o&&!a?"":""+e,l=""+r),c&&(e=u=u.toLowerCase(),r=l=l.toLowerCase()),n){case"*=":i=u.indexOf(l)>=0;break;case"$=":i=u.indexOf(l,u.length-l.length)>=0;break;case"^=":i=u.indexOf(l)===0;break;case"=":i=e===r;break;case">":f=!0,i=e>r;break;case">=":f=!0,i=e>=r;break;case"<":f=!0,i=e<r;break;case"<=":f=!0,i=e<=r;break;default:i=!1;break}return d&&(e!=null||!f)&&(i=!i),i},t$=function(e,n){switch(n){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},n$=function(e){return e!==void 0},dw=function(e,n){return e.data(n)},r$=function(e,n){return e[n]()},Bt=[],It=function(e,n){return e.checks.every(function(r){return Bt[r.type](r,n)})};Bt[ye.GROUP]=function(t,e){var n=t.value;return n==="*"||n===e.group()};Bt[ye.STATE]=function(t,e){var n=t.value;return YU(n,e)};Bt[ye.ID]=function(t,e){var n=t.value;return e.id()===n};Bt[ye.CLASS]=function(t,e){var n=t.value;return e.hasClass(n)};Bt[ye.META_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return r1(r$(e,n),r,i)};Bt[ye.DATA_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return r1(dw(e,n),r,i)};Bt[ye.DATA_BOOL]=function(t,e){var n=t.field,r=t.operator;return t$(dw(e,n),r)};Bt[ye.DATA_EXIST]=function(t,e){var n=t.field;return t.operator,n$(dw(e,n))};Bt[ye.UNDIRECTED_EDGE]=function(t,e){var n=t.nodes[0],r=t.nodes[1],i=e.source(),o=e.target();return It(n,i)&&It(r,o)||It(r,i)&&It(n,o)};Bt[ye.NODE_NEIGHBOR]=function(t,e){return It(t.node,e)&&e.neighborhood().some(function(n){return n.isNode()&&It(t.neighbor,n)})};Bt[ye.DIRECTED_EDGE]=function(t,e){return It(t.source,e.source())&&It(t.target,e.target())};Bt[ye.NODE_SOURCE]=function(t,e){return It(t.source,e)&&e.outgoers().some(function(n){return n.isNode()&&It(t.target,n)})};Bt[ye.NODE_TARGET]=function(t,e){return It(t.target,e)&&e.incomers().some(function(n){return n.isNode()&&It(t.source,n)})};Bt[ye.CHILD]=function(t,e){return It(t.child,e)&&It(t.parent,e.parent())};Bt[ye.PARENT]=function(t,e){return It(t.parent,e)&&e.children().some(function(n){return It(t.child,n)})};Bt[ye.DESCENDANT]=function(t,e){return It(t.descendant,e)&&e.ancestors().some(function(n){return It(t.ancestor,n)})};Bt[ye.ANCESTOR]=function(t,e){return It(t.ancestor,e)&&e.descendants().some(function(n){return It(t.descendant,n)})};Bt[ye.COMPOUND_SPLIT]=function(t,e){return It(t.subject,e)&&It(t.left,e)&&It(t.right,e)};Bt[ye.TRUE]=function(){return!0};Bt[ye.COLLECTION]=function(t,e){var n=t.value;return n.has(e)};Bt[ye.FILTER]=function(t,e){var n=t.value;return n(e)};var i$=function(e){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===ye.ID)return e.getElementById(n[0].checks[0].value).collection();var r=function(o){for(var a=0;a<n.length;a++){var s=n[a];if(It(s,o))return!0}return!1};return n.text()==null&&(r=function(){return!0}),e.filter(r)},o$=function(e){for(var n=this,r=0;r<n.length;r++){var i=n[r];if(It(i,e))return!0}return!1},a$={matches:o$,filter:i$},Ho=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||xe(e)&&e.match(/^\s*$/)||(br(e)?this.addQuery({checks:[{type:ye.COLLECTION,value:e.collection()}]}):Nt(e)?this.addQuery({checks:[{type:ye.FILTER,value:e}]}):xe(e)?this.parse(e)||(this.invalid=!0):_t("A selector must be created from a string; found "))},Uo=Ho.prototype;[e$,a$].forEach(function(t){return Re(Uo,t)});Uo.text=function(){return this.inputText};Uo.size=function(){return this.length};Uo.eq=function(t){return this[t]};Uo.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Uo.addQuery=function(t){this[this.length++]=t};Uo.selector=Uo.toString;var Fo={allAre:function(e){var n=new Ho(e);return this.every(function(r){return n.matches(r)})},is:function(e){var n=new Ho(e);return this.some(function(r){return n.matches(r)})},some:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},every:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var n=this.length,r=e.length;return n!==r?!1:n===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(n){return e.hasElementWithId(n.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var n=this.neighborhood();return e.every(function(r){return n.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var n=this;return e.every(function(r){return n.hasElementWithId(r.id())})}};Fo.allAreNeighbours=Fo.allAreNeighbors;Fo.has=Fo.contains;Fo.equal=Fo.equals=Fo.same;var Pr=function(e,n){return function(i,o,a,s){var u=i,l=this,c;if(u==null?c="":br(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var d=l[0]._private,f=d.traversalCache=d.traversalCache||{},h=f[n]=f[n]||[],p=Ya(c),m=h[p];return m||(h[p]=e.call(l,i,o,a,s))}else return e.call(l,i,o,a,s)}},pu={parent:function(e){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var o=this[i],a=o._private.parent;a&&n.push(a)}return this.spawn(n,!0).filter(e)},parents:function(e){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var o=r[i];n.push(o)}r=r.parent()}return this.spawn(n,!0).filter(e)},commonAncestors:function(e){for(var n,r=0;r<this.length;r++){var i=this[r],o=i.parents();n=n||o,n=n.intersect(o)}return n.filter(e)},orphans:function(e){return this.stdFilter(function(n){return n.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(n){return n.isChild()}).filter(e)},children:Pr(function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this[n],i=r._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var n=[];function r(i){for(var o=0;o<i.length;o++){var a=i[o];n.push(a),a.children().nonempty()&&r(a.children())}}return r(this.children()),this.spawn(n,!0).filter(e)}};function fw(t,e,n,r){for(var i=[],o=new gu,a=t.cy(),s=a.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];n?i.push(l):s&&r(i,o,l)}for(;i.length>0;){var c=i.shift();e(c),o.add(c.id()),s&&r(i,o,c)}return t}function i1(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||t.push(o)}}pu.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return fw(this,t,e,i1)};function o1(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}pu.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return fw(this,t,e,o1)};function s$(t,e,n){o1(t,e,n),i1(t,e,n)}pu.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return fw(this,t,e,s$)};pu.ancestors=pu.parents;var Sc,a1;Sc=a1={data:dt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:dt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:dt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:dt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:dt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:dt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Sc.attr=Sc.data;Sc.removeAttr=Sc.removeData;var u$=a1,Np={};function bb(t){return function(e){var n=this;if(e===void 0&&(e=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(r+=t(i,s))}return r}else return}}Re(Np,{degree:bb(function(t,e){return e.source().same(e.target())?2:1}),indegree:bb(function(t,e){return e.target().same(t)?1:0}),outdegree:bb(function(t,e){return e.source().same(t)?1:0})});function Qs(t,e){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[t](n);s!==void 0&&(r===void 0||e(s,r))&&(r=s)}return r}}Re(Np,{minDegree:Qs("degree",function(t,e){return t<e}),maxDegree:Qs("degree",function(t,e){return t>e}),minIndegree:Qs("indegree",function(t,e){return t<e}),maxIndegree:Qs("indegree",function(t,e){return t>e}),minOutdegree:Qs("outdegree",function(t,e){return t<e}),maxOutdegree:Qs("outdegree",function(t,e){return t>e})});Re(Np,{totalDegree:function(e){for(var n=0,r=this.nodes(),i=0;i<r.length;i++)n+=r[i].degree(e);return n}});var ti,s1,u1=function(e,n,r){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var a=o._private.position,s={x:n.x!=null?n.x-a.x:0,y:n.y!=null?n.y-a.y:0};o.isParent()&&!(s.x===0&&s.y===0)&&o.children().shift(s,r),o.dirtyBoundingBoxCache()}}},I_={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,n){u1(e,n,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};ti=s1={position:dt.data(I_),silentPosition:dt.data(Re({},I_,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,n){u1(e,n,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,n){if(rt(e))n?this.silentPosition(e):this.position(e);else if(Nt(e)){var r=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=void 0;(s=r(a,o))&&(n?a.silentPosition(s):a.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,n,r){var i;if(rt(e)?(i={x:ce(e.x)?e.x:0,y:ce(e.y)?e.y:0},r=n):xe(e)&&ce(n)&&(i={x:0,y:0},i[e]=n),i!=null){var o=this.cy();o.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(o.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+i.x,y:u.y+i.y};r?s.silentPosition(l):s.position(l)}}o.endBatch()}return this},silentShift:function(e,n){return rt(e)?this.shift(e,!0):xe(e)&&ce(n)&&this.shift(e,n,!0),this},renderedPosition:function(e,n){var r=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),s=rt(e)?e:void 0,u=s!==void 0||n!==void 0&&xe(e);if(r&&r.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];n!==void 0?c.position(e,(n-a[e])/o):s!==void 0&&c.position(FM(s,o,a))}else{var d=r.position();return s=Tp(d,o,a),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,n){var r=this[0],i=this.cy(),o=rt(e)?e:void 0,a=o!==void 0||n!==void 0&&xe(e),s=i.hasCompoundNodes();if(r&&r.isNode())if(a)for(var u=0;u<this.length;u++){var l=this[u],c=s?l.parent():null,d=c&&c.length>0,f=d;d&&(c=c[0]);var h=f?c.position():{x:0,y:0};n!==void 0?l.position(e,n+h[e]):o!==void 0&&l.position({x:o.x+h.x,y:o.y+h.y})}else{var p=r.position(),m=s?r.parent():null,g=m&&m.length>0,v=g;g&&(m=m[0]);var y=v?m.position():{x:0,y:0};return o={x:p.x-y.x,y:p.y-y.y},e===void 0?o:o[e]}else if(!a)return;return this}};ti.modelPosition=ti.point=ti.position;ti.modelPositions=ti.points=ti.positions;ti.renderedPoint=ti.renderedPosition;ti.relativePoint=ti.relativePosition;var l$=s1,du,Go;du=Go={};Go.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,u=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}};Go.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,t||n.emitAndNotify("bounds")}}),this)};Go.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(a){if(!a.isParent())return;var s=a._private,u=a.children(),l=a.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},d=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),f=s.position;(d.w===0||d.h===0)&&(d={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue},d.x1=f.x-d.w/2,d.x2=f.x+d.w/2,d.y1=f.y-d.h/2,d.y2=f.y+d.h/2);function h(I,T,_){var M=0,A=0,N=T+_;return I>0&&N>0&&(M=T/N*I,A=_/N*I),{biasDiff:M,biasComplementDiff:A}}function p(I,T,_,M){if(_.units==="%")switch(M){case"width":return I>0?_.pfValue*I:0;case"height":return T>0?_.pfValue*T:0;case"average":return I>0&&T>0?_.pfValue*(I+T)/2:0;case"min":return I>0&&T>0?I>T?_.pfValue*T:_.pfValue*I:0;case"max":return I>0&&T>0?I>T?_.pfValue*I:_.pfValue*T:0;default:return 0}else return _.units==="px"?_.pfValue:0}var m=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(m=m*100/c.width.val);var g=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var v=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(v=v*100/c.height.val);var y=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var w=h(c.width.val-d.w,m,g),b=w.biasDiff,C=w.biasComplementDiff,E=h(c.height.val-d.h,v,y),D=E.biasDiff,S=E.biasComplementDiff;s.autoPadding=p(d.w,d.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),s.autoWidth=Math.max(d.w,c.width.val),f.x=(-b+d.x1+d.x2+C)/2,s.autoHeight=Math.max(d.h,c.height.val),f.y=(-D+d.y1+d.y2+S)/2}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;(!o.compoundBoundsClean||t)&&(n(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var kr=function(e){return e===1/0||e===-1/0?0:e},ei=function(e,n,r,i,o){i-n===0||o-r===0||n==null||r==null||i==null||o==null||(e.x1=n<e.x1?n:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},No=function(e,n){return n==null?e:ei(e,n.x1,n.y1,n.x2,n.y2)},sc=function(e,n,r){return lr(e,n,r)},qh=function(e,n,r){if(!n.cy().headless()){var i=n._private,o=i.rstyle,a=o.arrowWidth/2,s=n.pstyle(r+"-arrow-shape").value,u,l;if(s!=="none"){r==="source"?(u=o.srcX,l=o.srcY):r==="target"?(u=o.tgtX,l=o.tgtY):(u=o.midX,l=o.midY);var c=i.arrowBounds=i.arrowBounds||{},d=c[r]=c[r]||{};d.x1=u-a,d.y1=l-a,d.x2=u+a,d.y2=l+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,Jh(d,1),ei(e,d.x1,d.y1,d.x2,d.y2)}}},wb=function(e,n,r){if(!n.cy().headless()){var i;r?i=r+"-":i="";var o=n._private,a=o.rstyle,s=n.pstyle(i+"label").strValue;if(s){var u=n.pstyle("text-halign"),l=n.pstyle("text-valign"),c=sc(a,"labelWidth",r),d=sc(a,"labelHeight",r),f=sc(a,"labelX",r),h=sc(a,"labelY",r),p=n.pstyle(i+"text-margin-x").pfValue,m=n.pstyle(i+"text-margin-y").pfValue,g=n.isEdge(),v=n.pstyle(i+"text-rotation"),y=n.pstyle("text-outline-width").pfValue,w=n.pstyle("text-border-width").pfValue,b=w/2,C=n.pstyle("text-background-padding").pfValue,E=2,D=d,S=c,I=S/2,T=D/2,_,M,A,N;if(g)_=f-I,M=f+I,A=h-T,N=h+T;else{switch(u.value){case"left":_=f-S,M=f;break;case"center":_=f-I,M=f+I;break;case"right":_=f,M=f+S;break}switch(l.value){case"top":A=h-D,N=h;break;case"center":A=h-T,N=h+T;break;case"bottom":A=h,N=h+D;break}}var k=p-Math.max(y,b)-C-E,P=p+Math.max(y,b)+C+E,O=m-Math.max(y,b)-C-E,F=m+Math.max(y,b)+C+E;_+=k,M+=P,A+=O,N+=F;var U=r||"main",z=o.labelBounds,B=z[U]=z[U]||{};B.x1=_,B.y1=A,B.x2=M,B.y2=N,B.w=M-_,B.h=N-A,B.leftPad=k,B.rightPad=P,B.topPad=O,B.botPad=F;var V=g&&v.strValue==="autorotate",Y=v.pfValue!=null&&v.pfValue!==0;if(V||Y){var Z=V?sc(o.rstyle,"labelAngle",r):v.pfValue,W=Math.cos(Z),J=Math.sin(Z),te=(_+M)/2,ue=(A+N)/2;if(!g){switch(u.value){case"left":te=M;break;case"right":te=_;break}switch(l.value){case"top":ue=N;break;case"bottom":ue=A;break}}var ee=function(Ne,Ie){return Ne=Ne-te,Ie=Ie-ue,{x:Ne*W-Ie*J+te,y:Ne*J+Ie*W+ue}},j=ee(_,A),$=ee(_,N),q=ee(M,A),K=ee(M,N);_=Math.min(j.x,$.x,q.x,K.x),M=Math.max(j.x,$.x,q.x,K.x),A=Math.min(j.y,$.y,q.y,K.y),N=Math.max(j.y,$.y,q.y,K.y)}var se=U+"Rot",we=z[se]=z[se]||{};we.x1=_,we.y1=A,we.x2=M,we.y2=N,we.w=M-_,we.h=N-A,ei(e,_,A,M,N),ei(o.labelBounds.all,_,A,M,N)}return e}},T_=function(e,n){if(!n.cy().headless()){var r=n.pstyle("outline-opacity").value,i=n.pstyle("outline-width").value,o=n.pstyle("outline-offset").value,a=i+o;l1(e,n,r,a,"outside",a/2)}},l1=function(e,n,r,i,o,a){if(!(r===0||i<=0||o==="inside")){var s=n.cy(),u=n.pstyle("shape").value,l=s.renderer().nodeShapes[u],c=n.position(),d=c.x,f=c.y,h=n.width(),p=n.height();if(l.hasMiterBounds){o==="center"&&(i/=2);var m=l.miterBounds(d,f,h,p,i);No(e,m)}else a!=null&&a>0&&ep(e,[a,a,a,a])}},c$=function(e,n){if(!n.cy().headless()){var r=n.pstyle("border-opacity").value,i=n.pstyle("border-width").pfValue,o=n.pstyle("border-position").value;l1(e,n,r,i,o)}},d$=function(e,n){var r=e._private.cy,i=r.styleEnabled(),o=r.headless(),a=Zn(),s=e._private,u=e.isNode(),l=e.isEdge(),c,d,f,h,p,m,g=s.rstyle,v=u&&i?e.pstyle("bounds-expansion").pfValue:[0],y=function(We){return We.pstyle("display").value!=="none"},w=!i||y(e)&&(!l||y(e.source())&&y(e.target()));if(w){var b=0,C=0;i&&n.includeOverlays&&(b=e.pstyle("overlay-opacity").value,b!==0&&(C=e.pstyle("overlay-padding").value));var E=0,D=0;i&&n.includeUnderlays&&(E=e.pstyle("underlay-opacity").value,E!==0&&(D=e.pstyle("underlay-padding").value));var S=Math.max(C,D),I=0,T=0;if(i&&(I=e.pstyle("width").pfValue,T=I/2),u&&n.includeNodes){var _=e.position();p=_.x,m=_.y;var M=e.outerWidth(),A=M/2,N=e.outerHeight(),k=N/2;c=p-A,d=p+A,f=m-k,h=m+k,ei(a,c,f,d,h),i&&T_(a,e),i&&n.includeOutlines&&!o&&T_(a,e),i&&c$(a,e)}else if(l&&n.includeEdges)if(i&&!o){var P=e.pstyle("curve-style").strValue;if(c=Math.min(g.srcX,g.midX,g.tgtX),d=Math.max(g.srcX,g.midX,g.tgtX),f=Math.min(g.srcY,g.midY,g.tgtY),h=Math.max(g.srcY,g.midY,g.tgtY),c-=T,d+=T,f-=T,h+=T,ei(a,c,f,d,h),P==="haystack"){var O=g.haystackPts;if(O&&O.length===2){if(c=O[0].x,f=O[0].y,d=O[1].x,h=O[1].y,c>d){var F=c;c=d,d=F}if(f>h){var U=f;f=h,h=U}ei(a,c-T,f-T,d+T,h+T)}}else if(P==="bezier"||P==="unbundled-bezier"||Oo(P,"segments")||Oo(P,"taxi")){var z;switch(P){case"bezier":case"unbundled-bezier":z=g.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":z=g.linePts;break}if(z!=null)for(var B=0;B<z.length;B++){var V=z[B];c=V.x-T,d=V.x+T,f=V.y-T,h=V.y+T,ei(a,c,f,d,h)}}}else{var Y=e.source(),Z=Y.position(),W=e.target(),J=W.position();if(c=Z.x,d=J.x,f=Z.y,h=J.y,c>d){var te=c;c=d,d=te}if(f>h){var ue=f;f=h,h=ue}c-=T,d+=T,f-=T,h+=T,ei(a,c,f,d,h)}if(i&&n.includeEdges&&l&&(qh(a,e,"mid-source"),qh(a,e,"mid-target"),qh(a,e,"source"),qh(a,e,"target")),i){var ee=e.pstyle("ghost").value==="yes";if(ee){var j=e.pstyle("ghost-offset-x").pfValue,$=e.pstyle("ghost-offset-y").pfValue;ei(a,a.x1+j,a.y1+$,a.x2+j,a.y2+$)}}var q=s.bodyBounds=s.bodyBounds||{};dx(q,a),ep(q,v),Jh(q,1),i&&(c=a.x1,d=a.x2,f=a.y1,h=a.y2,ei(a,c-S,f-S,d+S,h+S));var K=s.overlayBounds=s.overlayBounds||{};dx(K,a),ep(K,v),Jh(K,1);var se=s.labelBounds=s.labelBounds||{};se.all!=null?Gj(se.all):se.all=Zn(),i&&n.includeLabels&&(n.includeMainLabels&&wb(a,e,null),l&&(n.includeSourceLabels&&wb(a,e,"source"),n.includeTargetLabels&&wb(a,e,"target")))}return a.x1=kr(a.x1),a.y1=kr(a.y1),a.x2=kr(a.x2),a.y2=kr(a.y2),a.w=kr(a.x2-a.x1),a.h=kr(a.y2-a.y1),a.w>0&&a.h>0&&w&&(ep(a,v),Jh(a,1)),a},c1=function(e){var n=0,r=function(a){return(a?1:0)<<n++},i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},d1=function(e){var n=function(s){return Math.round(s)};if(e.isEdge()){var r=e.source().position(),i=e.target().position();return ox([n(r.x),n(r.y),n(i.x),n(i.y)])}else{var o=e.position();return ox([n(o.x),n(o.y)])}},x_=function(e,n){var r=e._private,i,o=e.isEdge(),a=n==null?__:c1(n),s=a===__;if(r.bbCache==null?(i=d$(e,Ic),r.bbCache=i,r.bbCachePosKey=d1(e)):i=r.bbCache,!s){var u=e.isNode();i=Zn(),(n.includeNodes&&u||n.includeEdges&&!u)&&(n.includeOverlays?No(i,r.overlayBounds):No(i,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!o||n.includeSourceLabels&&n.includeTargetLabels)?No(i,r.labelBounds.all):(n.includeMainLabels&&No(i,r.labelBounds.mainRot),n.includeSourceLabels&&No(i,r.labelBounds.sourceRot),n.includeTargetLabels&&No(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Ic={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},__=c1(Ic),M_=Mn(Ic);Go.boundingBox=function(t){var e,n=t===void 0||t.useCache===void 0||t.useCache===!0,r=fu(function(c){var d=c._private;return d.bbCache==null||d.styleDirty||d.bbCachePosKey!==d1(c)},function(c){return c.id()});if(n&&this.length===1&&!r(this[0]))t===void 0?t=Ic:t=M_(t),e=x_(this[0],t);else{e=Zn(),t=t||Ic;var i=M_(t),o=this,a=o.cy(),s=a.styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),s&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var u=0;u<o.length;u++){var l=o[u];r(l)&&l.dirtyBoundingBoxCache(),No(e,x_(l,i))}}return e.x1=kr(e.x1),e.y1=kr(e.y1),e.x2=kr(e.x2),e.y2=kr(e.y2),e.w=kr(e.x2-e.x1),e.h=kr(e.y2-e.y1),e};Go.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Go.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),rt(t)){var o=t;t=function(){return o}}var a=function(c,d){return c._private.bbAtOldPos=t(c,d)},s=function(c){return c._private.bbAtOldPos};n.startBatch(),e.forEach(a).silentPositions(t),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=qj(this.boundingBox({useCache:!1}));return e.silentPositions(s),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),u};du.boundingbox=du.bb=du.boundingBox;du.renderedBoundingbox=du.renderedBoundingBox;var f$=Go,pc,Fc;pc=Fc={};var f1=function(e){e.uppercaseName=zT(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=zT(e.outerName),pc[e.name]=function(){var r=this[0],i=r._private,o=i.cy,a=o._private.styleEnabled;if(r)if(a){if(r.isParent())return r.updateCompoundBounds(),i[e.autoName]||0;var s=r.pstyle(e.name);switch(s.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},pc["outer"+e.uppercaseName]=function(){var r=this[0],i=r._private,o=i.cy,a=o._private.styleEnabled;if(r)if(a){var s=r[e.name](),u=r.pstyle("border-position").value,l;u==="center"?l=r.pstyle("border-width").pfValue:u==="outside"?l=2*r.pstyle("border-width").pfValue:l=0;var c=2*r.padding();return s+l+c}else return 1},pc["rendered"+e.uppercaseName]=function(){var r=this[0];if(r){var i=r[e.name]();return i*this.cy().zoom()}},pc["rendered"+e.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[e.outerName]();return i*this.cy().zoom()}}};f1({name:"width"});f1({name:"height"});Fc.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Fc.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Fc.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var h$=Fc,p$=function(e,n){if(e.isEdge()&&e.takesUpSpace())return n(e)},g$=function(e,n){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy();return Tp(n(e),r.zoom(),r.pan())}},v$=function(e,n){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy(),i=r.pan(),o=r.zoom();return n(e).map(function(a){return Tp(a,o,i)})}},m$=function(e){return e.renderer().getControlPoints(e)},y$=function(e){return e.renderer().getSegmentPoints(e)},b$=function(e){return e.renderer().getSourceEndpoint(e)},w$=function(e){return e.renderer().getTargetEndpoint(e)},E$=function(e){return e.renderer().getEdgeMidpoint(e)},A_={controlPoints:{get:m$,mult:!0},segmentPoints:{get:y$,mult:!0},sourceEndpoint:{get:b$},targetEndpoint:{get:w$},midpoint:{get:E$}},D$=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},C$=Object.keys(A_).reduce(function(t,e){var n=A_[e],r=D$(e);return t[e]=function(){return p$(this,n.get)},n.mult?t[r]=function(){return v$(this,n.get)}:t[r]=function(){return g$(this,n.get)},t},{}),S$=Re({},l$,f$,h$,C$);var h1=function(e,n){this.recycle(e,n)};function uc(){return!1}function Gh(){return!0}h1.prototype={instanceString:function(){return"event"},recycle:function(e,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=uc,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Gh:uc):e!=null&&e.type?n=e:this.type=e,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:r.x*i+o.x,y:r.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Gh;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Gh;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Gh,this.stopPropagation()},isDefaultPrevented:uc,isPropagationStopped:uc,isImmediatePropagationStopped:uc};var p1=/^([^.]+)(\.(?:[^.]+))?$/,I$=".*",g1={qualifierCompare:function(e,n){return e===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},R_=Object.keys(g1),T$={};function Op(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T$,e=arguments.length>1?arguments[1]:void 0,n=0;n<R_.length;n++){var r=R_[n];this[r]=t[r]||g1[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var $o=Op.prototype,v1=function(e,n,r,i,o,a,s){Nt(i)&&(o=i,i=null),s&&(a==null?a=s:a=Re({},a,s));for(var u=wt(r)?r:r.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!Bo(c)){var d=c.match(p1);if(d){var f=d[1],h=d[2]?d[2]:null,p=n(e,c,f,h,i,o,a);if(p===!1)break}}}},N_=function(e,n){return e.addEventFields(e.context,n),new h1(n.type,n)},x$=function(e,n,r){if(OV(r)){n(e,r);return}else if(rt(r)){n(e,N_(e,r));return}for(var i=wt(r)?r:r.split(/\s+/),o=0;o<i.length;o++){var a=i[o];if(!Bo(a)){var s=a.match(p1);if(s){var u=s[1],l=s[2]?s[2]:null,c=N_(e,{type:u,namespace:l,target:e.context});n(e,c)}}}};$o.on=$o.addListener=function(t,e,n,r,i){return v1(this,function(o,a,s,u,l,c,d){Nt(c)&&o.listeners.push({event:a,callback:c,type:s,namespace:u,qualifier:l,conf:d})},t,e,n,r,i),this};$o.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})};$o.removeListener=$o.off=function(t,e,n,r){var i=this;this.emitting!==0&&(this.listeners=gj(this.listeners));for(var o=this.listeners,a=function(l){var c=o[l];v1(i,function(d,f,h,p,m,g){if((c.type===h||t==="*")&&(!p&&c.namespace!==".*"||c.namespace===p)&&(!m||d.qualifierCompare(c.qualifier,m))&&(!g||c.callback===g))return o.splice(l,1),!1},t,e,n,r)},s=o.length-1;s>=0;s--)a(s);return this};$o.removeAllListeners=function(){return this.removeListener("*")};$o.emit=$o.trigger=function(t,e,n){var r=this.listeners,i=r.length;return this.emitting++,wt(e)||(e=[e]),x$(this,function(o,a){n!=null&&(r=[{event:a.event,type:a.type,namespace:a.namespace,callback:n}],i=r.length);for(var s=function(){var c=r[u];if(c.type===a.type&&(!c.namespace||c.namespace===a.namespace||c.namespace===I$)&&o.eventMatches(o.context,c,a)){var d=[a];e!=null&&mj(d,e),o.beforeEmit(o.context,c,a),c.conf&&c.conf.one&&(o.listeners=o.listeners.filter(function(p){return p!==c}));var f=o.callbackContext(o.context,c,a),h=c.callback.apply(f,d);o.afterEmit(o.context,c,a),h===!1&&(a.stopPropagation(),a.preventDefault())}},u=0;u<i;u++)s();o.bubble(o.context)&&!a.isPropagationStopped()&&o.parent(o.context).emit(a,e)},t),this.emitting--,this};var _$={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&Ac(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e.cy(),n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e},beforeEmit:function(e,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Wh=function(e){return xe(e)?new Ho(e):e},m1={createEmitter:function(){for(var e=0;e<this.length;e++){var n=this[e],r=n._private;r.emitter||(r.emitter=new Op(_$,n))}return this},emitter:function(){return this._private.emitter},on:function(e,n,r){for(var i=Wh(n),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,r)}return this},removeListener:function(e,n,r){for(var i=Wh(n),o=0;o<this.length;o++){var a=this[o];a.emitter().removeListener(e,i,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var n=this[e];n.emitter().removeAllListeners()}return this},one:function(e,n,r){for(var i=Wh(n),o=0;o<this.length;o++){var a=this[o];a.emitter().one(e,i,r)}return this},once:function(e,n,r){for(var i=Wh(n),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,r,{once:!0,onceCollection:this})}},emit:function(e,n){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,n)}return this},emitAndNotify:function(e,n){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,n),this}};dt.eventAliasesOn(m1);var y1={nodes:function(e){return this.filter(function(n){return n.isNode()}).filter(e)},edges:function(e){return this.filter(function(n){return n.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):n.push(i)}return{nodes:e,edges:n}},filter:function(e,n){if(e===void 0)return this;if(xe(e)||br(e))return new Ho(e).filter(this);if(Nt(e)){for(var r=this.spawn(),i=this,o=0;o<i.length;o++){var a=i[o],s=n?e.apply(n,[a,o,i]):e(a,o,i);s&&r.push(a)}return r}return this.spawn()},not:function(e){if(e){xe(e)&&(e=this.filter(e));for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r],o=e.has(i);o||n.push(i)}return n}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(xe(e)){var n=e;return this.filter(n)}for(var r=this.spawn(),i=this,o=e,a=this.length<e.length,s=a?i:o,u=a?o:i,l=0;l<s.length;l++){var c=s[l];u.has(c)&&r.push(c)}return r},xor:function(e){var n=this._private.cy;xe(e)&&(e=n.$(e));var r=this.spawn(),i=this,o=e,a=function(u,l){for(var c=0;c<u.length;c++){var d=u[c],f=d._private.data.id,h=l.hasElementWithId(f);h||r.push(d)}};return a(i,o),a(o,i),r},diff:function(e){var n=this._private.cy;xe(e)&&(e=n.$(e));var r=this.spawn(),i=this.spawn(),o=this.spawn(),a=this,s=e,u=function(c,d,f){for(var h=0;h<c.length;h++){var p=c[h],m=p._private.data.id,g=d.hasElementWithId(m);g?o.merge(p):f.push(p)}};return u(a,s,r),u(s,a,i),{left:r,right:i,both:o}},add:function(e){var n=this._private.cy;if(!e)return this;if(xe(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var a=e[o],s=!this.has(a);s&&i.push(a)}return i},merge:function(e){var n=this._private,r=n.cy;if(!e)return this;if(e&&xe(e)){var i=e;e=r.mutableElements().filter(i)}for(var o=n.map,a=0;a<e.length;a++){var s=e[a],u=s._private.data.id,l=!o.has(u);if(l){var c=this.length++;this[c]=s,o.set(u,{ele:s,index:c})}}return this},unmergeAt:function(e){var n=this[e],r=n.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(r);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,o.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var n=this._private,r=e._private.data.id,i=n.map,o=i.get(r);if(!o)return this;var a=o.index;return this.unmergeAt(a),this},unmerge:function(e){var n=this._private.cy;if(!e)return this;if(e&&xe(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var n=this.length-1;n>=0;n--){var r=this[n];e(r)&&this.unmergeAt(n)}return this},map:function(e,n){for(var r=[],i=this,o=0;o<i.length;o++){var a=i[o],s=n?e.apply(n,[a,o,i]):e(a,o,i);r.push(s)}return r},reduce:function(e,n){for(var r=n,i=this,o=0;o<i.length;o++)r=e(r,i[o],o,i);return r},max:function(e,n){for(var r=-1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=n?e.apply(n,[s,a,o]):e(s,a,o);u>r&&(r=u,i=s)}return{value:r,ele:i}},min:function(e,n){for(var r=1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=n?e.apply(n,[s,a,o]):e(s,a,o);u<r&&(r=u,i=s)}return{value:r,ele:i}}},ot=y1;ot.u=ot["|"]=ot["+"]=ot.union=ot.or=ot.add;ot["\\"]=ot["!"]=ot["-"]=ot.difference=ot.relativeComplement=ot.subtract=ot.not;ot.n=ot["&"]=ot["."]=ot.and=ot.intersection=ot.intersect;ot["^"]=ot["(+)"]=ot["(-)"]=ot.symmetricDifference=ot.symdiff=ot.xor;ot.fnFilter=ot.filterFn=ot.stdFilter=ot.filter;ot.complement=ot.abscomp=ot.absoluteComplement;var M$={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},b1=function(e,n){var r=e.cy(),i=r.hasCompoundNodes();function o(c){var d=c.pstyle("z-compound-depth");return d.value==="auto"?i?c.zDepth():0:d.value==="bottom"?-1:d.value==="top"?tw:0}var a=o(e)-o(n);if(a!==0)return a;function s(c){var d=c.pstyle("z-index-compare");return d.value==="auto"&&c.isNode()?1:0}var u=s(e)-s(n);if(u!==0)return u;var l=e.pstyle("z-index").value-n.pstyle("z-index").value;return l!==0?l:e.poolIndex()-n.poolIndex()},vp={forEach:function(e,n){if(Nt(e))for(var r=this.length,i=0;i<r;i++){var o=this[i],a=n?e.apply(n,[o,i,this]):e(o,i,this);if(a===!1)break}return this},toArray:function(){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e},slice:function(e,n){var r=[],i=this.length;n==null&&(n=i),e==null&&(e=0),e<0&&(e=i+e),n<0&&(n=i+n);for(var o=e;o>=0&&o<n&&o<i;o++)r.push(this[o]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Nt(e))return this;var n=this.toArray().sort(e);return this.spawn(n)},sortByZIndex:function(){return this.sort(b1)},zDepth:function(){var e=this[0];if(e){var n=e._private,r=n.group;if(r==="nodes"){var i=n.data.parent?e.parents().size():0;return e.isParent()?i:tw-1}else{var o=n.source,a=n.target,s=o.zDepth(),u=a.zDepth();return Math.max(s,u,0)}}}};vp.each=vp.forEach;var A$=function(){var e="undefined",n=(typeof Symbol>"u"?"undefined":un(Symbol))!=e&&un(Symbol.iterator)!=e;n&&(vp[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},o=0,a=this.length;return mM({next:function(){return o<a?i.value=r[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};A$();var R$=Mn({nodeDimensionsIncludeLabels:!1}),np={layoutDimensions:function(e){e=R$(e);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(e,n,r){var i=this.nodes().filter(function(C){return!C.isParent()}),o=this.cy(),a=n.eles,s=function(E){return E.id()},u=fu(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(E,D,S){var I={x:D.x1+D.w/2,y:D.y1+D.h/2},T={x:(S.x-I.x)*E,y:(S.y-I.y)*E};return{x:I.x+T.x,y:I.y+T.y}},c=n.spacingFactor&&n.spacingFactor!==1,d=function(){if(!c)return null;for(var E=Zn(),D=0;D<i.length;D++){var S=i[D],I=u(S,D);LM(E,I.x,I.y)}return E},f=d(),h=fu(function(C,E){var D=u(C,E);if(c){var S=Math.abs(n.spacingFactor);D=l(S,f,D)}return n.transform!=null&&(D=n.transform(C,D)),D},s);if(n.animate){for(var p=0;p<i.length;p++){var m=i[p],g=h(m,p),v=n.animateFilter==null||n.animateFilter(m,p);if(v){var y=m.animation({position:g,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(y)}else m.position(g)}if(n.fit){var w=o.animation({fit:{boundingBox:a.boundingBoxAt(h),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});e.animations.push(w)}else if(n.zoom!==void 0&&n.pan!==void 0){var b=o.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(b)}e.animations.forEach(function(C){return C.play()}),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),vu.all(e.animations.map(function(C){return C.promise()})).then(function(){e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(h),n.fit&&o.fit(n.eles,n.padding),n.zoom!=null&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var n=this.cy();return n.makeLayout(Re({},e,{eles:this}))}};np.createLayout=np.makeLayout=np.layout;function w1(t,e,n){var r=n._private,i=r.styleCache=r.styleCache||[],o;return(o=i[t])!=null||(o=i[t]=e(n)),o}function kp(t,e){return t=Ya(t),function(r){return w1(t,e,r)}}function Pp(t,e){t=Ya(t);var n=function(i){return e.call(i)};return function(){var i=this[0];if(i)return w1(t,n,i)}}var xn={recalculateRenderedStyle:function(e){var n=this.cy(),r=n.renderer(),i=n.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),n=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(i){n(i),i.connectedEdges().forEach(n)});return this},updateStyle:function(e){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var i=n.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=o;return e?a.emitAndNotify("style"):a.emit("style"),o.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var o=r._private.style[e];return o??(n?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(e).units},renderedStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,e)},style:function(e,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,o=r.style();if(rt(e)){var a=e;o.applyBypass(this,a,i),this.emitAndNotify("style")}else if(xe(e))if(n===void 0){var s=this[0];return s?o.getStylePropertyValue(s,e):void 0}else o.applyBypass(this,e,n,i),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style(),o=this;if(e===void 0)for(var a=0;a<o.length;a++){var s=o[a];i.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var l=o[u];i.removeBypasses(l,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var n=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,o=r.pstyle("opacity").value;if(!n)return o;var a=i.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var u=a[s],l=u.pstyle("opacity").value;o=l*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function Eb(t,e){var n=t._private,r=n.data.parent?t.parents():null;if(r)for(var i=0;i<r.length;i++){var o=r[i];if(!e(o))return!1}return!0}function hw(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],a=i.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!a||Eb(o,r);var u=s.source,l=s.target;return n(u)&&(!a||Eb(u,n))&&(u===l||n(l)&&(!a||Eb(l,n)))}}}var mu=kp("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});xn.takesUpSpace=Pp("takesUpSpace",hw({ok:mu}));var N$=kp("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&mu(t)}),O$=kp("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&mu(t)});xn.interactive=Pp("interactive",hw({ok:N$,parentOk:O$,edgeOkViaNode:mu}));xn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var k$=kp("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&mu(t)}),P$=mu;xn.visible=Pp("visible",hw({ok:k$,edgeOkViaNode:P$}));xn.hidden=function(){var t=this[0];if(t)return!t.visible()};xn.isBundledBezier=Pp("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});xn.bypass=xn.css=xn.style;xn.renderedCss=xn.renderedStyle;xn.removeBypass=xn.removeCss=xn.removeStyle;xn.pstyle=xn.parsedStyle;var Lo={};function O_(t){return function(){var e=arguments,n=[];if(e.length===2){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(e.length===1&&Nt(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&wt(e[0])){for(var a=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(u);if(d!==void 0&&(l=d,!d))return this}l&&(u._private[t.field]=t.value,c&&n.push(u))}var f=this.spawn(n);f.updateStyle(),f.emit(t.event),a&&f.emit(a)}return this}}function yu(t){Lo[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(n!==void 0)return n}return e._private[t.field]}},Lo[t.on]=O_({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Lo[t.off]=O_({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}yu({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});yu({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});yu({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});yu({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Lo.deselect=Lo.unselect;Lo.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};yu({field:"active",on:"activate",off:"unactivate"});yu({field:"pannable",on:"panify",off:"unpanify"});Lo.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ln={},k_=function(e){return function(r){for(var i=this,o=[],a=0;a<i.length;a++){var s=i[a];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),c=0;c<l.length;c++){var d=l[c],f=d.source(),h=d.target();if(e.noIncomingEdges&&h===s&&f!==s||e.noOutgoingEdges&&f===s&&h!==s){u=!0;break}}u||o.push(s)}}return this.spawn(o,!0).filter(r)}},P_=function(e){return function(n){for(var r=this,i=[],o=0;o<r.length;o++){var a=r[o];if(a.isNode())for(var s=a.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.source(),d=l.target();e.outgoing&&c===a?(i.push(l),i.push(d)):e.incoming&&d===a&&(i.push(l),i.push(c))}}return this.spawn(i,!0).filter(n)}},F_=function(e){return function(n){for(var r=this,i=[],o={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,u=0;u<a.length;u++){var l=a[u],c=l.id();o[c]||(o[c]=!0,i.push(l),s=!0)}if(!s)break;r=a}return this.spawn(i,!0).filter(n)}};Ln.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Re(Ln,{roots:k_({noIncomingEdges:!0}),leaves:k_({noOutgoingEdges:!0}),outgoers:Pr(P_({outgoing:!0}),"outgoers"),successors:F_({outgoing:!0}),incomers:Pr(P_({incoming:!0}),"incomers"),predecessors:F_({})});Re(Ln,{neighborhood:Pr(function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Ln.neighbourhood=Ln.neighborhood;Ln.closedNeighbourhood=Ln.closedNeighborhood;Ln.openNeighbourhood=Ln.openNeighborhood;Re(Ln,{source:Pr(function(e){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&e?r.filter(e):r},"source"),target:Pr(function(e){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&e?r.filter(e):r},"target"),sources:L_({attr:"source"}),targets:L_({attr:"target"})});function L_(t){return function(n){for(var r=[],i=0;i<this.length;i++){var o=this[i],a=o._private[t.attr];a&&r.push(a)}return this.spawn(r,!0).filter(n)}}Re(Ln,{edgesWith:Pr(B_(),"edgesWith"),edgesTo:Pr(B_({thisIsSrc:!0}),"edgesTo")});function B_(t){return function(n){var r=[],i=this._private.cy,o=t||{};xe(n)&&(n=i.$(n));for(var a=0;a<n.length;a++)for(var s=n[a]._private.edges,u=0;u<s.length;u++){var l=s[u],c=l._private.data,d=this.hasElementWithId(c.source)&&n.hasElementWithId(c.target),f=n.hasElementWithId(c.source)&&this.hasElementWithId(c.target),h=d||f;h&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!d||o.thisIsTgt&&!f)||r.push(l))}return this.spawn(r,!0)}}Re(Ln,{connectedEdges:Pr(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Pr(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Pr(V_(),"parallelEdges"),codirectedEdges:Pr(V_({codirected:!0}),"codirectedEdges")});function V_(t){var e={codirected:!1};return t=Re({},e,t),function(r){for(var i=[],o=this.edges(),a=t,s=0;s<o.length;s++)for(var u=o[s],l=u._private,c=l.source,d=c._private.data.id,f=l.data.target,h=c._private.edges,p=0;p<h.length;p++){var m=h[p],g=m._private.data,v=g.target,y=g.source,w=v===f&&y===d,b=d===v&&f===y;(a.codirected&&w||!a.codirected&&(w||b))&&i.push(m)}return this.spawn(i,!0).filter(r)}}Re(Ln,{components:function(e){var n=this,r=n.cy(),i=r.collection(),o=e==null?n.nodes():e.nodes(),a=[];e!=null&&o.empty()&&(o=e.sources());var s=function(c,d){i.merge(c),o.unmerge(c),d.merge(c)};if(o.empty())return n.spawn();var u=function(){var c=r.collection();a.push(c);var d=o[0];s(d,c),n.bfs({directed:!1,roots:d,visit:function(h){return s(h,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(h){n.has(h)&&c.has(h.source())&&c.has(h.target())&&c.merge(h)})})};do u();while(o.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Ln.componentsOf=Ln.components;var _n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){_t("A collection must have a reference to the core");return}var o=new Ki,a=!1;if(!n)n=[];else if(n.length>0&&rt(n[0])&&!Ac(n[0])){a=!0;for(var s=[],u=new gu,l=0,c=n.length;l<c;l++){var d=n[l];d.data==null&&(d.data={});var f=d.data;if(f.id==null)f.id=kM();else if(e.hasElementWithId(f.id)||u.has(f.id))continue;var h=new Ip(e,d,!1);s.push(h),u.add(f.id)}n=s}this.length=0;for(var p=0,m=n.length;p<m;p++){var g=n[p][0];if(g!=null){var v=g._private.data.id;(!r||!o.has(v))&&(r&&o.set(v,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var w=this.lazyMap=new Ki,b=this.eles,C=0;C<b.length;C++){var E=b[C];w.set(E.id(),{index:C,ele:E})}}},r&&(this._private.map=o),a&&!i&&this.restore()},St=Ip.prototype=_n.prototype=Object.create(Array.prototype);St.instanceString=function(){return"collection"};St.spawn=function(t,e){return new _n(this.cy(),t,e)};St.spawnSelf=function(){return this.spawn(this)};St.cy=function(){return this._private.cy};St.renderer=function(){return this._private.cy.renderer()};St.element=function(){return this[0]};St.collection=function(){return wM(this)?this:new _n(this._private.cy,[this])};St.unique=function(){return new _n(this._private.cy,this,!0)};St.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};St.getElementById=function(t){t=""+t;var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new _n(e)};St.$id=St.getElementById;St.poolIndex=function(){var t=this._private.cy,e=t._private.elements,n=this[0]._private.data.id;return e._private.map.get(n).index};St.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};St.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};St.json=function(t){var e=this.element(),n=this.cy();if(e==null&&t)return this;if(e!=null){var r=e._private;if(rt(t)){if(n.startBatch(),t.data){e.data(t.data);var i=r.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,u=t.data.target;s!=null&&s!=i.source&&(a.source=""+s,o=!0),u!=null&&u!=i.target&&(a.target=""+u,o=!0),o&&(e=e.move(a))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var d=function(m,g,v){var y=t[m];y!=null&&y!==r[m]&&(y?e[g]():e[v]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),n.endBatch(),this}else if(t===void 0){var f={data:Mi(r.data),position:Mi(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};f.classes="";var h=0;return r.classes.forEach(function(p){return f.classes+=h++===0?p:" "+p}),f}}};St.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e],r=n.json();t.push(r)}return t};St.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),o=new Ip(t,i,!1);e.push(o)}return new _n(t,e)};St.copy=St.clone;St.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),i=r._private,o=[],a=[],s,u=0,l=n.length;u<l;u++){var c=n[u];e&&!c.removed()||(c.isNode()?o.push(c):a.push(c))}s=o.concat(a);var d,f=function(){s.splice(d,1),d--};for(d=0;d<s.length;d++){var h=s[d],p=h._private,m=p.data;if(h.clearTraversalCache(),!(!e&&!p.removed)){if(m.id===void 0)m.id=kM();else if(ce(m.id))m.id=""+m.id;else if(Bo(m.id)||!xe(m.id)){_t("Can not create element with invalid string ID `"+m.id+"`"),f();continue}else if(r.hasElementWithId(m.id)){_t("Can not create second element with ID `"+m.id+"`"),f();continue}}var g=m.id;if(h.isNode()){var v=p.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(h.isEdge()){for(var y=h,w=["source","target"],b=w.length,C=!1,E=0;E<b;E++){var D=w[E],S=m[D];ce(S)&&(S=m[D]=""+m[D]),S==null||S===""?(_t("Can not create edge `"+g+"` with unspecified "+D),C=!0):r.hasElementWithId(S)||(_t("Can not create edge `"+g+"` with nonexistant "+D+" `"+S+"`"),C=!0)}if(C){f();continue}var I=r.getElementById(m.source),T=r.getElementById(m.target);I.same(T)?I._private.edges.push(y):(I._private.edges.push(y),T._private.edges.push(y)),y._private.source=I,y._private.target=T}p.map=new Ki,p.map.set(g,{ele:h,index:0}),p.removed=!1,e&&r.addToPool(h)}for(var _=0;_<o.length;_++){var M=o[_],A=M._private.data;ce(A.parent)&&(A.parent=""+A.parent);var N=A.parent,k=N!=null;if(k||M._private.parent){var P=M._private.parent?r.collection().merge(M._private.parent):r.getElementById(N);if(P.empty())A.parent=void 0;else if(P[0].removed())ft("Node added with missing parent, reference to parent removed"),A.parent=void 0,M._private.parent=null;else{for(var O=!1,F=P;!F.empty();){if(M.same(F)){O=!0,A.parent=void 0;break}F=F.parent()}O||(P[0]._private.children.push(M),M._private.parent=P[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var U=s.length===n.length?n:new _n(r,s),z=0;z<U.length;z++){var B=U[z];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}var V;i.hasCompoundNodes?V=r.collection().merge(U).merge(U.connectedNodes()).merge(U.parent()):V=U,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?U.emitAndNotify("add"):e&&U.emit("add")}return n};St.removed=function(){var t=this[0];return t&&t._private.removed};St.inside=function(){var t=this[0];return t&&!t._private.removed};St.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],i={},o=n._private.cy;function a(N){for(var k=N._private.edges,P=0;P<k.length;P++)u(k[P])}function s(N){for(var k=N._private.children,P=0;P<k.length;P++)u(k[P])}function u(N){var k=i[N.id()];e&&N.removed()||k||(i[N.id()]=!0,N.isNode()?(r.push(N),a(N),s(N)):r.unshift(N))}for(var l=0,c=n.length;l<c;l++){var d=n[l];u(d)}function f(N,k){var P=N._private.edges;Vo(P,k),N.clearTraversalCache()}function h(N){N.clearTraversalCache()}var p=[];p.ids={};function m(N,k){k=k[0],N=N[0];var P=N._private.children,O=N.id();Vo(P,k),k._private.parent=null,p.ids[O]||(p.ids[O]=!0,p.push(N))}n.dirtyCompoundBoundsCache(),e&&o.removeFromPool(r);for(var g=0;g<r.length;g++){var v=r[g];if(v.isEdge()){var y=v.source()[0],w=v.target()[0];f(y,v),f(w,v);for(var b=v.parallelEdges(),C=0;C<b.length;C++){var E=b[C];h(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var D=v.parent();D.length!==0&&m(D,v)}e&&(v._private.removed=!0)}var S=o._private.elements;o._private.hasCompoundNodes=!1;for(var I=0;I<S.length;I++){var T=S[I];if(T.isParent()){o._private.hasCompoundNodes=!0;break}}var _=new _n(this.cy(),r);_.size()>0&&(t?_.emitAndNotify("remove"):e&&_.emit("remove"));for(var M=0;M<p.length;M++){var A=p[M];(!e||!A.removed())&&A.updateStyle()}return _};St.move=function(t){var e=this._private.cy,n=this,r=!1,i=!1,o=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var a=o(t.source),s=o(t.target),u=a!=null&&e.hasElementWithId(a),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var h=0;h<n.length;h++){var p=n[h],m=p._private.data;p.isEdge()&&(u&&(m.source=a),l&&(m.target=s))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(t.parent!==void 0){var c=o(t.parent),d=c===null||e.hasElementWithId(c);if(d){var f=c===null?void 0:c;e.batch(function(){var h=n.remove(r,i);h.emitAndNotify("moveout");for(var p=0;p<n.length;p++){var m=n[p],g=m._private.data;m.isNode()&&(g.parent=f)}h.restore(r,i)}),n.emitAndNotify("move")}}return this};[GM,GU,tp,Fo,pu,u$,Np,S$,m1,y1,M$,vp,np,xn,Lo,Ln].forEach(function(t){Re(St,t)});var F$={add:function(e){var n,r=this;if(br(e)){var i=e;if(i._private.cy===r)n=i.restore();else{for(var o=[],a=0;a<i.length;a++){var s=i[a];o.push(s.json())}n=new _n(r,o)}}else if(wt(e)){var u=e;n=new _n(r,u)}else if(rt(e)&&(wt(e.nodes)||wt(e.edges))){for(var l=e,c=[],d=["nodes","edges"],f=0,h=d.length;f<h;f++){var p=d[f],m=l[p];if(wt(m))for(var g=0,v=m.length;g<v;g++){var y=Re({group:p},m[g]);c.push(y)}}n=new _n(r,c)}else{var w=e;n=new Ip(r,w).collection()}return n},remove:function(e){if(!br(e)){if(xe(e)){var n=e;e=this.$(n)}}return e.remove()}};function L$(t,e,n,r){var i=4,o=.001,a=1e-7,s=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var f=c?new Float32Array(u):new Array(u);function h(T,_){return 1-3*_+3*T}function p(T,_){return 3*_-6*T}function m(T){return 3*T}function g(T,_,M){return((h(_,M)*T+p(_,M))*T+m(_))*T}function v(T,_,M){return 3*h(_,M)*T*T+2*p(_,M)*T+m(_)}function y(T,_){for(var M=0;M<i;++M){var A=v(_,t,n);if(A===0)return _;var N=g(_,t,n)-T;_-=N/A}return _}function w(){for(var T=0;T<u;++T)f[T]=g(T*l,t,n)}function b(T,_,M){var A,N,k=0;do N=_+(M-_)/2,A=g(N,t,n)-T,A>0?M=N:_=N;while(Math.abs(A)>a&&++k<s);return N}function C(T){for(var _=0,M=1,A=u-1;M!==A&&f[M]<=T;++M)_+=l;--M;var N=(T-f[M])/(f[M+1]-f[M]),k=_+N*l,P=v(k,t,n);return P>=o?y(T,k):P===0?k:b(T,_,_+l)}var E=!1;function D(){E=!0,(t!==e||n!==r)&&w()}var S=function(_){return E||D(),t===e&&n===r?_:_===0?0:_===1?1:g(C(_),e,r)};S.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var I="generateBezier("+[t,e,n,r]+")";return S.toString=function(){return I},S}var B$=(function(){function t(r){return-r.tension*r.x-r.friction*r.v}function e(r,i,o){var a={x:r.x+o.dx*i,v:r.v+o.dv*i,tension:r.tension,friction:r.friction};return{dx:a.v,dv:t(a)}}function n(r,i){var o={dx:r.v,dv:t(r)},a=e(r,i*.5,o),s=e(r,i*.5,a),u=e(r,i,s),l=1/6*(o.dx+2*(a.dx+s.dx)+u.dx),c=1/6*(o.dv+2*(a.dv+s.dv)+u.dv);return r.x=r.x+l*i,r.v=r.v+c*i,r}return function r(i,o,a){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,d=16/1e3,f,h,p;for(i=parseFloat(i)||500,o=parseFloat(o)||20,a=a||null,s.tension=i,s.friction=o,f=a!==null,f?(l=r(i,o),h=l/a*d):h=d;p=n(p||s,h),u.push(1+p.x),l+=16,Math.abs(p.x)>c&&Math.abs(p.v)>c;);return f?function(m){return u[m*(u.length-1)|0]}:l}})(),Ct=function(e,n,r,i){var o=L$(e,n,r,i);return function(a,s,u){return a+(s-a)*o(u)}},rp={linear:function(e,n,r){return e+(n-e)*r},ease:Ct(.25,.1,.25,1),"ease-in":Ct(.42,0,1,1),"ease-out":Ct(0,0,.58,1),"ease-in-out":Ct(.42,0,.58,1),"ease-in-sine":Ct(.47,0,.745,.715),"ease-out-sine":Ct(.39,.575,.565,1),"ease-in-out-sine":Ct(.445,.05,.55,.95),"ease-in-quad":Ct(.55,.085,.68,.53),"ease-out-quad":Ct(.25,.46,.45,.94),"ease-in-out-quad":Ct(.455,.03,.515,.955),"ease-in-cubic":Ct(.55,.055,.675,.19),"ease-out-cubic":Ct(.215,.61,.355,1),"ease-in-out-cubic":Ct(.645,.045,.355,1),"ease-in-quart":Ct(.895,.03,.685,.22),"ease-out-quart":Ct(.165,.84,.44,1),"ease-in-out-quart":Ct(.77,0,.175,1),"ease-in-quint":Ct(.755,.05,.855,.06),"ease-out-quint":Ct(.23,1,.32,1),"ease-in-out-quint":Ct(.86,0,.07,1),"ease-in-expo":Ct(.95,.05,.795,.035),"ease-out-expo":Ct(.19,1,.22,1),"ease-in-out-expo":Ct(1,0,0,1),"ease-in-circ":Ct(.6,.04,.98,.335),"ease-out-circ":Ct(.075,.82,.165,1),"ease-in-out-circ":Ct(.785,.135,.15,.86),spring:function(e,n,r){if(r===0)return rp.linear;var i=B$(e,n,r);return function(o,a,s){return o+(a-o)*i(s)}},"cubic-bezier":Ct};function j_(t,e,n,r,i){if(r===1||e===n)return n;var o=i(e,n,r);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function H_(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Js(t,e,n,r,i){var o=i!=null?i.type:null;n<0?n=0:n>1&&(n=1);var a=H_(t,i),s=H_(e,i);if(ce(a)&&ce(s))return j_(o,a,s,n,r);if(wt(a)&&wt(s)){for(var u=[],l=0;l<s.length;l++){var c=a[l],d=s[l];if(c!=null&&d!=null){var f=j_(o,c,d,n,r);u.push(f)}else u.push(d)}return u}}function V$(t,e,n,r){var i=!r,o=t._private,a=e._private,s=a.easing,u=a.startTime,l=r?t:t.cy(),c=l.style();if(!a.easingImpl)if(s==null)a.easingImpl=rp.linear;else{var d;if(xe(s)){var f=c.parse("transition-timing-function",s);d=f.value}else d=s;var h,p;xe(d)?(h=d,p=[]):(h=d[1],p=d.slice(2).map(function(U){return+U})),p.length>0?(h==="spring"&&p.push(a.duration),a.easingImpl=rp[h].apply(null,p)):a.easingImpl=rp[h]}var m=a.easingImpl,g;if(a.duration===0?g=1:g=(n-u)/a.duration,a.applying&&(g=a.progress),g<0?g=0:g>1&&(g=1),a.delay==null){var v=a.startPosition,y=a.position;if(y&&i&&!t.locked()){var w={};lc(v.x,y.x)&&(w.x=Js(v.x,y.x,g,m)),lc(v.y,y.y)&&(w.y=Js(v.y,y.y,g,m)),t.position(w)}var b=a.startPan,C=a.pan,E=o.pan,D=C!=null&&r;D&&(lc(b.x,C.x)&&(E.x=Js(b.x,C.x,g,m)),lc(b.y,C.y)&&(E.y=Js(b.y,C.y,g,m)),t.emit("pan"));var S=a.startZoom,I=a.zoom,T=I!=null&&r;T&&(lc(S,I)&&(o.zoom=Dc(o.minZoom,Js(S,I,g,m),o.maxZoom)),t.emit("zoom")),(D||T)&&t.emit("viewport");var _=a.style;if(_&&_.length>0&&i){for(var M=0;M<_.length;M++){var A=_[M],N=A.name,k=A,P=a.startStyle[N],O=c.properties[P.name],F=Js(P,k,g,m,O);c.overrideBypass(t,N,F)}t.emit("style")}}return a.progress=g,g}function lc(t,e){return t==null||e==null?!1:ce(t)&&ce(e)?!0:!!(t&&e)}function j$(t,e,n,r){var i=e._private;i.started=!0,i.startTime=n-i.progress*i.duration}function U_(t,e){var n=e._private.aniEles,r=[];function i(c,d){var f=c._private,h=f.animation.current,p=f.animation.queue,m=!1;if(h.length===0){var g=p.shift();g&&h.push(g)}for(var v=function(E){for(var D=E.length-1;D>=0;D--){var S=E[D];S()}E.splice(0,E.length)},y=h.length-1;y>=0;y--){var w=h[y],b=w._private;if(b.stopped){h.splice(y,1),b.hooked=!1,b.playing=!1,b.started=!1,v(b.frames);continue}!b.playing&&!b.applying||(b.playing&&b.applying&&(b.applying=!1),b.started||j$(c,w,t),V$(c,w,t,d),b.applying&&(b.applying=!1),v(b.frames),b.step!=null&&b.step(t),w.completed()&&(h.splice(y,1),b.hooked=!1,b.playing=!1,b.started=!1,v(b.completes)),m=!0)}return!d&&h.length===0&&p.length===0&&r.push(c),m}for(var o=!1,a=0;a<n.length;a++){var s=n[a],u=i(s);o=o||u}var l=i(e,!0);(o||l)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(r),e.emit("step")}var H$={animate:dt.animate(),animation:dt.animation(),animated:dt.animated(),clearQueue:dt.clearQueue(),delay:dt.delay(),delayAnimation:dt.delayAnimation(),stop:dt.stop(),addToAnimationPool:function(e){var n=this;n.styleEnabled()&&n._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function n(){e._private.animationsRunning&&dp(function(o){U_(o,e),n()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(o,a){U_(a,e)},r.beforeRenderPriorities.animations):n()}},U$={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&Ac(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e,n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e}},Yh=function(e){return xe(e)?new Ho(e):e},E1={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Op(U$,this)),this},emitter:function(){return this._private.emitter},on:function(e,n,r){return this.emitter().on(e,Yh(n),r),this},removeListener:function(e,n,r){return this.emitter().removeListener(e,Yh(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,n,r){return this.emitter().one(e,Yh(n),r),this},once:function(e,n,r){return this.emitter().one(e,Yh(n),r),this},emit:function(e,n){return this.emitter().emit(e,n),this},emitAndNotify:function(e,n){return this.emit(e),this.notify(e,n),this}};dt.eventAliasesOn(E1);var jb={png:function(e){var n=this._private.renderer;return e=e||{},n.png(e)},jpg:function(e){var n=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",n.jpg(e)}};jb.jpeg=jb.jpg;var ip={layout:function(e){var n=this;if(e==null){_t("Layout options must be specified to make a layout");return}if(e.name==null){_t("A `name` must be specified to make a layout");return}var r=e.name,i=n.extension("layout",r);if(i==null){_t("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;xe(e.eles)?o=n.$(e.eles):o=e.eles!=null?e.eles:n.$();var a=new i(Re({},e,{cy:n,eles:o}));return a}};ip.createLayout=ip.makeLayout=ip.layout;var $$={notify:function(e,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();n!=null&&i.merge(n);return}if(r.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,n)}},notifications:function(e){var n=this._private;return e===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?n.notify(r):n.notify(r,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var n=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o],s=n.getElementById(o);s.data(a)}})}},z$=Mn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Hb={renderTo:function(e,n,r,i){var o=this._private.renderer;return o.renderTo(e,n,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var n=this,r=n.extension("renderer",e.name);if(r==null){_t("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ft("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=z$(e);i.cy=n,n._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var n=e.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Hb.invalidateDimensions=Hb.resize;var op={collection:function(e,n){return xe(e)?this.$(e):br(e)?e.collection():wt(e)?(n||(n={}),new _n(this,e,n.unique,n.removed)):new _n(this)},nodes:function(e){var n=this.$(function(r){return r.isNode()});return e?n.filter(e):n},edges:function(e){var n=this.$(function(r){return r.isEdge()});return e?n.filter(e):n},$:function(e){var n=this._private.elements;return e?n.filter(e):n.spawnSelf()},mutableElements:function(){return this._private.elements}};op.elements=op.filter=op.$;var yn={},vc="t",q$="f";yn.apply=function(t){for(var e=this,n=e._private,r=n.cy,i=r.collection(),o=0;o<t.length;o++){var a=t[o],s=e.getContextMeta(a);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,a);a._private.appliedInitStyle?e.updateTransitions(a,l.diffProps):a._private.appliedInitStyle=!0;var c=e.updateStyleHints(a);c&&i.push(a)}}return i};yn.getPropertiesDiff=function(t,e){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=t+"-"+e,o=r[i];if(o)return o;for(var a=[],s={},u=0;u<n.length;u++){var l=n[u],c=t[u]===vc,d=e[u]===vc,f=c!==d,h=l.mappedProperties.length>0;if(f||d&&h){var p=void 0;f&&h||f?p=l.properties:h&&(p=l.mappedProperties);for(var m=0;m<p.length;m++){for(var g=p[m],v=g.name,y=!1,w=u+1;w<n.length;w++){var b=n[w],C=e[w]===vc;if(C&&(y=b.properties[g.name]!=null,y))break}!s[v]&&!y&&(s[v]=!0,a.push(v))}}}return r[i]=a,a};yn.getContextMeta=function(t){for(var e=this,n="",r,i=t._private.styleCxtKey||"",o=0;o<e.length;o++){var a=e[o],s=a.selector&&a.selector.matches(t);s?n+=vc:n+=q$}return r=e.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};yn.getContextStyle=function(t){var e=t.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},o=0;o<n.length;o++){var a=n[o],s=e[o]===vc;if(s)for(var u=0;u<a.properties.length;u++){var l=a.properties[u];i[l.name]=l}}return r[e]=i,i};yn.applyContextStyle=function(t,e,n){for(var r=this,i=t.diffPropNames,o={},a=r.types,s=0;s<i.length;s++){var u=i[s],l=e[u],c=n.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===a.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var d=c.mapping,f=d.fnValue=l.value(n);if(f===d.prevFnValue)continue}var h=o[u]={prev:c};r.applyParsedProperty(n,l),h.next=n.pstyle(u),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:o}};yn.updateStyleHints=function(t){var e=t._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,o=function(q,K,se){return n.getPropertiesHash(q,K,se)},a=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;r=Object.keys(u);for(var l=0;l<i.length;l++){var c=i[l];e.styleKeys[c]=[qa,iu]}for(var d=function(q,K){return e.styleKeys[K][0]=bc(q,e.styleKeys[K][0])},f=function(q,K){return e.styleKeys[K][1]=wc(q,e.styleKeys[K][1])},h=function(q,K){d(q,K),f(q,K)},p=function(q,K){for(var se=0;se<q.length;se++){var we=q.charCodeAt(se);d(we,K),f(we,K)}},m=2e9,g=function(q){return-128<q&&q<128&&Math.floor(q)!==q?m-(q*1024|0):q},v=0;v<r.length;v++){var y=r[v],w=u[y];if(w!=null){var b=this.properties[y],C=b.type,E=b.groupKey,D=void 0;b.hashOverride!=null?D=b.hashOverride(t,w):w.pfValue!=null&&(D=w.pfValue);var S=b.enums==null?w.value:null,I=D!=null,T=S!=null,_=I||T,M=w.units;if(C.number&&_&&!C.multiple){var A=I?D:S;h(g(A),E),!I&&M!=null&&p(M,E)}else p(w.strValue,E)}}for(var N=[qa,iu],k=0;k<i.length;k++){var P=i[k],O=e.styleKeys[P];N[0]=bc(O[0],N[0]),N[1]=wc(O[1],N[1])}e.styleKey=sj(N[0],N[1]);var F=e.styleKeys;e.labelDimsKey=Ao(F.labelDimensions);var U=o(t,["label"],F.labelDimensions);if(e.labelKey=Ao(U),e.labelStyleKey=Ao(jh(F.commonLabel,U)),!s){var z=o(t,["source-label"],F.labelDimensions);e.sourceLabelKey=Ao(z),e.sourceLabelStyleKey=Ao(jh(F.commonLabel,z));var B=o(t,["target-label"],F.labelDimensions);e.targetLabelKey=Ao(B),e.targetLabelStyleKey=Ao(jh(F.commonLabel,B))}if(s){var V=e.styleKeys,Y=V.nodeBody,Z=V.nodeBorder,W=V.nodeOutline,J=V.backgroundImage,te=V.compound,ue=V.pie,ee=V.stripe,j=[Y,Z,W,J,te,ue,ee].filter(function($){return $!=null}).reduce(jh,[qa,iu]);e.nodeKey=Ao(j),e.hasPie=ue!=null&&ue[0]!==qa&&ue[1]!==iu,e.hasStripe=ee!=null&&ee[0]!==qa&&ee[1]!==iu}return a!==e.styleKey};yn.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};yn.applyParsedProperty=function(t,e){var n=this,r=e,i=t._private.style,o,a=n.types,s=n.properties[r.name].type,u=r.bypass,l=i[r.name],c=l&&l.bypass,d=t._private,f="mapping",h=function(Y){return Y==null?null:Y.pfValue!=null?Y.pfValue:Y.value},p=function(){var Y=h(l),Z=h(r);n.checkTriggers(t,r.name,Y,Z)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",u)),r.delete)return i[r.name]=void 0,p(),!0;if(r.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,p(),!0):!1:(p(),!0);if(r.deleteBypass)return l?l.bypass?(i[r.name]=l.bypassed,p(),!0):!1:(p(),!0);var m=function(){ft("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case a.mapData:{for(var g=r.field.split("."),v=d.data,y=0;y<g.length&&v;y++){var w=g[y];v=v[w]}if(v==null)return m(),!1;var b;if(ce(v)){var C=r.fieldMax-r.fieldMin;C===0?b=0:b=(v-r.fieldMin)/C}else return ft("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(b<0?b=0:b>1&&(b=1),s.color){var E=r.valueMin[0],D=r.valueMax[0],S=r.valueMin[1],I=r.valueMax[1],T=r.valueMin[2],_=r.valueMax[2],M=r.valueMin[3]==null?1:r.valueMin[3],A=r.valueMax[3]==null?1:r.valueMax[3],N=[Math.round(E+(D-E)*b),Math.round(S+(I-S)*b),Math.round(T+(_-T)*b),Math.round(M+(A-M)*b)];o={bypass:r.bypass,name:r.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else if(s.number){var k=r.valueMin+(r.valueMax-r.valueMin)*b;o=this.parse(r.name,k,r.bypass,f)}else return!1;if(!o)return m(),!1;o.mapping=r,r=o;break}case a.data:{for(var P=r.field.split("."),O=d.data,F=0;F<P.length&&O;F++){var U=P[F];O=O[U]}if(O!=null&&(o=this.parse(r.name,O,r.bypass,f)),!o)return m(),!1;o.mapping=r,r=o;break}case a.fn:{var z=r.value,B=r.fnValue!=null?r.fnValue:z(t);if(r.prevFnValue=B,B==null)return ft("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(r.name,B,r.bypass,f),!o)return ft("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=Mi(r),r=o;break}case void 0:break;default:return!1}return u?(c?r.bypassed=l.bypassed:r.bypassed=l,i[r.name]=r):c?l.bypassed=r:i[r.name]=r,p(),!0};yn.cleanElements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!e)r._private.style={};else for(var i=r._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=i[s];u!=null&&(u.bypass?u.bypassed=null:i[s]=null)}}};yn.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};yn.updateTransitions=function(t,e){var n=this,r=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},u=!1,l=0;l<i.length;l++){var c=i[l],d=t.pstyle(c),f=e[c];if(f){var h=f.prev,p=h,m=f.next!=null?f.next:d,g=!1,v=void 0,y=1e-6;p&&(ce(p.pfValue)&&ce(m.pfValue)?(g=m.pfValue-p.pfValue,v=p.pfValue+y*g):ce(p.value)&&ce(m.value)?(g=m.value-p.value,v=p.value+y*g):wt(p.value)&&wt(m.value)&&(g=p.value[0]!==m.value[0]||p.value[1]!==m.value[1]||p.value[2]!==m.value[2],v=p.strValue),g&&(s[c]=m.strValue,this.applyBypass(t,c,v),u=!0))}}if(!u)return;r.transitioning=!0,new vu(function(w){a>0?t.delayAnimation(a).play().promise().then(w):w()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1)};yn.checkTrigger=function(t,e,n,r,i,o){var a=this.properties[e],s=i(a);t.removed()||s!=null&&s(n,r,t)&&o(a)};yn.checkZOrderTrigger=function(t,e,n,r){var i=this;this.checkTrigger(t,e,n,r,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};yn.checkBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};yn.checkConnectedEdgesBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};yn.checkParallelEdgesBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};yn.checkTriggers=function(t,e,n,r){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,r),this.checkBoundsTrigger(t,e,n,r),this.checkConnectedEdgesBoundsTrigger(t,e,n,r),this.checkParallelEdgesBoundsTrigger(t,e,n,r)};var Lc={};Lc.applyBypass=function(t,e,n,r){var i=this,o=[],a=!0;if(e==="*"||e==="**"){if(n!==void 0)for(var s=0;s<i.properties.length;s++){var u=i.properties[s],l=u.name,c=this.parse(l,n,!0);c&&o.push(c)}}else if(xe(e)){var d=this.parse(e,n,!0);d&&o.push(d)}else if(rt(e)){var f=e;r=n;for(var h=Object.keys(f),p=0;p<h.length;p++){var m=h[p],g=f[m];if(g===void 0&&(g=f[Cp(m)]),g!==void 0){var v=this.parse(m,g,!0);v&&o.push(v)}}}else return!1;if(o.length===0)return!1;for(var y=!1,w=0;w<t.length;w++){for(var b=t[w],C={},E=void 0,D=0;D<o.length;D++){var S=o[D];if(r){var I=b.pstyle(S.name);E=C[S.name]={prev:I}}y=this.applyParsedProperty(b,Mi(S))||y,r&&(E.next=b.pstyle(S.name))}y&&this.updateStyleHints(b),r&&this.updateTransitions(b,C,a)}return y};Lc.overrideBypass=function(t,e,n){e=Jb(e);for(var r=0;r<t.length;r++){var i=t[r],o=i._private.style[e],a=this.properties[e].type,s=a.color,u=a.mutiple,l=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,n):(o.value=n,o.pfValue!=null&&(o.pfValue=n),s?o.strValue="rgb("+n.join(",")+")":u?o.strValue=n.join(" "):o.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,e,l,n)}};Lc.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Lc.removeBypasses=function(t,e,n){for(var r=!0,i=0;i<t.length;i++){for(var o=t[i],a={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],c=o.pstyle(l.name);if(!(!c||!c.bypass)){var d="",f=this.parse(u,d,!0),h=a[l.name]={prev:c};this.applyParsedProperty(o,f),h.next=o.pstyle(l.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,a,r)}};var pw={};pw.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};pw.containerCss=function(t){var e=this._private.cy,n=e.container(),r=e.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(t)};var Ai={};Ai.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ai.getRawStyle=function(t,e){var n=this;if(t=t[0],t){for(var r={},i=0;i<n.properties.length;i++){var o=n.properties[i],a=n.getStylePropertyValue(t,o.name,e);a!=null&&(r[o.name]=a,r[Cp(o.name)]=a)}return r}};Ai.getIndexedStyle=function(t,e,n,r){var i=t.pstyle(e)[n][r];return i??t.cy().style().getDefaultProperty(e)[n][0]};Ai.getStylePropertyValue=function(t,e,n){var r=this;if(t=t[0],t){var i=r.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,a=t.pstyle(i.name);if(a){var s=a.value,u=a.units,l=a.strValue;if(n&&o.number&&s!=null&&ce(s)){var c=t.cy().zoom(),d=function(g){return g*c},f=function(g,v){return d(g)+v},h=wt(s),p=h?u.every(function(m){return m!=null}):u!=null;return p?h?s.map(function(m,g){return f(m,u[g])}).join(" "):f(s,u):h?s.map(function(m){return xe(m)?m:""+d(m)}).join(" "):""+d(s)}else if(l!=null)return l}return null}};Ai.getAnimationStartStyle=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=i.name,a=t.pstyle(o);a!==void 0&&(rt(a)?a=this.parse(o,a.strValue):a=this.parse(o,a)),a&&(n[o]=a)}return n};Ai.getPropsList=function(t){var e=this,n=[],r=t,i=e.properties;if(r)for(var o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],l=i[s]||i[Jb(s)],c=this.parse(l.name,u);c&&n.push(c)}return n};Ai.getNonDefaultPropertiesHash=function(t,e,n){var r=n.slice(),i,o,a,s,u,l;for(u=0;u<e.length;u++)if(i=e[u],o=t.pstyle(i,!1),o!=null)if(o.pfValue!=null)r[0]=bc(s,r[0]),r[1]=wc(s,r[1]);else for(a=o.strValue,l=0;l<a.length;l++)s=a.charCodeAt(l),r[0]=bc(s,r[0]),r[1]=wc(s,r[1]);return r};Ai.getPropertiesHash=Ai.getNonDefaultPropertiesHash;var Fp={};Fp.appendFromJson=function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n],i=r.selector,o=r.style||r.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var u=a[s],l=o[u];e.css(u,l)}}return e};Fp.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Fp.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t};var gw={};gw.appendFromString=function(t){var e=this,n=this,r=""+t,i,o,a;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){r.length>i.length?r=r.substr(i.length):r=""}function u(){o.length>a.length?o=o.substr(a.length):o=""}for(;;){var l=r.match(/^\s*$/);if(l)break;var c=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){ft("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=c[0];var d=c[1];if(d!=="core"){var f=new Ho(d);if(f.invalid){ft("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),s();continue}}var h=c[2],p=!1;o=h;for(var m=[];;){var g=o.match(/^\s*$/);if(g)break;var v=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){ft("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),p=!0;break}a=v[0];var y=v[1],w=v[2],b=e.properties[y];if(!b){ft("Skipping property: Invalid property name in: "+a),u();continue}var C=n.parse(y,w);if(!C){ft("Skipping property: Invalid property definition in: "+a),u();continue}m.push({name:y,val:w}),u()}if(p){s();break}n.selector(d);for(var E=0;E<m.length;E++){var D=m[E];n.css(D.name,D.val)}s()}return n};gw.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Xt={};(function(){var t=sn,e=VV,n=HV,r=UV,i=$V,o=function($){return"^"+$+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},a=function($){var q=t+"|\\w+|"+e+"|"+n+"|"+r+"|"+i;return"^"+$+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+q+")\\s*\\,\\s*("+q+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Xt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:a("mapData")},mapLayoutData:{mapping:!0,regex:a("mapLayoutData")},mapScratch:{mapping:!0,regex:a("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function($,q){switch($.length){case 2:return q[0]!=="deg"&&q[0]!=="rad"&&q[1]!=="deg"&&q[1]!=="rad";case 1:return xe($[0])||q[0]==="deg"||q[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function($){var q=$.length;return q===1||q===2||q===4}}};var u={zeroNonZero:function($,q){return($==null||q==null)&&$!==q||$==0&&q!=0?!0:$!=0&&q==0},any:function($,q){return $!=q},emptyNonEmpty:function($,q){var K=Bo($),se=Bo(q);return K&&!se||!K&&se}},l=Xt.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],d=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],f=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],p=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification},{name:"box-select-labels",type:l.bool,triggersBounds:u.any}],m=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any},{name:"box-selection",type:l.boxSelection,triggersZOrder:u.any}],g=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function($,q,K){return $===q?!1:K.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],v=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],w=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],b=function($,q){return q.value==="label"?-$.poolIndex():q.pfValue},C=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:b},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:b},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],E=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],D=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],S=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],I=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],T=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function($,q){return $===q?!1:$==="bezier"||q==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],_=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],M=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],A=[];Xt.pieBackgroundN=16,A.push({name:"pie-size",type:l.sizeMaybePercent}),A.push({name:"pie-hole",type:l.sizeMaybePercent}),A.push({name:"pie-start-angle",type:l.angle});for(var N=1;N<=Xt.pieBackgroundN;N++)A.push({name:"pie-"+N+"-background-color",type:l.color}),A.push({name:"pie-"+N+"-background-size",type:l.percent}),A.push({name:"pie-"+N+"-background-opacity",type:l.zeroOneNumber});var k=[];Xt.stripeBackgroundN=16,k.push({name:"stripe-size",type:l.sizeMaybePercent}),k.push({name:"stripe-direction",type:l.axisDirectionPrimary});for(var P=1;P<=Xt.stripeBackgroundN;P++)k.push({name:"stripe-"+P+"-background-color",type:l.color}),k.push({name:"stripe-"+P+"-background-size",type:l.percent}),k.push({name:"stripe-"+P+"-background-opacity",type:l.zeroOneNumber});var O=[],F=Xt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(j){F.forEach(function($){var q=$+"-"+j.name,K=j.type,se=j.triggersBounds;O.push({name:q,type:K,triggersBounds:se})})},{});var U=Xt.properties=[].concat(m,w,g,v,y,_,p,h,c,d,f,C,E,D,S,A,k,I,T,O,M),z=Xt.propertyGroups={behavior:m,transition:w,visibility:g,overlay:v,underlay:y,ghost:_,commonLabel:p,labelDimensions:h,mainLabel:c,sourceLabel:d,targetLabel:f,nodeBody:C,nodeBorder:E,nodeOutline:D,backgroundImage:S,pie:A,stripe:k,compound:I,edgeLine:T,edgeArrow:O,core:M},B=Xt.propertyGroupNames={},V=Xt.propertyGroupKeys=Object.keys(z);V.forEach(function(j){B[j]=z[j].map(function($){return $.name}),z[j].forEach(function($){return $.groupKey=j})});var Y=Xt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Xt.propertyNames=U.map(function(j){return j.name});for(var Z=0;Z<U.length;Z++){var W=U[Z];U[W.name]=W}for(var J=0;J<Y.length;J++){var te=Y[J],ue=U[te.pointsTo],ee={name:te.name,alias:!0,pointsTo:ue};U.push(ee),U[te.name]=ee}})();Xt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Xt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Re({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=Xt.pieBackgroundN;c++){var d=l.name.replace("{{i}}",c),f=l.value;u[d]=f}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=Xt.stripeBackgroundN;c++){var d=l.name.replace("{{i}}",c),f=l.value;u[d]=f}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return Xt.arrowPrefixes.forEach(function(c){var d=c+"-"+l.name,f=l.value;u[d]=f}),u},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);n[o]=s}}return t.defaultProperties=n,t.defaultProperties};Xt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Lp={};Lp.parse=function(t,e,n,r){var i=this;if(Nt(e))return i.parseImplWarn(t,e,n,r);var o=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,a=n?"t":"f",s=""+e,u=RM(t,s,a,o),l=i.propCache=i.propCache||[],c;return(c=l[u])||(c=l[u]=i.parseImplWarn(t,e,n,r)),(n||r==="mapping")&&(c=Mi(c),c&&(c.value=Mi(c.value))),c};Lp.parseImplWarn=function(t,e,n,r){var i=this.parseImpl(t,e,n,r);return!i&&e!=null&&ft("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&ft("The style value of `label` is deprecated for `"+i.name+"`"),i};Lp.parseImpl=function(t,e,n,r){var i=this;t=Jb(t);var o=i.properties[t],a=e,s=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var u=xe(e);u&&(e=e.trim());var l=o.type;if(!l)return null;if(n&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Nt(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:n};var c,d;if(!(!u||r||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(n)return!1;var f=s.data;return{name:t,value:c,strValue:""+e,mapped:f,field:c[1],bypass:n}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(s.mapData.regex).exec(e))){if(n||l.multiple)return!1;var h=s.mapData;if(!(l.color||l.number))return!1;var p=this.parse(t,d[4]);if(!p||p.mapped)return!1;var m=this.parse(t,d[5]);if(!m||m.mapped)return!1;if(p.pfValue===m.pfValue||p.strValue===m.strValue)return ft("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(l.color){var g=p.value,v=m.value,y=g[0]===v[0]&&g[1]===v[1]&&g[2]===v[2]&&(g[3]===v[3]||(g[3]==null||g[3]===1)&&(v[3]==null||v[3]===1));if(y)return!1}return{name:t,value:d,strValue:""+e,mapped:h,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:p.value,valueMax:m.value,bypass:n}}}if(l.multiple&&r!=="multiple"){var w;if(u?w=e.split(/\s+/):wt(e)?w=e:w=[e],l.evenMultiple&&w.length%2!==0)return null;for(var b=[],C=[],E=[],D="",S=!1,I=0;I<w.length;I++){var T=i.parse(t,w[I],n,"multiple");S=S||xe(T.value),b.push(T.value),E.push(T.pfValue!=null?T.pfValue:T.value),C.push(T.units),D+=(I>0?" ":"")+T.strValue}return l.validate&&!l.validate(b,C)?null:l.singleEnum&&S?b.length===1&&xe(b[0])?{name:t,value:b[0],strValue:b[0],bypass:n}:null:{name:t,value:b,pfValue:E,strValue:D,bypass:n,units:C}}var _=function(){for(var ee=0;ee<l.enums.length;ee++){var j=l.enums[ee];if(j===e)return{name:t,value:e,strValue:""+e,bypass:n}}return null};if(l.number){var M,A="px";if(l.units&&(M=l.units),l.implicitUnits&&(A=l.implicitUnits),!l.unitless)if(u){var N="px|em"+(l.allowPercent?"|\\%":"");M&&(N=M);var k=e.match("^("+sn+")("+N+")?$");k&&(e=k[1],M=k[2]||A)}else(!M||l.implicitUnits)&&(M=A);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=a,_();if(l.integer&&!NV(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var P={name:t,value:e,strValue:""+e+(M||""),units:M,bypass:n};return l.unitless||M!=="px"&&M!=="em"?P.pfValue=e:P.pfValue=M==="px"||!M?e:this.getEmSizeInPixels()*e,(M==="ms"||M==="s")&&(P.pfValue=M==="ms"?e:1e3*e),(M==="deg"||M==="rad")&&(P.pfValue=M==="rad"?e:Uj(e)),M==="%"&&(P.pfValue=e/100),P}else if(l.propList){var O=[],F=""+e;if(F!=="none"){for(var U=F.split(/\s*,\s*|\s+/),z=0;z<U.length;z++){var B=U[z].trim();i.properties[B]?O.push(B):ft("`"+B+"` is not a valid property name")}if(O.length===0)return null}return{name:t,value:O,strValue:O.length===0?"none":O.join(" "),bypass:n}}else if(l.color){var V=SM(e);return V?{name:t,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:n}:null}else if(l.regex||l.regexes){if(l.enums){var Y=_();if(Y)return Y}for(var Z=l.regexes?l.regexes:[l.regex],W=0;W<Z.length;W++){var J=new RegExp(Z[W]),te=J.exec(e);if(te)return{name:t,value:l.singleRegexMatchValue?te[1]:te,strValue:""+e,bypass:n}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:n}:l.enums?_():null};var mn=function(e){if(!(this instanceof mn))return new mn(e);if(!Qb(e)){_t("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Bn=mn.prototype;Bn.instanceString=function(){return"style"};Bn.clear=function(){for(var t=this._private,e=t.cy,n=e.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(n,!0),n.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Bn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Bn.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Bn.selector=function(t){var e=t==="core"?null:new Ho(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this};Bn.css=function(){var t=this,e=arguments;if(e.length===1)for(var n=e[0],r=0;r<t.properties.length;r++){var i=t.properties[r],o=n[i.name];o===void 0&&(o=n[Cp(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Bn.style=Bn.css;Bn.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this};Bn.append=function(t){return EM(t)?t.appendToStyle(this):wt(t)?this.appendFromJson(t):xe(t)&&this.appendFromString(t),this};mn.fromJson=function(t,e){var n=new mn(t);return n.fromJson(e),n};mn.fromString=function(t,e){return new mn(t).fromString(e)};[yn,Lc,pw,Ai,Fp,gw,Xt,Lp].forEach(function(t){Re(Bn,t)});mn.types=Bn.types;mn.properties=Bn.properties;mn.propertyGroups=Bn.propertyGroups;mn.propertyGroupNames=Bn.propertyGroupNames;mn.propertyGroupKeys=Bn.propertyGroupKeys;var G$={style:function(e){if(e){var n=this.setStyle(e);n.update()}return this._private.style},setStyle:function(e){var n=this._private;return EM(e)?n.style=e.generateStyle(this):wt(e)?n.style=mn.fromJson(this,e):xe(e)?n.style=mn.fromString(this,e):n.style=mn(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},W$="single",Xa={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var n=this._private;if(n.selectionType==null&&(n.selectionType=W$),e!==void 0)(e==="additive"||e==="single")&&(n.selectionType=e);else return n.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,n=this._private.pan,r,i,o,a,s;switch(e.length){case 0:return n;case 1:if(xe(e[0]))return r=e[0],n[r];if(rt(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,s=o.y,ce(a)&&(n.x=a),ce(s)&&(n.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&ce(i)&&(n[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,n){var r=arguments,i=this._private.pan,o,a,s,u,l;if(!this._private.panningEnabled)return this;switch(r.length){case 1:rt(e)&&(s=r[0],u=s.x,l=s.y,ce(u)&&(i.x+=u),ce(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:o=e,a=n,(o==="x"||o==="y")&&ce(a)&&(i[o]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,n){var r=this.getFitViewport(e,n);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,n){if(ce(e)&&n===void 0&&(n=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(xe(e)){var i=e;e=this.$(i)}else if(PV(e)){var o=e;r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else br(e)||(e=this.mutableElements());if(!(br(e)&&e.empty())){r=r||e.boundingBox();var a=this.width(),s=this.height(),u;if(n=ce(n)?n:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){u=Math.min((a-2*n)/r.w,(s-2*n)/r.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(a-u*(r.x1+r.x2))/2,y:(s-u*(r.y1+r.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,n){var r=this._private;if(n==null){var i=e;e=i.min,n=i.max}return ce(e)&&ce(n)&&e<=n?(r.minZoom=e,r.maxZoom=n):ce(e)&&n===void 0&&e<=r.maxZoom?r.minZoom=e:ce(n)&&e===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var n=this._private,r=n.pan,i=n.zoom,o,a,s=!1;if(n.zoomingEnabled||(s=!0),ce(e)?a=e:rt(e)&&(a=e.level,e.position!=null?o=Tp(e.position,i,r):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!n.panningEnabled&&(s=!0)),a=a>n.maxZoom?n.maxZoom:a,a=a<n.minZoom?n.minZoom:a,s||!ce(a)||a===i||o!=null&&(!ce(o.x)||!ce(o.y)))return null;if(o!=null){var u=r,l=i,c=a,d={x:-c/l*(o.x-u.x)+o.x,y:-c/l*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:c,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var n=this.getZoomedViewport(e),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var n=this._private,r=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(ce(e.zoom)||(r=!1),rt(e.pan)||(i=!1),!r&&!i)return this;if(r){var u=e.zoom;u<n.minZoom||u>n.maxZoom||!n.zoomingEnabled?a=!0:(n.zoom=u,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&n.panningEnabled){var l=e.pan;ce(l.x)&&(n.pan.x=l.x,s=!1),ce(l.y)&&(n.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var n=this.getCenterPan(e);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,n){if(this._private.panningEnabled){if(xe(e)){var r=e;e=this.mutableElements().filter(r)}else br(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),a=this.height();n=n===void 0?this._private.zoom:n;var s={x:(o-n*(i.x1+i.x2))/2,y:(a-n*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,n=e.container,r=this;return e.sizeCache=e.sizeCache||(n?(function(){var i=r.window().getComputedStyle(n),o=function(s){return parseFloat(i.getPropertyValue(s))};return{width:n.clientWidth-o("padding-left")-o("padding-right"),height:n.clientHeight-o("padding-top")-o("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/n,x2:(r.x2-e.x)/n,y1:(r.y1-e.y)/n,y2:(r.y2-e.y)/n};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),n=this.height();return{x1:0,y1:0,x2:e,y2:n,w:e,h:n}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Xa.centre=Xa.center;Xa.autolockNodes=Xa.autolock;Xa.autoungrabifyNodes=Xa.autoungrabify;var Tc={data:dt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:dt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:dt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:dt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Tc.attr=Tc.data;Tc.removeAttr=Tc.removeData;var xc=function(e){var n=this;e=Re({},e);var r=e.container;r&&!cp(r)&&cp(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=n;var a=an!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=Re({name:a?"grid":"null"},s.layout),s.renderer=Re({name:a?"canvas":"null"},s.renderer);var u=function(p,m,g){return m!==void 0?m:g!==void 0?g:p},l=this._private={container:r,ready:!1,options:s,elements:new _n(this),listeners:[],aniEles:new _n(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:ce(s.zoom)?s.zoom:1,pan:{x:rt(s.pan)&&ce(s.pan.x)?s.pan.x:0,y:rt(s.pan)&&ce(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(p,m){var g=p.some(FV);if(g)return vu.all(p).then(m);m(p)};l.styleEnabled&&n.setStyle([]);var d=Re({},s,s.renderer);n.initRenderer(d);var f=function(p,m,g){n.notifications(!1);var v=n.mutableElements();v.length>0&&v.remove(),p!=null&&(rt(p)||wt(p))&&n.add(p),n.one("layoutready",function(w){n.notifications(!0),n.emit(w),n.one("load",m),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",g),n.emit("done")});var y=Re({},n._private.options.layout);y.eles=n.elements(),n.layout(y).run()};c([s.style,s.elements],function(h){var p=h[0],m=h[1];l.styleEnabled&&n.style().append(p),f(m,function(){n.startAnimationLoop(),l.ready=!0,Nt(s.ready)&&n.on("ready",s.ready);for(var g=0;g<o.length;g++){var v=o[g];n.on("ready",v)}i&&(i.readies=[]),n.emit("ready")},s.done)})},mp=xc.prototype;Re(mp,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return an;var n=this._private.container.ownerDocument;return n===void 0||n==null?an:n.defaultView||an},mount:function(e){if(e!=null){var n=this,r=n._private,i=r.options;return!cp(e)&&cp(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=e,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(Re({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Mi(this._private.options)},json:function(e){var n=this,r=n._private,i=n.mutableElements(),o=function(b){return n.getElementById(b.id())};if(rt(e)){if(n.startBatch(),e.elements){var a={},s=function(b,C){for(var E=[],D=[],S=0;S<b.length;S++){var I=b[S];if(!I.data.id){ft("cy.json() cannot handle elements without an ID attribute");continue}var T=""+I.data.id,_=n.getElementById(T);a[T]=!0,_.length!==0?D.push({ele:_,json:I}):(C&&(I.group=C),E.push(I))}n.add(E);for(var M=0;M<D.length;M++){var A=D[M],N=A.ele,k=A.json;N.json(k)}};if(wt(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],d=e.elements[c];wt(d)&&s(d,c)}var f=n.collection();i.filter(function(w){return!a[w.id()]}).forEach(function(w){w.isParent()?f.merge(w):w.remove()}),f.forEach(function(w){return w.children().move({parent:null})}),f.forEach(function(w){return o(w).remove()})}e.style&&n.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&n.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&n.pan(e.pan),e.data&&n.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<h.length;p++){var m=h[p];e[m]!=null&&n[m](e[m])}return n.endBatch(),this}else{var g=!!e,v={};g?v.elements=this.elements().map(function(w){return w.json()}):(v.elements={},i.forEach(function(w){var b=w.group();v.elements[b]||(v.elements[b]=[]),v.elements[b].push(w.json())})),this._private.styleEnabled&&(v.style=n.style().json()),v.data=Mi(n.data());var y=r.options;return v.zoomingEnabled=r.zoomingEnabled,v.userZoomingEnabled=r.userZoomingEnabled,v.zoom=r.zoom,v.minZoom=r.minZoom,v.maxZoom=r.maxZoom,v.panningEnabled=r.panningEnabled,v.userPanningEnabled=r.userPanningEnabled,v.pan=Mi(r.pan),v.boxSelectionEnabled=r.boxSelectionEnabled,v.renderer=Mi(y.renderer),v.hideEdgesOnViewport=y.hideEdgesOnViewport,v.textureOnViewport=y.textureOnViewport,v.wheelSensitivity=y.wheelSensitivity,v.motionBlur=y.motionBlur,v.multiClickDebounceTime=y.multiClickDebounceTime,v}}});mp.$id=mp.getElementById;[F$,H$,E1,jb,ip,$$,Hb,op,G$,Xa,Tc].forEach(function(t){Re(mp,t)});var Y$={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}},Z$={maximal:!1,acyclic:!1},eu=function(e){return e.scratch("breadthfirst")},$_=function(e,n){return e.scratch("breadthfirst",n)};function D1(t){this.options=Re({},Y$,Z$,t)}D1.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=n.nodes().filter(function(Se){return Se.isChildless()}),i=n,o=t.directed,a=t.acyclic||t.maximal||t.maximalAdjustments>0,s=!!t.boundingBox,u=Zn(s?t.boundingBox:structuredClone(e.extent())),l;if(br(t.roots))l=t.roots;else if(wt(t.roots)){for(var c=[],d=0;d<t.roots.length;d++){var f=t.roots[d],h=e.getElementById(f);c.push(h)}l=e.collection(c)}else if(xe(t.roots))l=e.$(t.roots);else if(o)l=r.roots();else{var p=n.components();l=e.collection();for(var m=function(){var le=p[g],ve=le.maxDegree(!1),Ee=le.filter(function(Me){return Me.degree(!1)===ve});l=l.add(Ee)},g=0;g<p.length;g++)m()}var v=[],y={},w=function(le,ve){v[ve]==null&&(v[ve]=[]);var Ee=v[ve].length;v[ve].push(le),$_(le,{index:Ee,depth:ve})},b=function(le,ve){var Ee=eu(le),Me=Ee.depth,De=Ee.index;v[Me][De]=null,le.isChildless()&&w(le,ve)};i.bfs({roots:l,directed:t.directed,visit:function(le,ve,Ee,Me,De){var Ve=le[0],Ke=Ve.id();Ve.isChildless()&&w(Ve,De),y[Ke]=!0}});for(var C=[],E=0;E<r.length;E++){var D=r[E];y[D.id()]||C.push(D)}var S=function(le){for(var ve=v[le],Ee=0;Ee<ve.length;Ee++){var Me=ve[Ee];if(Me==null){ve.splice(Ee,1),Ee--;continue}$_(Me,{depth:le,index:Ee})}},I=function(le,ve){for(var Ee=eu(le),Me=le.incomers().filter(function(Pe){return Pe.isNode()&&n.has(Pe)}),De=-1,Ve=le.id(),Ke=0;Ke<Me.length;Ke++){var Qe=Me[Ke],Je=eu(Qe);De=Math.max(De,Je.depth)}if(Ee.depth<=De){if(!t.acyclic&&ve[Ve])return null;var it=De+1;return b(le,it),ve[Ve]=it,!0}return!1};if(o&&a){var T=[],_={},M=function(le){return T.push(le)},A=function(){return T.shift()};for(r.forEach(function(Se){return T.push(Se)});T.length>0;){var N=A(),k=I(N,_);if(k)N.outgoers().filter(function(Se){return Se.isNode()&&n.has(Se)}).forEach(M);else if(k===null){ft("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var P=0;if(t.avoidOverlap)for(var O=0;O<r.length;O++){var F=r[O],U=F.layoutDimensions(t),z=U.w,B=U.h;P=Math.max(P,z,B)}var V={},Y=function(le){if(V[le.id()])return V[le.id()];for(var ve=eu(le).depth,Ee=le.neighborhood(),Me=0,De=0,Ve=0;Ve<Ee.length;Ve++){var Ke=Ee[Ve];if(!(Ke.isEdge()||Ke.isParent()||!r.has(Ke))){var Qe=eu(Ke);if(Qe!=null){var Je=Qe.index,it=Qe.depth;if(!(Je==null||it==null)){var Pe=v[it].length;it<ve&&(Me+=Je/Pe,De++)}}}}return De=Math.max(1,De),Me=Me/De,De===0&&(Me=0),V[le.id()]=Me,Me},Z=function(le,ve){var Ee=Y(le),Me=Y(ve),De=Ee-Me;return De===0?CM(le.id(),ve.id()):De};t.depthSort!==void 0&&(Z=t.depthSort);for(var W=v.length,J=0;J<W;J++)v[J].sort(Z),S(J);for(var te=[],ue=0;ue<C.length;ue++)te.push(C[ue]);var ee=function(){for(var le=0;le<W;le++)S(le)};te.length&&(v.unshift(te),W=v.length,ee());for(var j=0,$=0;$<W;$++)j=Math.max(v[$].length,j);var q={x:u.x1+u.w/2,y:u.y1+u.h/2},K=r.reduce(function(Se,le){return(function(ve){return{w:Se.w===-1?ve.w:(Se.w+ve.w)/2,h:Se.h===-1?ve.h:(Se.h+ve.h)/2}})(le.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),se=Math.max(W===1?0:s?(u.h-t.padding*2-K.h)/(W-1):(u.h-t.padding*2-K.h)/(W+1),P),we=v.reduce(function(Se,le){return Math.max(Se,le.length)},0),We=function(le){var ve=eu(le),Ee=ve.depth,Me=ve.index;if(t.circle){var De=Math.min(u.w/2/W,u.h/2/W);De=Math.max(De,P);var Ve=De*Ee+De-(W>0&&v[0].length<=3?De/2:0),Ke=2*Math.PI/v[Ee].length*Me;return Ee===0&&v[0].length===1&&(Ve=1),{x:q.x+Ve*Math.cos(Ke),y:q.y+Ve*Math.sin(Ke)}}else{var Qe=v[Ee].length,Je=Math.max(Qe===1?0:s?(u.w-t.padding*2-K.w)/((t.grid?we:Qe)-1):(u.w-t.padding*2-K.w)/((t.grid?we:Qe)+1),P),it={x:q.x+(Me+1-(Qe+1)/2)*Je,y:q.y+(Ee+1-(W+1)/2)*se};return it}},Ne={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ne).indexOf(t.direction)===-1&&_t("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ne).join(", ")));var Ie=function(le){return dj(We(le),u,Ne[t.direction])};return n.nodes().layoutPositions(this,t,Ie),this};var K$={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function C1(t){this.options=Re({},K$,t)}C1.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=r.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a=Zn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,l=u/Math.max(1,o.length-1),c,d=0,f=0;f<o.length;f++){var h=o[f],p=h.layoutDimensions(e),m=p.w,g=p.h;d=Math.max(d,m,g)}if(ce(e.radius)?c=e.radius:o.length<=1?c=0:c=Math.min(a.h,a.w)/2-d,o.length>1&&e.avoidOverlap){d*=1.75;var v=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),w=Math.sqrt(d*d/(v*v+y*y));c=Math.max(w,c)}var b=function(E,D){var S=e.startAngle+D*l*(i?1:-1),I=c*Math.cos(S),T=c*Math.sin(S),_={x:s.x+I,y:s.y+T};return _};return r.nodes().layoutPositions(this,e,b),this};var X$={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function S1(t){this.options=Re({},X$,t)}S1.prototype.run=function(){for(var t=this.options,e=t,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,r=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=Zn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=[],l=0,c=0;c<o.length;c++){var d=o[c],f=void 0;f=e.concentric(d),u.push({value:f,node:d}),d._private.scratch.concentric=f}o.updateStyle();for(var h=0;h<o.length;h++){var p=o[h],m=p.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(se,we){return we.value-se.value});for(var g=e.levelWidth(o),v=[[]],y=v[0],w=0;w<u.length;w++){var b=u[w];if(y.length>0){var C=Math.abs(y[0].value-b.value);C>=g&&(y=[],v.push(y))}y.push(b)}var E=l+e.minNodeSpacing;if(!e.avoidOverlap){var D=v.length>0&&v[0].length>1,S=Math.min(a.w,a.h)/2-E,I=S/(v.length+D?1:0);E=Math.min(E,I)}for(var T=0,_=0;_<v.length;_++){var M=v[_],A=e.sweep===void 0?2*Math.PI-2*Math.PI/M.length:e.sweep,N=M.dTheta=A/Math.max(1,M.length-1);if(M.length>1&&e.avoidOverlap){var k=Math.cos(N)-Math.cos(0),P=Math.sin(N)-Math.sin(0),O=Math.sqrt(E*E/(k*k+P*P));T=Math.max(O,T)}M.r=T,T+=E}if(e.equidistant){for(var F=0,U=0,z=0;z<v.length;z++){var B=v[z],V=B.r-U;F=Math.max(F,V)}U=0;for(var Y=0;Y<v.length;Y++){var Z=v[Y];Y===0&&(U=Z.r),Z.r=U,U+=F}}for(var W={},J=0;J<v.length;J++)for(var te=v[J],ue=te.dTheta,ee=te.r,j=0;j<te.length;j++){var $=te[j],q=e.startAngle+(n?1:-1)*ue*j,K={x:s.x+ee*Math.cos(q),y:s.y+ee*Math.sin(q)};W[$.node.id()]=K}return i.nodes().layoutPositions(this,e,function(se){var we=se.id();return W[we]}),this};var Db,Q$={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Bp(t){this.options=Re({},Q$,t),this.options.layout=this;var e=this.options.eles.nodes(),n=this.options.eles.edges(),r=n.filter(function(i){var o=i.source().data("id"),a=i.target().data("id"),s=e.some(function(l){return l.data("id")===o}),u=e.some(function(l){return l.data("id")===a});return!s||!u});this.options.eles=this.options.eles.not(r)}Bp.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,(t.animate===!0||t.animate===!1)&&n.emit({type:"layoutstart",layout:n}),t.debug===!0?Db=!0:Db=!1;var r=J$(e,n,t);Db&&tz(r),t.randomize&&nz(r);var i=Xi(),o=function(){rz(r,e,t),t.fit===!0&&e.fit(t.padding)},a=function(f){return!(n.stopped||f>=t.numIter||(iz(r,t),r.temperature=r.temperature*t.coolingFactor,r.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)o(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var f=t.eles.nodes(),h=T1(r,t,f);f.layoutPositions(n,t,h)}},u=0,l=!0;if(t.animate===!0){var c=function(){for(var f=0;l&&f<t.refresh;)l=a(u),u++,f++;if(!l)q_(r,t),s();else{var h=Xi();h-i>=t.animationThreshold&&o(),dp(c)}};c()}else{for(;l;)l=a(u),u++;q_(r,t),s()}return this};Bp.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Bp.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var J$=function(e,n,r){for(var i=r.eles.edges(),o=r.eles.nodes(),a=Zn(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},u=r.eles.components(),l={},c=0;c<u.length;c++)for(var d=u[c],f=0;f<d.length;f++){var h=d[f];l[h.id()]=c}for(var c=0;c<s.nodeSize;c++){var p=o[c],m=p.layoutDimensions(r),g={};g.isLocked=p.locked(),g.id=p.data("id"),g.parentId=p.data("parent"),g.cmptId=l[p.id()],g.children=[],g.positionX=p.position("x"),g.positionY=p.position("y"),g.offsetX=0,g.offsetY=0,g.height=m.w,g.width=m.h,g.maxX=g.positionX+g.width/2,g.minX=g.positionX-g.width/2,g.maxY=g.positionY+g.height/2,g.minY=g.positionY-g.height/2,g.padLeft=parseFloat(p.style("padding")),g.padRight=parseFloat(p.style("padding")),g.padTop=parseFloat(p.style("padding")),g.padBottom=parseFloat(p.style("padding")),g.nodeRepulsion=Nt(r.nodeRepulsion)?r.nodeRepulsion(p):r.nodeRepulsion,s.layoutNodes.push(g),s.idToIndex[g.id]=c}for(var v=[],y=0,w=-1,b=[],c=0;c<s.nodeSize;c++){var p=s.layoutNodes[c],C=p.parentId;C!=null?s.layoutNodes[s.idToIndex[C]].children.push(p.id):(v[++w]=p.id,b.push(p.id))}for(s.graphSet.push(b);y<=w;){var E=v[y++],D=s.idToIndex[E],h=s.layoutNodes[D],S=h.children;if(S.length>0){s.graphSet.push(S);for(var c=0;c<S.length;c++)v[++w]=S[c]}}for(var c=0;c<s.graphSet.length;c++)for(var I=s.graphSet[c],f=0;f<I.length;f++){var T=s.idToIndex[I[f]];s.indexToGraph[T]=c}for(var c=0;c<s.edgeSize;c++){var _=i[c],M={};M.id=_.data("id"),M.sourceId=_.data("source"),M.targetId=_.data("target");var A=Nt(r.idealEdgeLength)?r.idealEdgeLength(_):r.idealEdgeLength,N=Nt(r.edgeElasticity)?r.edgeElasticity(_):r.edgeElasticity,k=s.idToIndex[M.sourceId],P=s.idToIndex[M.targetId],O=s.indexToGraph[k],F=s.indexToGraph[P];if(O!=F){for(var U=ez(M.sourceId,M.targetId,s),z=s.graphSet[U],B=0,g=s.layoutNodes[k];z.indexOf(g.id)===-1;)g=s.layoutNodes[s.idToIndex[g.parentId]],B++;for(g=s.layoutNodes[P];z.indexOf(g.id)===-1;)g=s.layoutNodes[s.idToIndex[g.parentId]],B++;A*=B*r.nestingFactor}M.idealLength=A,M.elasticity=N,s.layoutEdges.push(M)}return s},ez=function(e,n,r){var i=I1(e,n,0,r);return 2>i.count?0:i.graph},I1=function(e,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var u=o[s],l=i.idToIndex[u],c=i.layoutNodes[l].children;if(c.length!==0){var d=i.indexToGraph[i.idToIndex[c[0]]],f=I1(e,n,d,i);if(f.count!==0)if(f.count===1){if(a++,a===2)break}else return f}}return{count:a,graph:r}},tz,nz=function(e,n){for(var r=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var a=e.layoutNodes[o];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*i)}},T1=function(e,n,r){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];o.x1=Math.min(o.x1,s.positionX),o.x2=Math.max(o.x2,s.positionX),o.y1=Math.min(o.y1,s.positionY),o.y2=Math.max(o.y2,s.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(a,s){var u=e.layoutNodes[e.idToIndex[a.data("id")]];if(n.boundingBox){var l=o.w===0?.5:(u.positionX-o.x1)/o.w,c=o.h===0?.5:(u.positionY-o.y1)/o.h;return{x:i.x1+l*i.w,y:i.y1+c*i.h}}else return{x:u.positionX,y:u.positionY}}},rz=function(e,n,r){var i=r.layout,o=r.eles.nodes(),a=T1(e,r,o);o.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},iz=function(e,n,r){oz(e,n),uz(e),lz(e,n),cz(e),dz(e)},oz=function(e,n){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],o=i.length,a=0;a<o;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],u=a+1;u<o;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];az(s,l,e,n)}},z_=function(e){return-1+2*e*Math.random()},az=function(e,n,r,i){var o=e.cmptId,a=n.cmptId;if(!(o!==a&&!r.isCompound)){var s=n.positionX-e.positionX,u=n.positionY-e.positionY,l=1;s===0&&u===0&&(s=z_(l),u=z_(l));var c=sz(e,n,s,u);if(c>0)var d=i.nodeOverlap*c,f=Math.sqrt(s*s+u*u),h=d*s/f,p=d*u/f;else var m=yp(e,s,u),g=yp(n,-1*s,-1*u),v=g.x-m.x,y=g.y-m.y,w=v*v+y*y,f=Math.sqrt(w),d=(e.nodeRepulsion+n.nodeRepulsion)/w,h=d*v/f,p=d*y/f;e.isLocked||(e.offsetX-=h,e.offsetY-=p),n.isLocked||(n.offsetX+=h,n.offsetY+=p)}},sz=function(e,n,r,i){if(r>0)var o=e.maxX-n.minX;else var o=n.maxX-e.minX;if(i>0)var a=e.maxY-n.minY;else var a=n.maxY-e.minY;return o>=0&&a>=0?Math.sqrt(o*o+a*a):0},yp=function(e,n,r){var i=e.positionX,o=e.positionY,a=e.height||1,s=e.width||1,u=r/n,l=a/s,c={};return n===0&&0<r||n===0&&0>r?(c.x=i,c.y=o+a/2,c):0<n&&-1*l<=u&&u<=l?(c.x=i+s/2,c.y=o+s*r/2/n,c):0>n&&-1*l<=u&&u<=l?(c.x=i-s/2,c.y=o-s*r/2/n,c):0<r&&(u<=-1*l||u>=l)?(c.x=i+a*n/2/r,c.y=o+a/2,c):(0>r&&(u<=-1*l||u>=l)&&(c.x=i-a*n/2/r,c.y=o-a/2),c)},uz=function(e,n){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],o=e.idToIndex[i.sourceId],a=e.layoutNodes[o],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-a.positionX,c=u.positionY-a.positionY;if(!(l===0&&c===0)){var d=yp(a,l,c),f=yp(u,-1*l,-1*c),h=f.x-d.x,p=f.y-d.y,m=Math.sqrt(h*h+p*p),g=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var v=g*h/m,y=g*p/m;else var v=0,y=0;a.isLocked||(a.offsetX+=v,a.offsetY+=y),u.isLocked||(u.offsetX-=v,u.offsetY-=y)}}},lz=function(e,n){if(n.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],a=o.length;if(i===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[o[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],s=c.positionX,u=c.positionY;for(var d=0;d<a;d++){var f=e.layoutNodes[e.idToIndex[o[d]]];if(!f.isLocked){var h=s-f.positionX,p=u-f.positionY,m=Math.sqrt(h*h+p*p);if(m>r){var g=n.gravity*h/m,v=n.gravity*p/m;f.offsetX+=g,f.offsetY+=v}}}}},cz=function(e,n){var r=[],i=0,o=-1;for(r.push.apply(r,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var a=r[i++],s=e.idToIndex[a],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,d=u.offsetY,f=0;f<l.length;f++){var h=e.layoutNodes[e.idToIndex[l[f]]];h.offsetX+=c,h.offsetY+=d,r[++o]=l[f]}u.offsetX=0,u.offsetY=0}}},dz=function(e,n){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var o=fz(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,x1(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},fz=function(e,n,r){var i=Math.sqrt(e*e+n*n);if(i>r)var o={x:r*e/i,y:r*n/i};else var o={x:e,y:n};return o},x1=function(e,n){var r=e.parentId;if(r!=null){var i=n.layoutNodes[n.idToIndex[r]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return x1(i,n)}},q_=function(e,n){for(var r=e.layoutNodes,i=[],o=0;o<r.length;o++){var a=r[o],s=a.cmptId,u=i[s]=i[s]||[];u.push(a)}for(var l=0,o=0;o<i.length;o++){var c=i[o];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var d=0;d<c.length;d++){var f=c[d];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(y,w){return w.w*w.h-y.w*y.h});for(var h=0,p=0,m=0,g=0,v=Math.sqrt(l)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var c=i[o];if(c){for(var d=0;d<c.length;d++){var f=c[d];f.isLocked||(f.positionX+=h-c.x1,f.positionY+=p-c.y1)}h+=c.w+n.componentSpacing,m+=c.w+n.componentSpacing,g=Math.max(g,c.h),m>v&&(p+=g+n.componentSpacing,h=0,m=0,g=0)}}},hz={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function _1(t){this.options=Re({},hz,t)}_1.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=Zn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(o.h===0||o.w===0)r.nodes().layoutPositions(this,e,function(Y){return{x:o.x1,y:o.y1}});else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),u=Math.round(s),l=Math.round(o.w/o.h*s),c=function(Z){if(Z==null)return Math.min(u,l);var W=Math.min(u,l);W==u?u=Z:l=Z},d=function(Z){if(Z==null)return Math.max(u,l);var W=Math.max(u,l);W==u?u=Z:l=Z},f=e.rows,h=e.cols!=null?e.cols:e.columns;if(f!=null&&h!=null)u=f,l=h;else if(f!=null&&h==null)u=f,l=Math.ceil(a/u);else if(f==null&&h!=null)l=h,u=Math.ceil(a/l);else if(l*u>a){var p=c(),m=d();(p-1)*m>=a?c(p-1):(m-1)*p>=a&&d(m-1)}else for(;l*u<a;){var g=c(),v=d();(v+1)*g>=a?d(v+1):c(g+1)}var y=o.w/l,w=o.h/u;if(e.condense&&(y=0,w=0),e.avoidOverlap)for(var b=0;b<i.length;b++){var C=i[b],E=C._private.position;(E.x==null||E.y==null)&&(E.x=0,E.y=0);var D=C.layoutDimensions(e),S=e.avoidOverlapPadding,I=D.w+S,T=D.h+S;y=Math.max(y,I),w=Math.max(w,T)}for(var _={},M=function(Z,W){return!!_["c-"+Z+"-"+W]},A=function(Z,W){_["c-"+Z+"-"+W]=!0},N=0,k=0,P=function(){k++,k>=l&&(k=0,N++)},O={},F=0;F<i.length;F++){var U=i[F],z=e.position(U);if(z&&(z.row!==void 0||z.col!==void 0)){var B={row:z.row,col:z.col};if(B.col===void 0)for(B.col=0;M(B.row,B.col);)B.col++;else if(B.row===void 0)for(B.row=0;M(B.row,B.col);)B.row++;O[U.id()]=B,A(B.row,B.col)}}var V=function(Z,W){var J,te;if(Z.locked()||Z.isParent())return!1;var ue=O[Z.id()];if(ue)J=ue.col*y+y/2+o.x1,te=ue.row*w+w/2+o.y1;else{for(;M(N,k);)P();J=k*y+y/2+o.x1,te=N*w+w/2+o.y1,A(N,k),P()}return{x:J,y:te}};i.layoutPositions(this,e,V)}return this};var pz={ready:function(){},stop:function(){}};function vw(t){this.options=Re({},pz,t)}vw.prototype.run=function(){var t=this.options,e=t.eles,n=this;return t.cy,n.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.emit("layoutready"),n.one("layoutstop",t.stop),n.emit("layoutstop"),this};vw.prototype.stop=function(){return this};var gz={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function M1(t){this.options=Re({},gz,t)}M1.prototype.run=function(){var t=this.options,e=t.eles,n=e.nodes(),r=Nt(t.positions);function i(o){if(t.positions==null)return Lj(o.position());if(r)return t.positions(o);var a=t.positions[o._private.data.id];return a??null}return n.layoutPositions(this,t,function(o,a){var s=i(o);return o.locked()||s==null?!1:s}),this};var vz={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function A1(t){this.options=Re({},vz,t)}A1.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=Zn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(a,s){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,t,i),this};var mz=[{name:"breadthfirst",impl:D1},{name:"circle",impl:C1},{name:"concentric",impl:S1},{name:"cose",impl:Bp},{name:"grid",impl:_1},{name:"null",impl:vw},{name:"preset",impl:M1},{name:"random",impl:A1}];function R1(t){this.options=t,this.notifications=0}var G_=function(){},W_=function(){throw new Error("A headless instance can not render images")};R1.prototype={recalculateRenderedStyle:G_,notify:function(){this.notifications++},init:G_,isHeadless:function(){return!0},png:W_,jpg:W_};var mw={};mw.arrowShapeWidth=.3;mw.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,n=function(l,c,d,f,h,p,m){var g=h.x-d/2-m,v=h.x+d/2+m,y=h.y-d/2-m,w=h.y+d/2+m,b=g<=l&&l<=v&&y<=c&&c<=w;return b},r=function(l,c,d,f,h){var p=l*Math.cos(f)-c*Math.sin(f),m=l*Math.sin(f)+c*Math.cos(f),g=p*d,v=m*d,y=g+h.x,w=v+h.y;return{x:y,y:w}},i=function(l,c,d,f){for(var h=[],p=0;p<l.length;p+=2){var m=l[p],g=l[p+1];h.push(r(m,g,c,d,f))}return h},o=function(l){for(var c=[],d=0;d<l.length;d++){var f=l[d];c.push(f.x,f.y)}return c},a=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,c){xe(c)&&(c=t[c]),t[l]=Re({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,h,p,m,g,v){var y=o(i(this.points,p+2*v,m,g)),w=cr(f,h,y);return w},roughCollide:n,draw:function(f,h,p,m){var g=i(this.points,h,p,m);e.arrowShapeImpl("polygon")(f,g)},spacing:function(f){return 0},gap:a},c)};s("none",{collide:fp,roughCollide:fp,draw:nw,spacing:sx,gap:sx}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(l,c,d,f,h){var p=i(this.points,c,d,f),m=this.controlPoint,g=r(m[0],m[1],c,d,f);e.arrowShapeImpl(this.name)(l,p,g)},gap:function(l){return a(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,d,f,h,p,m){var g=o(i(this.points,d+2*m,f,h)),v=o(i(this.pointsTee,d+2*m,f,h)),y=cr(l,c,g)||cr(l,c,v);return y},draw:function(l,c,d,f,h){var p=i(this.points,c,d,f),m=i(this.pointsTee,c,d,f);e.arrowShapeImpl(this.name)(l,p,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,d,f,h,p,m){var g=h,v=Math.pow(g.x-l,2)+Math.pow(g.y-c,2)<=Math.pow((d+2*m)*this.radius,2),y=o(i(this.points,d+2*m,f,h));return cr(l,c,y)||v},draw:function(l,c,d,f,h){var p=i(this.pointsTr,c,d,f);e.arrowShapeImpl(this.name)(l,p,f.x,f.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var d=this.baseCrossLinePts.slice(),f=c/l,h=3,p=5;return d[h]=d[h]-f,d[p]=d[p]-f,d},collide:function(l,c,d,f,h,p,m){var g=o(i(this.points,d+2*m,f,h)),v=o(i(this.crossLinePts(d,p),d+2*m,f,h)),y=cr(l,c,g)||cr(l,c,v);return y},draw:function(l,c,d,f,h){var p=i(this.points,c,d,f),m=i(this.crossLinePts(c,h),c,d,f);e.arrowShapeImpl(this.name)(l,p,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return a(l)*.525}}),s("circle",{radius:.15,collide:function(l,c,d,f,h,p,m){var g=h,v=Math.pow(g.x-l,2)+Math.pow(g.y-c,2)<=Math.pow((d+2*m)*this.radius,2);return v},draw:function(l,c,d,f,h){e.arrowShapeImpl(this.name)(l,f.x,f.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Ja={};Ja.projectIntoViewport=function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),u=n.zoom(),l=((t-i)/a-s.x)/u,c=((e-o)/a-s.y)/u;return[l,c]};Ja.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=this.cy.window().getComputedStyle(t),r=function(v){return parseFloat(n.getPropertyValue(v))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},o={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},a=t.clientWidth,s=t.clientHeight,u=i.left+i.right,l=i.top+i.bottom,c=o.left+o.right,d=e.width/(a+c),f=a-u,h=s-l,p=e.left+i.left+o.left,m=e.top+i.top+o.top;return this.containerBB=[p,m,f,h,d]};Ja.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ja.findNearestElement=function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]};Ja.findNearestElements=function(t,e,n,r){var i=this,o=this,a=o.getCachedZSortedEles(),s=[],u=o.cy.zoom(),l=o.cy.hasCompoundNodes(),c=(r?24:8)/u,d=(r?8:2)/u,f=(r?8:2)/u,h=1/0,p,m;n&&(a=a.interactive);function g(D,S){if(D.isNode()){if(m)return;m=D,s.push(D)}if(D.isEdge()&&(S==null||S<h))if(p){if(p.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value){for(var I=0;I<s.length;I++)if(s[I].isEdge()){s[I]=D,p=D,h=S??h;break}}}else s.push(D),p=D,h=S??h}function v(D){var S=D.outerWidth()+2*d,I=D.outerHeight()+2*d,T=S/2,_=I/2,M=D.position(),A=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,N=D._private.rscratch;if(M.x-T<=t&&t<=M.x+T&&M.y-_<=e&&e<=M.y+_){var k=o.nodeShapes[i.getNodeShape(D)];if(k.checkPoint(t,e,0,S,I,M.x,M.y,A,N))return g(D,0),!0}}function y(D){var S=D._private,I=S.rscratch,T=D.pstyle("width").pfValue,_=D.pstyle("arrow-scale").value,M=T/2+c,A=M*M,N=M*2,F=S.source,U=S.target,k;if(I.edgeType==="segments"||I.edgeType==="straight"||I.edgeType==="haystack"){for(var P=I.allpts,O=0;O+3<P.length;O+=2)if(Xj(t,e,P[O],P[O+1],P[O+2],P[O+3],N)&&A>(k=nH(t,e,P[O],P[O+1],P[O+2],P[O+3])))return g(D,k),!0}else if(I.edgeType==="bezier"||I.edgeType==="multibezier"||I.edgeType==="self"||I.edgeType==="compound"){for(var P=I.allpts,O=0;O+5<I.allpts.length;O+=4)if(Qj(t,e,P[O],P[O+1],P[O+2],P[O+3],P[O+4],P[O+5],N)&&A>(k=tH(t,e,P[O],P[O+1],P[O+2],P[O+3],P[O+4],P[O+5])))return g(D,k),!0}for(var F=F||S.source,U=U||S.target,z=i.getArrowWidth(T,_),B=[{name:"source",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:"target",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:"mid-source",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:"mid-target",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}],O=0;O<B.length;O++){var V=B[O],Y=o.arrowShapes[D.pstyle(V.name+"-arrow-shape").value],Z=D.pstyle("width").pfValue;if(Y.roughCollide(t,e,z,V.angle,{x:V.x,y:V.y},Z,c)&&Y.collide(t,e,z,V.angle,{x:V.x,y:V.y},Z,c))return g(D),!0}l&&s.length>0&&(v(F),v(U))}function w(D,S,I){return lr(D,S,I)}function b(D,S){var I=D._private,T=f,_;S?_=S+"-":_="",D.boundingBox();var M=I.labelBounds[S||"main"],A=D.pstyle(_+"label").value,N=D.pstyle("text-events").strValue==="yes";if(!(!N||!A)){var k=w(I.rscratch,"labelX",S),P=w(I.rscratch,"labelY",S),O=w(I.rscratch,"labelAngle",S),F=D.pstyle(_+"text-margin-x").pfValue,U=D.pstyle(_+"text-margin-y").pfValue,z=M.x1-T-F,B=M.x2+T-F,V=M.y1-T-U,Y=M.y2+T-U;if(O){var Z=Math.cos(O),W=Math.sin(O),J=function(K,se){return K=K-k,se=se-P,{x:K*Z-se*W+k,y:K*W+se*Z+P}},te=J(z,V),ue=J(z,Y),ee=J(B,V),j=J(B,Y),$=[te.x+F,te.y+U,ee.x+F,ee.y+U,j.x+F,j.y+U,ue.x+F,ue.y+U];if(cr(t,e,$))return g(D),!0}else if(ko(M,t,e))return g(D),!0}}for(var C=a.length-1;C>=0;C--){var E=a[C];E.isNode()?v(E)||b(E):y(E)||b(E)||b(E,"source")||b(E,"target")}return s};Ja.getAllInBox=function(t,e,n,r){var i=this.getCachedZSortedEles().interactive,o=this.cy.zoom(),a=2/o,s=[],u=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),d=Math.max(e,r);t=u,n=l,e=c,r=d;var f=Zn({x1:t,y1:e,x2:n,y2:r}),h=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],p=[[h[0],h[1]],[h[1],h[2]],[h[2],h[3]],[h[3],h[0]]];function m(K,se,we){return lr(K,se,we)}function g(K,se){var we=K._private,We=a,Ne="";K.boundingBox();var Ie=we.labelBounds.main;if(!Ie)return null;var Se=m(we.rscratch,"labelX",se),le=m(we.rscratch,"labelY",se),ve=m(we.rscratch,"labelAngle",se),Ee=K.pstyle(Ne+"text-margin-x").pfValue,Me=K.pstyle(Ne+"text-margin-y").pfValue,De=Ie.x1-We-Ee,Ve=Ie.x2+We-Ee,Ke=Ie.y1-We-Me,Qe=Ie.y2+We-Me;if(ve){var Je=Math.cos(ve),it=Math.sin(ve),Pe=function(X,x){return X=X-Se,x=x-le,{x:X*Je-x*it+Se,y:X*it+x*Je+le}};return[Pe(De,Ke),Pe(Ve,Ke),Pe(Ve,Qe),Pe(De,Qe)]}else return[{x:De,y:Ke},{x:Ve,y:Ke},{x:Ve,y:Qe},{x:De,y:Qe}]}function v(K,se,we,We){function Ne(Ie,Se,le){return(le.y-Ie.y)*(Se.x-Ie.x)>(Se.y-Ie.y)*(le.x-Ie.x)}return Ne(K,we,We)!==Ne(se,we,We)&&Ne(K,se,we)!==Ne(K,se,We)}for(var y=0;y<i.length;y++){var w=i[y];if(w.isNode()){var b=w,C=b.pstyle("text-events").strValue==="yes",E=b.pstyle("box-selection").strValue,D=b.pstyle("box-select-labels").strValue==="yes";if(E==="none")continue;var S=(E==="overlap"||D)&&C,I=b.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:S});if(E==="contain"){var T=!1;if(D&&C){var _=g(b);_&&w0(_,h)&&(s.push(b),T=!0)}!T&&BM(f,I)&&s.push(b)}else if(E==="overlap"&&aw(f,I)){var M=b.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),A=[{x:M.x1,y:M.y1},{x:M.x2,y:M.y1},{x:M.x2,y:M.y2},{x:M.x1,y:M.y2}];if(w0(A,h))s.push(b);else{var N=g(b);N&&w0(N,h)&&s.push(b)}}}else{var k=w,P=k._private,O=P.rscratch,F=k.pstyle("box-selection").strValue;if(F==="none")continue;if(F==="contain"){if(O.startX!=null&&O.startY!=null&&!ko(f,O.startX,O.startY)||O.endX!=null&&O.endY!=null&&!ko(f,O.endX,O.endY))continue;if(O.edgeType==="bezier"||O.edgeType==="multibezier"||O.edgeType==="self"||O.edgeType==="compound"||O.edgeType==="segments"||O.edgeType==="haystack"){for(var U=P.rstyle.bezierPts||P.rstyle.linePts||P.rstyle.haystackPts,z=!0,B=0;B<U.length;B++)if(!fx(f,U[B])){z=!1;break}z&&s.push(k)}else O.edgeType==="straight"&&s.push(k)}else if(F==="overlap"){var V=!1;if(O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(ko(f,O.startX,O.startY)||ko(f,O.endX,O.endY)))s.push(k),V=!0;else if(!V&&O.edgeType==="haystack"){for(var Y=P.rstyle.haystackPts,Z=0;Z<Y.length;Z++)if(fx(f,Y[Z])){s.push(k),V=!0;break}}if(!V){var W=P.rstyle.bezierPts||P.rstyle.linePts||P.rstyle.haystackPts;if((!W||W.length<2)&&O.edgeType==="straight"&&O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(W=[{x:O.startX,y:O.startY},{x:O.endX,y:O.endY}]),!W||W.length<2)continue;for(var J=0;J<W.length-1;J++){for(var te=W[J],ue=W[J+1],ee=0;ee<p.length;ee++){var j=Qt(p[ee],2),$=j[0],q=j[1];if(v(te,ue,$,q)){s.push(k),V=!0;break}}if(V)break}}}}}return s};var bp={};bp.calculateArrowAngles=function(t){var e=t._private.rscratch,n=e.edgeType==="haystack",r=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",a=e.edgeType==="compound",s=e.edgeType==="self",u,l,c,d,f,h,v,y;if(n?(c=e.haystackPts[0],d=e.haystackPts[1],f=e.haystackPts[2],h=e.haystackPts[3]):(c=e.arrowStartX,d=e.arrowStartY,f=e.arrowEndX,h=e.arrowEndY),v=e.midX,y=e.midY,o)u=c-e.segpts[0],l=d-e.segpts[1];else if(i||a||s||r){var p=e.allpts,m=vn(p[0],p[2],p[4],.1),g=vn(p[1],p[3],p[5],.1);u=c-m,l=d-g}else u=c-v,l=d-y;e.srcArrowAngle=Hh(u,l);var v=e.midX,y=e.midY;if(n&&(v=(c+f)/2,y=(d+h)/2),u=f-c,l=h-d,o){var p=e.allpts;if(p.length/2%2===0){var w=p.length/2,b=w-2;u=p[w]-p[b],l=p[w+1]-p[b+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var w=p.length/2-1,b=w-2;u=p[w]-p[b],l=p[w+1]-p[b+1]}}else if(i||a||s){var p=e.allpts,C=e.ctrlpts,E,D,S,I;if(C.length/2%2===0){var T=p.length/2-1,_=T+2,M=_+2;E=vn(p[T],p[_],p[M],0),D=vn(p[T+1],p[_+1],p[M+1],0),S=vn(p[T],p[_],p[M],1e-4),I=vn(p[T+1],p[_+1],p[M+1],1e-4)}else{var _=p.length/2-1,T=_-2,M=_+2;E=vn(p[T],p[_],p[M],.4999),D=vn(p[T+1],p[_+1],p[M+1],.4999),S=vn(p[T],p[_],p[M],.5),I=vn(p[T+1],p[_+1],p[M+1],.5)}u=S-E,l=I-D}if(e.midtgtArrowAngle=Hh(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,o){var p=e.allpts;if(p.length/2%2!==0){if(!e.isRound){var w=p.length/2-1,A=w+2;u=-(p[A]-p[w]),l=-(p[A+1]-p[w+1])}}}if(e.midsrcArrowAngle=Hh(u,l),o)u=f-e.segpts[e.segpts.length-2],l=h-e.segpts[e.segpts.length-1];else if(i||a||s||r){var p=e.allpts,N=p.length,m=vn(p[N-6],p[N-4],p[N-2],.9),g=vn(p[N-5],p[N-3],p[N-1],.9);u=f-m,l=h-g}else u=f-v,l=h-y;e.tgtArrowAngle=Hh(u,l)};bp.getArrowWidth=bp.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(t*13.37,.9),29)*e,n[t+", "+e]=r,r)};var Ub,$b,_i={},Or={},Y_,Z_,Ga,ap,Yi,ja,za,Ti,tu,Zh,N1,O1,zb,qb,K_,X_=function(e,n,r){r.x=n.x-e.x,r.y=n.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},yz=function(e,n){n.x=e.x*-1,n.y=e.y*-1,n.nx=e.nx*-1,n.ny=e.ny*-1,n.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},bz=function(e,n,r,i,o){if(e!==K_?X_(n,e,_i):yz(Or,_i),X_(n,r,Or),Y_=_i.nx*Or.ny-_i.ny*Or.nx,Z_=_i.nx*Or.nx-_i.ny*-Or.ny,Yi=Math.asin(Math.max(-1,Math.min(1,Y_))),Math.abs(Yi)<1e-6){Ub=n.x,$b=n.y,za=tu=0;return}Ga=1,ap=!1,Z_<0?Yi<0?Yi=Math.PI+Yi:(Yi=Math.PI-Yi,Ga=-1,ap=!0):Yi>0&&(Ga=-1,ap=!0),n.radius!==void 0?tu=n.radius:tu=i,ja=Yi/2,Zh=Math.min(_i.len/2,Or.len/2),o?(Ti=Math.abs(Math.cos(ja)*tu/Math.sin(ja)),Ti>Zh?(Ti=Zh,za=Math.abs(Ti*Math.sin(ja)/Math.cos(ja))):za=tu):(Ti=Math.min(Zh,tu),za=Math.abs(Ti*Math.sin(ja)/Math.cos(ja))),zb=n.x+Or.nx*Ti,qb=n.y+Or.ny*Ti,Ub=zb-Or.ny*za*Ga,$b=qb+Or.nx*za*Ga,N1=n.x+_i.nx*Ti,O1=n.y+_i.ny*Ti,K_=n};function k1(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function yw(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(bz(t,e,n,r,i),{cx:Ub,cy:$b,radius:za,startX:N1,startY:O1,stopX:zb,stopY:qb,startAngle:_i.ang+Math.PI/2*Ga,endAngle:Or.ang-Math.PI/2*Ga,counterClockwise:ap})}var _c=.01,wz=Math.sqrt(2*_c),Vn={};Vn.findMidptPtsEtc=function(t,e){var n=e.posPts,r=e.intersectionPts,i=e.vectorNormInverse,o,a=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),u=a.units!=null&&s.units!=null,l=function(C,E,D,S){var I=S-E,T=D-C,_=Math.sqrt(T*T+I*I);return{x:-I/_,y:T/_}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":o=n;break;case"intersection":o=r;break;case"endpoints":{if(u){var d=this.manualEndptToPx(t.source()[0],a),f=Qt(d,2),h=f[0],p=f[1],m=this.manualEndptToPx(t.target()[0],s),g=Qt(m,2),v=g[0],y=g[1],w={x1:h,y1:p,x2:v,y2:y};i=l(h,p,v,y),o=w}else ft("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=r;break}}return{midptPts:o,vectorNormInverse:i}};Vn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n._private,i=r.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=r.source,s=r.target,u=a.position(),l=s.position(),c=a.width(),d=s.width(),f=a.height(),h=s.height(),p=n.pstyle("haystack-radius").value,m=p/2;i.haystackPts=i.allpts=[i.source.x*c*m+u.x,i.source.y*f*m+u.y,i.target.x*d*m+l.x,i.target.y*h*m+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};Vn.findSegmentsPoints=function(t,e){var n=t._private.rscratch,r=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),o=t.pstyle("segment-radii"),a=t.pstyle("radius-type"),s=Math.min(r.pfValue.length,i.pfValue.length),u=o.pfValue[o.pfValue.length-1],l=a.pfValue[a.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<s;c++){var d=r.pfValue[c],f=i.pfValue[c],h=1-d,p=d,m=this.findMidptPtsEtc(t,e),g=m.midptPts,v=m.vectorNormInverse,y={x:g.x1*h+g.x2*p,y:g.y1*h+g.y2*p};n.segpts.push(y.x+v.x*f,y.y+v.y*f),n.radii.push(o.pfValue[c]!==void 0?o.pfValue[c]:u),n.isArcRadius.push((a.pfValue[c]!==void 0?a.pfValue[c]:l)==="arc-radius")}};Vn.findLoopPoints=function(t,e,n,r){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=n,h=d;r&&(f=0,h=u);var p=l-Math.PI/2,m=p-c/2,g=p+c/2,v=l+"_"+c;f=o[v]===void 0?o[v]=0:++o[v],i.ctrlpts=[a.x+Math.cos(m)*1.4*h*(f/3+1),a.y+Math.sin(m)*1.4*h*(f/3+1),a.x+Math.cos(g)*1.4*h*(f/3+1),a.y+Math.sin(g)*1.4*h*(f/3+1)]};Vn.findCompoundLoopPoints=function(t,e,n,r){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),h=f?f.pfValue[0]:void 0,p=n,m=d;r&&(p=0,m=h);var g=50,v={x:o.x-s/2,y:o.y-u/2},y={x:a.x-l/2,y:a.y-c/2},w={x:Math.min(v.x,y.x),y:Math.min(v.y,y.y)},b=.5,C=Math.max(b,Math.log(s*_c)),E=Math.max(b,Math.log(l*_c));i.ctrlpts=[w.x,w.y-(1+Math.pow(g,1.12)/100)*m*(p/3+1)*C,w.x-(1+Math.pow(g,1.12)/100)*m*(p/3+1)*E,w.y]};Vn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Vn.findBezierPoints=function(t,e,n,r,i){var o=t._private.rscratch,a=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,c=s?s.pfValue[0]:void 0,d=u.value[0],f=r;o.edgeType=f?"multibezier":"bezier",o.ctrlpts=[];for(var h=0;h<l;h++){var p=(.5-e.eles.length/2+n)*a*(i?-1:1),m=void 0,g=ow(p);f&&(c=s?s.pfValue[h]:a,d=u.value[h]),r?m=c:m=c!==void 0?g*c:void 0;var v=m!==void 0?m:p,y=1-d,w=d,b=this.findMidptPtsEtc(t,e),C=b.midptPts,E=b.vectorNormInverse,D={x:C.x1*y+C.x2*w,y:C.y1*y+C.y2*w};o.ctrlpts.push(D.x+E.x*v,D.y+E.y*v)}};Vn.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",o="leftward",a="rightward",s="downward",u="upward",l="auto",c=e.posPts,d=e.srcW,f=e.srcH,h=e.tgtW,p=e.tgtH,m=t.pstyle("edge-distances").value,g=m!=="node-position",v=t.pstyle("taxi-direction").value,y=v,w=t.pstyle("taxi-turn"),b=w.units==="%",C=w.pfValue,E=C<0,D=t.pstyle("taxi-turn-min-distance").pfValue,S=g?(d+h)/2:0,I=g?(f+p)/2:0,T=c.x2-c.x1,_=c.y2-c.y1,M=function(x,R){return x>0?Math.max(x-R,0):Math.min(x+R,0)},A=M(T,S),N=M(_,I),k=!1;y===l?v=Math.abs(A)>Math.abs(N)?i:r:y===u||y===s?(v=r,k=!0):(y===o||y===a)&&(v=i,k=!0);var P=v===r,O=P?N:A,F=P?_:T,U=ow(F),z=!1;!(k&&(b||E))&&(y===s&&F<0||y===u&&F>0||y===o&&F>0||y===a&&F<0)&&(U*=-1,O=U*Math.abs(O),z=!0);var B;if(b){var V=C<0?1+C:C;B=V*O}else{var Y=C<0?O:0;B=Y+C*U}var Z=function(x){return Math.abs(x)<D||Math.abs(x)>=Math.abs(O)},W=Z(B),J=Z(Math.abs(O)-Math.abs(B)),te=W||J;if(te&&!z)if(P){var ue=Math.abs(F)<=f/2,ee=Math.abs(T)<=h/2;if(ue){var j=(c.x1+c.x2)/2,$=c.y1,q=c.y2;n.segpts=[j,$,j,q]}else if(ee){var K=(c.y1+c.y2)/2,se=c.x1,we=c.x2;n.segpts=[se,K,we,K]}else n.segpts=[c.x1,c.y2]}else{var We=Math.abs(F)<=d/2,Ne=Math.abs(_)<=p/2;if(We){var Ie=(c.y1+c.y2)/2,Se=c.x1,le=c.x2;n.segpts=[Se,Ie,le,Ie]}else if(Ne){var ve=(c.x1+c.x2)/2,Ee=c.y1,Me=c.y2;n.segpts=[ve,Ee,ve,Me]}else n.segpts=[c.x2,c.y1]}else if(P){var De=c.y1+B+(g?f/2*U:0),Ve=c.x1,Ke=c.x2;n.segpts=[Ve,De,Ke,De]}else{var Qe=c.x1+B+(g?d/2*U:0),Je=c.y1,it=c.y2;n.segpts=[Qe,Je,Qe,it]}if(n.isRound){var Pe=t.pstyle("taxi-radius").value,me=t.pstyle("radius-type").value[0]==="arc-radius";n.radii=new Array(n.segpts.length/2).fill(Pe),n.isArcRadius=new Array(n.segpts.length/2).fill(me)}};Vn.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if(n.edgeType==="bezier"){var r=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,d=e.srcCornerRadius,f=e.tgtCornerRadius,h=e.srcRs,p=e.tgtRs,m=!ce(n.startX)||!ce(n.startY),g=!ce(n.arrowStartX)||!ce(n.arrowStartY),v=!ce(n.endX)||!ce(n.endY),y=!ce(n.arrowEndX)||!ce(n.arrowEndY),w=3,b=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=w*b,E=Za({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),D=E<C,S=Za({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),I=S<C,T=!1;if(m||g||D){T=!0;var _={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},M=Math.sqrt(_.x*_.x+_.y*_.y),A={x:_.x/M,y:_.y/M},N=Math.max(o,a),k={x:n.ctrlpts[0]+A.x*2*N,y:n.ctrlpts[1]+A.y*2*N},P=l.intersectLine(r.x,r.y,o,a,k.x,k.y,0,d,h);D?(n.ctrlpts[0]=n.ctrlpts[0]+A.x*(C-E),n.ctrlpts[1]=n.ctrlpts[1]+A.y*(C-E)):(n.ctrlpts[0]=P[0]+A.x*C,n.ctrlpts[1]=P[1]+A.y*C)}if(v||y||I){T=!0;var O={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},F=Math.sqrt(O.x*O.x+O.y*O.y),U={x:O.x/F,y:O.y/F},z=Math.max(o,a),B={x:n.ctrlpts[0]+U.x*2*z,y:n.ctrlpts[1]+U.y*2*z},V=c.intersectLine(i.x,i.y,s,u,B.x,B.y,0,f,p);I?(n.ctrlpts[0]=n.ctrlpts[0]+U.x*(C-S),n.ctrlpts[1]=n.ctrlpts[1]+U.y*(C-S)):(n.ctrlpts[0]=V[0]+U.x*C,n.ctrlpts[1]=V[1]+U.y*C)}T&&this.findEndpoints(t)}};Vn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);e.allpts.push(e.endX,e.endY);var r,i;e.ctrlpts.length/2%2===0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,i=.5,e.midX=vn(e.allpts[r],e.allpts[r+2],e.allpts[r+4],i),e.midY=vn(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var a=e.radii[o/2-1],s=e.isArcRadius[o/2-1];e.roundCorners.push(yw({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:a},{x:e.allpts[o+2],y:e.allpts[o+3]},a,s))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var d={x:e.segpts[c],y:e.segpts[c+1]},f=e.roundCorners[c/2];if(f.radius===0){var h={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=d.x,e.midY=d.y,e.midVector=[d.y-h.y,h.x-d.x]}else{var p=[d.x-f.cx,d.y-f.cy],m=f.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(g){return g*m}),e.midX=f.cx+p[0],e.midY=f.cy+p[1],e.midVector=p}}}}};Vn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ce(e.startX)&&ce(e.startY)&&ce(e.endX)&&ce(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ft("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Vn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var n=this,r=n.cy,i=r.hasCompoundNodes(),o=new Ki,a=function(I,T){return[].concat(lp(I),[T?1:0]).join("-")},s=[],u=[],l=0;l<t.length;l++){var c=t[l],d=c._private,f=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(f==="haystack"){u.push(c);continue}var h=f==="unbundled-bezier"||Oo(f,"segments")||f==="straight"||f==="straight-triangle"||Oo(f,"taxi"),p=f==="unbundled-bezier"||f==="bezier",m=d.source,g=d.target,v=m.poolIndex(),y=g.poolIndex(),w=[v,y].sort(),b=a(w,h),C=o.get(b);C==null&&(C={eles:[]},s.push({pairId:w,edgeIsUnbundled:h}),o.set(b,C)),C.eles.push(c),h&&(C.hasUnbundled=!0),p&&(C.hasBezier=!0)}}for(var E=function(){var I=s[D],T=I.pairId,_=I.edgeIsUnbundled,M=a(T,_),A=o.get(M),N;if(!A.hasUnbundled){var k=A.eles[0].parallelEdges().filter(function(me){return me.isBundledBezier()});rw(A.eles),k.forEach(function(me){return A.eles.push(me)}),A.eles.sort(function(me,X){return me.poolIndex()-X.poolIndex()})}var P=A.eles[0],O=P.source(),F=P.target();if(O.poolIndex()>F.poolIndex()){var U=O;O=F,F=U}var z=A.srcPos=O.position(),B=A.tgtPos=F.position(),V=A.srcW=O.outerWidth(),Y=A.srcH=O.outerHeight(),Z=A.tgtW=F.outerWidth(),W=A.tgtH=F.outerHeight(),J=A.srcShape=n.nodeShapes[e.getNodeShape(O)],te=A.tgtShape=n.nodeShapes[e.getNodeShape(F)],ue=A.srcCornerRadius=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,ee=A.tgtCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,j=A.tgtRs=F._private.rscratch,$=A.srcRs=O._private.rscratch;A.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var q=0;q<A.eles.length;q++){var K=A.eles[q],se=K[0]._private.rscratch,we=K.pstyle("curve-style").value,We=we==="unbundled-bezier"||Oo(we,"segments")||Oo(we,"taxi"),Ne=!O.same(K.source());if(!A.calculatedIntersection&&O!==F&&(A.hasBezier||A.hasUnbundled)){A.calculatedIntersection=!0;var Ie=J.intersectLine(z.x,z.y,V,Y,B.x,B.y,0,ue,$),Se=A.srcIntn=Ie,le=te.intersectLine(B.x,B.y,Z,W,z.x,z.y,0,ee,j),ve=A.tgtIntn=le,Ee=A.intersectionPts={x1:Ie[0],x2:le[0],y1:Ie[1],y2:le[1]},Me=A.posPts={x1:z.x,x2:B.x,y1:z.y,y2:B.y},De=le[1]-Ie[1],Ve=le[0]-Ie[0],Ke=Math.sqrt(Ve*Ve+De*De);ce(Ke)&&Ke>=wz||(Ke=Math.sqrt(Math.max(Ve*Ve,_c)+Math.max(De*De,_c)));var Qe=A.vector={x:Ve,y:De},Je=A.vectorNorm={x:Qe.x/Ke,y:Qe.y/Ke},it={x:-Je.y,y:Je.x};A.nodesOverlap=!ce(Ke)||te.checkPoint(Ie[0],Ie[1],0,Z,W,B.x,B.y,ee,j)||J.checkPoint(le[0],le[1],0,V,Y,z.x,z.y,ue,$),A.vectorNormInverse=it,N={nodesOverlap:A.nodesOverlap,dirCounts:A.dirCounts,calculatedIntersection:!0,hasBezier:A.hasBezier,hasUnbundled:A.hasUnbundled,eles:A.eles,srcPos:B,srcRs:j,tgtPos:z,tgtRs:$,srcW:Z,srcH:W,tgtW:V,tgtH:Y,srcIntn:ve,tgtIntn:Se,srcShape:te,tgtShape:J,posPts:{x1:Me.x2,y1:Me.y2,x2:Me.x1,y2:Me.y1},intersectionPts:{x1:Ee.x2,y1:Ee.y2,x2:Ee.x1,y2:Ee.y1},vector:{x:-Qe.x,y:-Qe.y},vectorNorm:{x:-Je.x,y:-Je.y},vectorNormInverse:{x:-it.x,y:-it.y}}}var Pe=Ne?N:A;se.nodesOverlap=Pe.nodesOverlap,se.srcIntn=Pe.srcIntn,se.tgtIntn=Pe.tgtIntn,se.isRound=we.startsWith("round"),i&&(O.isParent()||O.isChild()||F.isParent()||F.isChild())&&(O.parents().anySame(F)||F.parents().anySame(O)||O.same(F)&&O.isParent())?e.findCompoundLoopPoints(K,Pe,q,We):O===F?e.findLoopPoints(K,Pe,q,We):we.endsWith("segments")?e.findSegmentsPoints(K,Pe):we.endsWith("taxi")?e.findTaxiPoints(K,Pe):we==="straight"||!We&&A.eles.length%2===1&&q===Math.floor(A.eles.length/2)?e.findStraightEdgePoints(K):e.findBezierPoints(K,Pe,q,We,Ne),e.findEndpoints(K),e.tryToCorrectInvalidPoints(K,Pe),e.checkForInvalidEdgeWarning(K),e.storeAllpts(K),e.storeEdgeProjections(K),e.calculateArrowAngles(K),e.recalculateEdgeLabelProjections(K),e.calculateLabelAngles(K)}},D=0;D<s.length;D++)E();this.findHaystackPoints(u)}};function P1(t){var e=[];if(t!=null){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}Vn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="segments")return P1(e.segpts)};Vn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return P1(e.ctrlpts)};Vn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Bc={};Bc.manualEndptToPx=function(t,e){var n=this,r=t.position(),i=t.outerWidth(),o=t.outerHeight(),a=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*i),e.units[1]==="%"&&(s[1]=s[1]*o),s[0]+=r.x,s[1]+=r.y,s}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(i,o),c=[r.x+Math.cos(u)*l,r.y+Math.sin(u)*l];return n.nodeShapes[this.getNodeShape(t)].intersectLine(r.x,r.y,i,o,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,a)}};Bc.findEndpoints=function(t){var e,n,r,i,o=this,a,s=t.source()[0],u=t.target()[0],l=s.position(),c=u.position(),d=t.pstyle("target-arrow-shape").value,f=t.pstyle("source-arrow-shape").value,h=t.pstyle("target-distance-from-node").pfValue,p=t.pstyle("source-distance-from-node").pfValue,m=s._private.rscratch,g=u._private.rscratch,v=t.pstyle("curve-style").value,y=t._private.rscratch,w=y.edgeType,b=Oo(v,"taxi"),C=w==="self"||w==="compound",E=w==="bezier"||w==="multibezier"||C,D=w!=="bezier",S=w==="straight"||w==="segments",I=w==="segments",T=E||D||S,_=C||b,M=t.pstyle("source-endpoint"),A=_?"outside-to-node":M.value,N=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,k=t.pstyle("target-endpoint"),P=_?"outside-to-node":k.value,O=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;y.srcManEndpt=M,y.tgtManEndpt=k;var F,U,z,B,V=(e=(k==null||(n=k.pfValue)===null||n===void 0?void 0:n.length)===2?k.pfValue:null)!==null&&e!==void 0?e:[0,0],Y=(r=(M==null||(i=M.pfValue)===null||i===void 0?void 0:i.length)===2?M.pfValue:null)!==null&&r!==void 0?r:[0,0];if(E){var Z=[y.ctrlpts[0],y.ctrlpts[1]],W=D?[y.ctrlpts[y.ctrlpts.length-2],y.ctrlpts[y.ctrlpts.length-1]]:Z;F=W,U=Z}else if(S){var J=I?y.segpts.slice(0,2):[c.x+V[0],c.y+V[1]],te=I?y.segpts.slice(y.segpts.length-2):[l.x+Y[0],l.y+Y[1]];F=te,U=J}if(P==="inside-to-node")a=[c.x,c.y];else if(k.units)a=this.manualEndptToPx(u,k);else if(P==="outside-to-line")a=y.tgtIntn;else if(P==="outside-to-node"||P==="outside-to-node-or-label"?z=F:(P==="outside-to-line"||P==="outside-to-line-or-label")&&(z=[l.x,l.y]),a=o.nodeShapes[this.getNodeShape(u)].intersectLine(c.x,c.y,u.outerWidth(),u.outerHeight(),z[0],z[1],0,O,g),P==="outside-to-node-or-label"||P==="outside-to-line-or-label"){var ue=u._private.rscratch,ee=ue.labelWidth,j=ue.labelHeight,$=ue.labelX,q=ue.labelY,K=ee/2,se=j/2,we=u.pstyle("text-valign").value;we==="top"?q-=se:we==="bottom"&&(q+=se);var We=u.pstyle("text-halign").value;We==="left"?$-=K:We==="right"&&($+=K);var Ne=Cc(z[0],z[1],[$-K,q-se,$+K,q-se,$+K,q+se,$-K,q+se],c.x,c.y);if(Ne.length>0){var Ie=l,Se=$a(Ie,ou(a)),le=$a(Ie,ou(Ne)),ve=Se;if(le<Se&&(a=Ne,ve=le),Ne.length>2){var Ee=$a(Ie,{x:Ne[2],y:Ne[3]});Ee<ve&&(a=[Ne[2],Ne[3]])}}}var Me=Uh(a,F,o.arrowShapes[d].spacing(t)+h),De=Uh(a,F,o.arrowShapes[d].gap(t)+h);if(y.endX=De[0],y.endY=De[1],y.arrowEndX=Me[0],y.arrowEndY=Me[1],A==="inside-to-node")a=[l.x,l.y];else if(M.units)a=this.manualEndptToPx(s,M);else if(A==="outside-to-line")a=y.srcIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?B=U:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(B=[c.x,c.y]),a=o.nodeShapes[this.getNodeShape(s)].intersectLine(l.x,l.y,s.outerWidth(),s.outerHeight(),B[0],B[1],0,N,m),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var Ve=s._private.rscratch,Ke=Ve.labelWidth,Qe=Ve.labelHeight,Je=Ve.labelX,it=Ve.labelY,Pe=Ke/2,me=Qe/2,X=s.pstyle("text-valign").value;X==="top"?it-=me:X==="bottom"&&(it+=me);var x=s.pstyle("text-halign").value;x==="left"?Je-=Pe:x==="right"&&(Je+=Pe);var R=Cc(B[0],B[1],[Je-Pe,it-me,Je+Pe,it-me,Je+Pe,it+me,Je-Pe,it+me],l.x,l.y);if(R.length>0){var L=c,H=$a(L,ou(a)),G=$a(L,ou(R)),re=H;if(G<H&&(a=[R[0],R[1]],re=G),R.length>2){var Q=$a(L,{x:R[2],y:R[3]});Q<re&&(a=[R[2],R[3]])}}}var fe=Uh(a,U,o.arrowShapes[f].spacing(t)+p),he=Uh(a,U,o.arrowShapes[f].gap(t)+p);y.startX=he[0],y.startY=he[1],y.arrowStartX=fe[0],y.arrowStartY=fe[1],T&&(!ce(y.startX)||!ce(y.startY)||!ce(y.endX)||!ce(y.endY)?y.badLine=!0:y.badLine=!1)};Bc.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Bc.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var bw={};function Ez(t,e,n){for(var r=function(l,c,d,f){return vn(l,c,d,f)},i=e._private,o=i.rstyle.bezierPts,a=0;a<t.bezierProjPcts.length;a++){var s=t.bezierProjPcts[a];o.push({x:r(n[0],n[2],n[4],s),y:r(n[1],n[3],n[5],s)})}}bw.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)Ez(this,t,n.allpts.slice(i,i+6))}else if(r==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]});else if(r==="haystack"){var a=n.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};bw.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Ri={};Ri.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Bo(e)){var n,r,i=t._private,o=t.width(),a=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,d=i.rscratch,f=i.rstyle;switch(l){case"left":n=u.x-o/2-s;break;case"right":n=u.x+o/2+s;break;default:n=u.x}switch(c){case"top":r=u.y-a/2-s;break;case"bottom":r=u.y+a/2+s;break;default:r=u.y}d.labelX=n,d.labelY=r,f.labelX=n,f.labelY=r,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var F1=function(e,n){var r=Math.atan(n/e);return e===0&&r<0&&(r=r*-1),r},L1=function(e,n){var r=n.x-e.x,i=n.y-e.y;return F1(r,i)},Dz=function(e,n,r,i){var o=Dc(0,i-.001,1),a=Dc(0,i+.001,1),s=uu(e,n,r,o),u=uu(e,n,r,a);return L1(s,u)};Ri.recalculateEdgeLabelProjections=function(t){var e,n=t._private,r=n.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:r.midX,y:r.midY};var a=function(d,f,h){Zi(n.rscratch,d,f,h),Zi(n.rstyle,d,f,h)};a("labelX",null,e.x),a("labelY",null,e.y);var s=F1(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var u=function(){if(u.cache)return u.cache;for(var d=[],f=0;f+5<r.allpts.length;f+=4){var h={x:r.allpts[f],y:r.allpts[f+1]},p={x:r.allpts[f+2],y:r.allpts[f+3]},m={x:r.allpts[f+4],y:r.allpts[f+5]};d.push({p0:h,p1:p,p2:m,startDist:0,length:0,segments:[]})}var g=n.rstyle.bezierPts,v=i.bezierProjPcts.length;function y(D,S,I,T,_){var M=Za(S,I),A=D.segments[D.segments.length-1],N={p0:S,p1:I,t0:T,t1:_,startDist:A?A.startDist+A.length:0,length:M};D.segments.push(N),D.length+=M}for(var w=0;w<d.length;w++){var b=d[w],C=d[w-1];C&&(b.startDist=C.startDist+C.length),y(b,b.p0,g[w*v],0,i.bezierProjPcts[0]);for(var E=0;E<v-1;E++)y(b,g[w*v+E],g[w*v+E+1],i.bezierProjPcts[E],i.bezierProjPcts[E+1]);y(b,g[w*v+v-1],b.p2,i.bezierProjPcts[v-1],1)}return u.cache=d},l=function(d){var f,h=d==="source";if(o[d]){var p=t.pstyle(d+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),g,v=0,y=0,w=0;w<m.length;w++){for(var b=m[h?w:m.length-1-w],C=0;C<b.segments.length;C++){var E=b.segments[h?C:b.segments.length-1-C],D=w===m.length-1&&C===b.segments.length-1;if(v=y,y+=E.length,y>=p||D){g={cp:b,segment:E};break}}if(g)break}var S=g.cp,I=g.segment,T=(p-v)/I.length,_=I.t1-I.t0,M=h?I.t0+_*T:I.t1-_*T;M=Dc(0,M,1),e=uu(S.p0,S.p1,S.p2,M),f=Dz(S.p0,S.p1,S.p2,M);break}case"straight":case"segments":case"haystack":{for(var A=0,N,k,P,O,F=r.allpts.length,U=0;U+3<F&&(h?(P={x:r.allpts[U],y:r.allpts[U+1]},O={x:r.allpts[U+2],y:r.allpts[U+3]}):(P={x:r.allpts[F-2-U],y:r.allpts[F-1-U]},O={x:r.allpts[F-4-U],y:r.allpts[F-3-U]}),N=Za(P,O),k=A,A+=N,!(A>=p));U+=2);var z=p-k,B=z/N;B=Dc(0,B,1),e=zj(P,O,B),f=L1(P,O);break}}a("labelX",d,e.x),a("labelY",d,e.y),a("labelAutoAngle",d,f)}};l("source"),l("target"),this.applyLabelDimensions(t)}};Ri.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Ri.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=Ya(r,t._private.labelDimsKey);if(lr(n.rscratch,"prefixedLabelDimsKey",e)!==i){Zi(n.rscratch,"prefixedLabelDimsKey",e,i);var o=this.calculateLabelDimensions(t,r),a=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,u=lr(n.rscratch,"labelWrapCachedLines",e)||[],l=s!=="wrap"?1:Math.max(u.length,1),c=o.height/l,d=c*a,f=o.width,h=o.height+(l-1)*(a-1)*c;Zi(n.rstyle,"labelWidth",e,f),Zi(n.rscratch,"labelWidth",e,f),Zi(n.rstyle,"labelHeight",e,h),Zi(n.rscratch,"labelHeight",e,h),Zi(n.rscratch,"labelLineHeight",e,d)}};Ri.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,o=t.pstyle("text-transform").value,a=function(Y,Z){return Z?(Zi(n.rscratch,Y,e,Z),Z):lr(n.rscratch,Y,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=a("labelKey");if(u!=null&&a("labelWrapKey")===u)return a("labelWrapCachedText");for(var l="\u200B",c=i.split(`
`),d=t.pstyle("text-max-width").pfValue,f=t.pstyle("text-overflow-wrap").value,h=f==="anywhere",p=[],m=/[\s\u200b]+|$/g,g=0;g<c.length;g++){var v=c[g],y=this.calculateLabelDimensions(t,v),w=y.width;if(h){var b=v.split("").join(l);v=b}if(w>d){var C=v.matchAll(m),E="",D=0,S=dr(C),I;try{for(S.s();!(I=S.n()).done;){var T=I.value,_=T[0],M=v.substring(D,T.index);D=T.index+_.length;var A=E.length===0?M:E+M+_,N=this.calculateLabelDimensions(t,A),k=N.width;k<=d?E+=M+_:(E&&p.push(E),E=M+_)}}catch(V){S.e(V)}finally{S.f()}E.match(/^[\s\u200b]+$/)||p.push(E)}else p.push(v)}a("labelWrapCachedLines",p),i=a("labelWrapCachedText",p.join(`
`)),a("labelWrapKey",u)}else if(s==="ellipsis"){var P=t.pstyle("text-max-width").pfValue,O="",F="\u2026",U=!1;if(this.calculateLabelDimensions(t,i).width<P)return i;for(var z=0;z<i.length;z++){var B=this.calculateLabelDimensions(t,O+i[z]+F).width;if(B>P)break;O+=i[z],z===i.length-1&&(U=!0)}return U||(O+=F),O}return i};Ri.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Ri.calculateLabelDimensions=function(t,e){var n=this,r=n.cy.window(),i=r.document,o=0,a=t.pstyle("font-style").strValue,s=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),d=this.labelCalcCanvasContext=c.getContext("2d");var f=c.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}d.font="".concat(a," ").concat(l," ").concat(s,"px ").concat(u);for(var h=0,p=0,m=e.split(`
`),g=0;g<m.length;g++){var v=m[g],y=d.measureText(v),w=Math.ceil(y.width),b=s;h=Math.max(w,h),p+=b}return h+=o,p+=o,{width:h,height:p}};Ri.calculateLabelAngle=function(t,e){var n=t._private,r=n.rscratch,i=t.isEdge(),o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=a.strValue;return s==="none"?0:i&&s==="autorotate"?r.labelAutoAngle:s==="autorotate"?0:a.pfValue};Ri.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),r=t._private,i=r.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var B1={},Q_=28,J_=!1;B1.getNodeShape=function(t){var e=this,n=t.pstyle("shape").value;if(n==="cutrectangle"&&(t.width()<Q_||t.height()<Q_))return J_||(ft("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),J_=!0),"rectangle";if(t.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(r).name}return n};var Vp={};Vp.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),n=this,r=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(a),s)for(var u=0;u<a.length;u++){var l=a[u],c=l._private,d=c.rstyle;d.clean=!1,d.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",function(a){var s=a.target;r(s)}).on("style.* background.*",function(a){var s=a.target;r(s,!1)});var i=function(a){if(a){var s=n.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(r(l.connectedEdges()),c.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var f=s[d];f(a,e)}n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)};Vp.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Vp.recalculateRenderedStyle=function(t,e){var n=function(b){return b._private.rstyle.cleanConnected};if(t.length!==0){var r=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,u=s.rstyle;a.isEdge()&&(!n(a.source())||!n(a.target()))&&(u.clean=!1),a.isEdge()&&a.isBundledBezier()&&a.parallelEdges().some(function(w){return!w._private.rstyle.clean&&w.isBundledBezier()})&&(u.clean=!1),!(e&&u.clean||a.removed())&&a.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(a):r.push(a),u.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],d=c._private,f=d.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=h.x,f.nodeY=h.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var m=r[p],g=m._private,v=g.rstyle,y=g.rscratch;v.srcX=y.arrowStartX,v.srcY=y.arrowStartY,v.tgtX=y.arrowEndX,v.tgtY=y.arrowEndY,v.midX=y.midX,v.midY=y.midY,v.labelAngle=y.labelAngle,v.sourceLabelAngle=y.sourceLabelAngle,v.targetLabelAngle=y.targetLabelAngle}}}};var jp={};jp.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(var n=0;n<e.length;n++){var r=e[n];t.drag.push(r)}}};jp.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};jp.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(b1),e.interactive=e.filter(function(n){return n.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var V1={};[Ja,bp,Vn,Bc,bw,Ri,B1,Vp,jp].forEach(function(t){Re(V1,t)});var j1={};j1.getCachedImage=function(t,e,n){var r=this,i=r.imageCache=r.imageCache||{},o=i[t];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;o=i[t]=i[t]||{};var a=o.image=new Image;a.addEventListener("load",n),a.addEventListener("error",function(){a.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,a.crossOrigin=e),a.src=t,a};var bu={};bu.registerBinding=function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var o=[],a=0;a<t.length;a++){var s=t[a];if(s!==void 0){var u=this.binder(s);o.push(u.on.apply(u,i))}}return o}var u=this.binder(t);return u.on.apply(u,i)};bu.binder=function(t){var e=this,n=e.cy.window(),r=t===n||t===n.document||t===n.document.body||kV(t);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});n.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var a=function(u,l,c){var d=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:a,addEventListener:a,addListener:a,bind:a}};bu.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};bu.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};bu.load=function(){var t=this,e=t.cy.window(),n=function(x){return x.selected()},r=function(x){var R=x.getRootNode();if(R&&R.nodeType===11&&R.host!==void 0)return R},i=function(x,R,L,H){x==null&&(x=t.cy);for(var G=0;G<R.length;G++){var re=R[G];x.emit({originalEvent:L,type:re,position:H})}},o=function(x){return x.shiftKey||x.metaKey||x.ctrlKey},a=function(x,R){var L=!0;if(t.cy.hasCompoundNodes()&&x&&x.pannable())for(var H=0;R&&H<R.length;H++){var x=R[H];if(x.isNode()&&x.isParent()&&!x.pannable()){L=!1;break}}else L=!0;return L},s=function(x){x[0]._private.grabbed=!0},u=function(x){x[0]._private.grabbed=!1},l=function(x){x[0]._private.rscratch.inDragLayer=!0},c=function(x){x[0]._private.rscratch.inDragLayer=!1},d=function(x){x[0]._private.rscratch.isGrabTarget=!0},f=function(x){x[0]._private.rscratch.isGrabTarget=!1},h=function(x,R){var L=R.addToList,H=L.has(x);!H&&x.grabbable()&&!x.locked()&&(L.merge(x),s(x))},p=function(x,R){if(x.cy().hasCompoundNodes()&&!(R.inDragLayer==null&&R.addToList==null)){var L=x.descendants();R.inDragLayer&&(L.forEach(l),L.connectedEdges().forEach(l)),R.addToList&&h(L,R)}},m=function(x,R){R=R||{};var L=x.cy().hasCompoundNodes();R.inDragLayer&&(x.forEach(l),x.neighborhood().stdFilter(function(H){return!L||H.isEdge()}).forEach(l)),R.addToList&&x.forEach(function(H){h(H,R)}),p(x,R),y(x,{inDragLayer:R.inDragLayer}),t.updateCachedGrabbedEles()},g=m,v=function(x){x&&(t.getCachedZSortedEles().forEach(function(R){u(R),c(R),f(R)}),t.updateCachedGrabbedEles())},y=function(x,R){if(!(R.inDragLayer==null&&R.addToList==null)&&x.cy().hasCompoundNodes()){var L=x.ancestors().orphans();if(!L.same(x)){var H=L.descendants().spawnSelf().merge(L).unmerge(x).unmerge(x.descendants()),G=H.connectedEdges();R.inDragLayer&&(G.forEach(l),H.forEach(l)),R.addToList&&H.forEach(function(re){h(re,R)})}}},w=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},b=typeof MutationObserver<"u",C=typeof ResizeObserver<"u";b?(t.removeObserver=new MutationObserver(function(X){for(var x=0;x<X.length;x++){var R=X[x],L=R.removedNodes;if(L)for(var H=0;H<L.length;H++){var G=L[H];if(G===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(X){t.destroy()});var E=kc(function(){t.cy.resize()},100);b&&(t.styleObserver=new MutationObserver(E),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",E),C&&(t.resizeObserver=new ResizeObserver(E),t.resizeObserver.observe(t.container));var D=function(x,R){for(;x!=null;)R(x),x=x.parentNode},S=function(){t.invalidateContainerClientCoordsCache()};D(t.container,function(X){t.registerBinding(X,"transitionend",S),t.registerBinding(X,"animationend",S),t.registerBinding(X,"scroll",S)}),t.registerBinding(t.container,"contextmenu",function(X){X.preventDefault()});var I=function(){return t.selection[4]!==0},T=function(x){for(var R=t.findContainerClientCoords(),L=R[0],H=R[1],G=R[2],re=R[3],Q=x.touches?x.touches:[x],fe=!1,he=0;he<Q.length;he++){var _e=Q[he];if(L<=_e.clientX&&_e.clientX<=L+G&&H<=_e.clientY&&_e.clientY<=H+re){fe=!0;break}}if(!fe)return!1;for(var Fe=t.container,je=x.target,be=je.parentNode,He=!1;be;){if(be===Fe){He=!0;break}be=be.parentNode}return!!He};t.registerBinding(t.container,"mousedown",function(x){if(T(x)&&!(t.hoverData.which===1&&x.which!==1)){x.preventDefault(),w(),t.hoverData.capture=!0,t.hoverData.which=x.which;var R=t.cy,L=[x.clientX,x.clientY],H=t.projectIntoViewport(L[0],L[1]),G=t.selection,re=t.findNearestElements(H[0],H[1],!0,!1),Q=re[0],fe=t.dragData.possibleDragElements;t.hoverData.mdownPos=H,t.hoverData.mdownGPos=L;var he=function(Ye){return{originalEvent:x,type:Ye,position:{x:H[0],y:H[1]}}},_e=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Ye=t.hoverData.down;Ye?Ye.emit(he("taphold")):R.emit(he("taphold"))}},t.tapholdDuration)};if(x.which==3){t.hoverData.cxtStarted=!0;var Fe={originalEvent:x,type:"cxttapstart",position:{x:H[0],y:H[1]}};Q?(Q.activate(),Q.emit(Fe),t.hoverData.down=Q):R.emit(Fe),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(x.which==1){Q&&Q.activate();{if(Q!=null&&t.nodeIsGrabbable(Q)){var je=function(Ye){Ye.emit(he("grab"))};if(d(Q),!Q.selected())fe=t.dragData.possibleDragElements=R.collection(),g(Q,{addToList:fe}),Q.emit(he("grabon")).emit(he("grab"));else{fe=t.dragData.possibleDragElements=R.collection();var be=R.$(function(He){return He.isNode()&&He.selected()&&t.nodeIsGrabbable(He)});m(be,{addToList:fe}),Q.emit(he("grabon")),be.forEach(je)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Q,t.hoverData.downs=re,t.hoverData.downTime=new Date().getTime()}i(Q,["mousedown","tapstart","vmousedown"],x,{x:H[0],y:H[1]}),Q==null?(G[4]=1,t.data.bgActivePosistion={x:H[0],y:H[1]},t.redrawHint("select",!0),t.redraw()):Q.pannable()&&(G[4]=1),_e()}G[0]=G[2]=H[0],G[1]=G[3]=H[1]}},!1);var _=r(t.container);t.registerBinding([e,_],"mousemove",function(x){var R=t.hoverData.capture;if(!(!R&&!T(x))){var L=!1,H=t.cy,G=H.zoom(),re=[x.clientX,x.clientY],Q=t.projectIntoViewport(re[0],re[1]),fe=t.hoverData.mdownPos,he=t.hoverData.mdownGPos,_e=t.selection,Fe=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Fe=t.findNearestElement(Q[0],Q[1],!0,!1));var je=t.hoverData.last,be=t.hoverData.down,He=[Q[0]-_e[2],Q[1]-_e[3]],Ye=t.dragData.possibleDragElements,At;if(he){var bt=re[0]-he[0],jn=bt*bt,Gt=re[1]-he[1],fn=Gt*Gt,en=jn+fn;t.hoverData.isOverThresholdDrag=At=en>=t.desktopTapThreshold2}var En=o(x);At&&(t.hoverData.tapholdCancelled=!0);var oo=function(){var wr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];wr.length===0?(wr.push(He[0]),wr.push(He[1])):(wr[0]+=He[0],wr[1]+=He[1])};L=!0,i(Fe,["mousemove","vmousemove","tapdrag"],x,{x:Q[0],y:Q[1]});var Wt=function(wr){return{originalEvent:x,type:wr,position:{x:Q[0],y:Q[1]}}},ki=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||H.emit(Wt("boxstart")),_e[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(At){var Pi=Wt("cxtdrag");be?be.emit(Pi):H.emit(Pi),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Fe!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(Wt("cxtdragout")),t.hoverData.cxtOver=Fe,Fe&&Fe.emit(Wt("cxtdragover")))}}else if(t.hoverData.dragging){if(L=!0,H.panningEnabled()&&H.userPanningEnabled()){var cs;if(t.hoverData.justStartedPan){var Xc=t.hoverData.mdownPos;cs={x:(Q[0]-Xc[0])*G,y:(Q[1]-Xc[1])*G},t.hoverData.justStartedPan=!1}else cs={x:He[0]*G,y:He[1]*G};H.panBy(cs),H.emit(Wt("dragpan")),t.hoverData.dragged=!0}Q=t.projectIntoViewport(x.clientX,x.clientY)}else if(_e[4]==1&&(be==null||be.pannable())){if(At){if(!t.hoverData.dragging&&H.boxSelectionEnabled()&&(En||!H.panningEnabled()||!H.userPanningEnabled()))ki();else if(!t.hoverData.selecting&&H.panningEnabled()&&H.userPanningEnabled()){var Xo=a(be,t.hoverData.downs);Xo&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,_e[4]=0,t.data.bgActivePosistion=ou(fe),t.redrawHint("select",!0),t.redraw())}be&&be.pannable()&&be.active()&&be.unactivate()}}else{if(be&&be.pannable()&&be.active()&&be.unactivate(),(!be||!be.grabbed())&&Fe!=je&&(je&&i(je,["mouseout","tapdragout"],x,{x:Q[0],y:Q[1]}),Fe&&i(Fe,["mouseover","tapdragover"],x,{x:Q[0],y:Q[1]}),t.hoverData.last=Fe),be)if(At){if(H.boxSelectionEnabled()&&En)be&&be.grabbed()&&(v(Ye),be.emit(Wt("freeon")),Ye.emit(Wt("free")),t.dragData.didDrag&&(be.emit(Wt("dragfreeon")),Ye.emit(Wt("dragfree")))),ki();else if(be&&be.grabbed()&&t.nodeIsDraggable(be)){var Qn=!t.dragData.didDrag;Qn&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||m(Ye,{inDragLayer:!0});var Nn={x:0,y:0};if(ce(He[0])&&ce(He[1])&&(Nn.x+=He[0],Nn.y+=He[1],Qn)){var Jn=t.hoverData.dragDelta;Jn&&ce(Jn[0])&&ce(Jn[1])&&(Nn.x+=Jn[0],Nn.y+=Jn[1])}t.hoverData.draggingEles=!0,Ye.silentShift(Nn).emit(Wt("position")).emit(Wt("drag")),t.redrawHint("drag",!0),t.redraw()}}else oo();L=!0}if(_e[2]=Q[0],_e[3]=Q[1],L)return x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault(),!1}},!1);var M,A,N;t.registerBinding(e,"mouseup",function(x){if(!(t.hoverData.which===1&&x.which!==1&&t.hoverData.capture)){var R=t.hoverData.capture;if(R){t.hoverData.capture=!1;var L=t.cy,H=t.projectIntoViewport(x.clientX,x.clientY),G=t.selection,re=t.findNearestElement(H[0],H[1],!0,!1),Q=t.dragData.possibleDragElements,fe=t.hoverData.down,he=o(x);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,fe&&fe.unactivate();var _e=function(bt){return{originalEvent:x,type:bt,position:{x:H[0],y:H[1]}}};if(t.hoverData.which===3){var Fe=_e("cxttapend");if(fe?fe.emit(Fe):L.emit(Fe),!t.hoverData.cxtDragged){var je=_e("cxttap");fe?fe.emit(je):L.emit(je)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(re,["mouseup","tapend","vmouseup"],x,{x:H[0],y:H[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(fe,["click","tap","vclick"],x,{x:H[0],y:H[1]}),A=!1,x.timeStamp-N<=L.multiClickDebounceTime()?(M&&clearTimeout(M),A=!0,N=null,i(fe,["dblclick","dbltap","vdblclick"],x,{x:H[0],y:H[1]})):(M=setTimeout(function(){A||i(fe,["oneclick","onetap","voneclick"],x,{x:H[0],y:H[1]})},L.multiClickDebounceTime()),N=x.timeStamp)),fe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!o(x)&&(L.$(n).unselect(["tapunselect"]),Q.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Q=L.collection()),re==fe&&!t.dragData.didDrag&&!t.hoverData.selecting&&re!=null&&re._private.selectable&&(t.hoverData.dragging||(L.selectionType()==="additive"||he?re.selected()?re.unselect(["tapunselect"]):re.select(["tapselect"]):he||(L.$(n).unmerge(re).unselect(["tapunselect"]),re.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var be=L.collection(t.getAllInBox(G[0],G[1],G[2],G[3]));t.redrawHint("select",!0),be.length>0&&t.redrawHint("eles",!0),L.emit(_e("boxend"));var He=function(bt){return bt.selectable()&&!bt.selected()};L.selectionType()==="additive"||he||L.$(n).unmerge(be).unselect(),be.emit(_e("box")).stdFilter(He).select().emit(_e("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!G[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ye=fe&&fe.grabbed();v(Q),Ye&&(fe.emit(_e("freeon")),Q.emit(_e("free")),t.dragData.didDrag&&(fe.emit(_e("dragfreeon")),Q.emit(_e("dragfree"))))}}G[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var k=[],P=4,O,F=1e5,U=function(x,R){for(var L=0;L<x.length;L++)if(x[L]%R!==0)return!1;return!0},z=function(x){for(var R=Math.abs(x[0]),L=1;L<x.length;L++)if(Math.abs(x[L])!==R)return!1;return!0},B=function(x){var R=!1,L=x.deltaY;if(L==null&&(x.wheelDeltaY!=null?L=x.wheelDeltaY/4:x.wheelDelta!=null&&(L=x.wheelDelta/4)),L!==0){if(O==null)if(k.length>=P){var H=k;if(O=U(H,5),!O){var G=Math.abs(H[0]);O=z(H)&&G>5}if(O)for(var re=0;re<H.length;re++)F=Math.min(Math.abs(H[re]),F)}else k.push(L),R=!0;else O&&(F=Math.min(Math.abs(L),F));if(!t.scrollingPage){var Q=t.cy,fe=Q.zoom(),he=Q.pan(),_e=t.projectIntoViewport(x.clientX,x.clientY),Fe=[_e[0]*fe+he.x,_e[1]*fe+he.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||I()){x.preventDefault();return}if(Q.panningEnabled()&&Q.userPanningEnabled()&&Q.zoomingEnabled()&&Q.userZoomingEnabled()){x.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var je;R&&Math.abs(L)>5&&(L=ow(L)*5),je=L/-250,O&&(je/=F,je*=3),je=je*t.wheelSensitivity;var be=x.deltaMode===1;be&&(je*=33);var He=Q.zoom()*Math.pow(10,je);x.type==="gesturechange"&&(He=t.gestureStartZoom*x.scale),Q.zoom({level:He,renderedPosition:{x:Fe[0],y:Fe[1]}}),Q.emit({type:x.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:x,position:{x:_e[0],y:_e[1]}})}}}};t.registerBinding(t.container,"wheel",B,!0),t.registerBinding(e,"scroll",function(x){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(x){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||x.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(X){t.hasTouchStarted||B(X)},!0),t.registerBinding(t.container,"mouseout",function(x){var R=t.projectIntoViewport(x.clientX,x.clientY);t.cy.emit({originalEvent:x,type:"mouseout",position:{x:R[0],y:R[1]}})},!1),t.registerBinding(t.container,"mouseover",function(x){var R=t.projectIntoViewport(x.clientX,x.clientY);t.cy.emit({originalEvent:x,type:"mouseover",position:{x:R[0],y:R[1]}})},!1);var V,Y,Z,W,J,te,ue,ee,j,$,q,K,se,we=function(x,R,L,H){return Math.sqrt((L-x)*(L-x)+(H-R)*(H-R))},We=function(x,R,L,H){return(L-x)*(L-x)+(H-R)*(H-R)},Ne;t.registerBinding(t.container,"touchstart",Ne=function(x){if(t.hasTouchStarted=!0,!!T(x)){w(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var R=t.cy,L=t.touchData.now,H=t.touchData.earlier;if(x.touches[0]){var G=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);L[0]=G[0],L[1]=G[1]}if(x.touches[1]){var G=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);L[2]=G[0],L[3]=G[1]}if(x.touches[2]){var G=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);L[4]=G[0],L[5]=G[1]}var re=function(En){return{originalEvent:x,type:En,position:{x:L[0],y:L[1]}}};if(x.touches[1]){t.touchData.singleTouchMoved=!0,v(t.dragData.touchDragEles);var Q=t.findContainerClientCoords();j=Q[0],$=Q[1],q=Q[2],K=Q[3],V=x.touches[0].clientX-j,Y=x.touches[0].clientY-$,Z=x.touches[1].clientX-j,W=x.touches[1].clientY-$,se=0<=V&&V<=q&&0<=Z&&Z<=q&&0<=Y&&Y<=K&&0<=W&&W<=K;var fe=R.pan(),he=R.zoom();J=we(V,Y,Z,W),te=We(V,Y,Z,W),ue=[(V+Z)/2,(Y+W)/2],ee=[(ue[0]-fe.x)/he,(ue[1]-fe.y)/he];var _e=200,Fe=_e*_e;if(te<Fe&&!x.touches[2]){var je=t.findNearestElement(L[0],L[1],!0,!0),be=t.findNearestElement(L[2],L[3],!0,!0);je&&je.isNode()?(je.activate().emit(re("cxttapstart")),t.touchData.start=je):be&&be.isNode()?(be.activate().emit(re("cxttapstart")),t.touchData.start=be):R.emit(re("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(x.touches[2])R.boxSelectionEnabled()&&x.preventDefault();else if(!x.touches[1]){if(x.touches[0]){var He=t.findNearestElements(L[0],L[1],!0,!0),Ye=He[0];if(Ye!=null&&(Ye.activate(),t.touchData.start=Ye,t.touchData.starts=He,t.nodeIsGrabbable(Ye))){var At=t.dragData.touchDragEles=R.collection(),bt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ye.selected()?(bt=R.$(function(en){return en.selected()&&t.nodeIsGrabbable(en)}),m(bt,{addToList:At})):g(Ye,{addToList:At}),d(Ye),Ye.emit(re("grabon")),bt?bt.forEach(function(en){en.emit(re("grab"))}):Ye.emit(re("grab"))}i(Ye,["touchstart","tapstart","vmousedown"],x,{x:L[0],y:L[1]}),Ye==null&&(t.data.bgActivePosistion={x:G[0],y:G[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],x,{x:L[0],y:L[1]})},t.tapholdDuration)}}if(x.touches.length>=1){for(var jn=t.touchData.startPosition=[null,null,null,null,null,null],Gt=0;Gt<L.length;Gt++)jn[Gt]=H[Gt]=L[Gt];var fn=x.touches[0];t.touchData.startGPosition=[fn.clientX,fn.clientY]}}},!1);var Ie;t.registerBinding(e,"touchmove",Ie=function(x){var R=t.touchData.capture;if(!(!R&&!T(x))){var L=t.selection,H=t.cy,G=t.touchData.now,re=t.touchData.earlier,Q=H.zoom();if(x.touches[0]){var fe=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);G[0]=fe[0],G[1]=fe[1]}if(x.touches[1]){var fe=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);G[2]=fe[0],G[3]=fe[1]}if(x.touches[2]){var fe=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);G[4]=fe[0],G[5]=fe[1]}var he=function(rR){return{originalEvent:x,type:rR,position:{x:G[0],y:G[1]}}},_e=t.touchData.startGPosition,Fe;if(R&&x.touches[0]&&_e){for(var je=[],be=0;be<G.length;be++)je[be]=G[be]-re[be];var He=x.touches[0].clientX-_e[0],Ye=He*He,At=x.touches[0].clientY-_e[1],bt=At*At,jn=Ye+bt;Fe=jn>=t.touchTapThreshold2}if(R&&t.touchData.cxt){x.preventDefault();var Gt=x.touches[0].clientX-j,fn=x.touches[0].clientY-$,en=x.touches[1].clientX-j,En=x.touches[1].clientY-$,oo=We(Gt,fn,en,En),Wt=oo/te,ki=150,Pi=ki*ki,cs=1.5,Xc=cs*cs;if(Wt>=Xc||oo>=Pi){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Xo=he("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Xo),t.touchData.start=null):H.emit(Xo)}}if(R&&t.touchData.cxt){var Xo=he("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Xo):H.emit(Xo),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Qn=t.findNearestElement(G[0],G[1],!0,!0);(!t.touchData.cxtOver||Qn!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(he("cxtdragout")),t.touchData.cxtOver=Qn,Qn&&Qn.emit(he("cxtdragover")))}else if(R&&x.touches[2]&&H.boxSelectionEnabled())x.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||H.emit(he("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,L[4]=1,!L||L.length===0||L[0]===void 0?(L[0]=(G[0]+G[2]+G[4])/3,L[1]=(G[1]+G[3]+G[5])/3,L[2]=(G[0]+G[2]+G[4])/3+1,L[3]=(G[1]+G[3]+G[5])/3+1):(L[2]=(G[0]+G[2]+G[4])/3,L[3]=(G[1]+G[3]+G[5])/3),t.redrawHint("select",!0),t.redraw();else if(R&&x.touches[1]&&!t.touchData.didSelect&&H.zoomingEnabled()&&H.panningEnabled()&&H.userZoomingEnabled()&&H.userPanningEnabled()){x.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Nn=t.dragData.touchDragEles;if(Nn){t.redrawHint("drag",!0);for(var Jn=0;Jn<Nn.length;Jn++){var xu=Nn[Jn]._private;xu.grabbed=!1,xu.rscratch.inDragLayer=!1}}var wr=t.touchData.start,Gt=x.touches[0].clientX-j,fn=x.touches[0].clientY-$,en=x.touches[1].clientX-j,En=x.touches[1].clientY-$,qw=we(Gt,fn,en,En),YA=qw/J;if(se){var ZA=Gt-V,KA=fn-Y,XA=en-Z,QA=En-W,JA=(ZA+XA)/2,eR=(KA+QA)/2,_u=H.zoom(),Qp=_u*YA,Qc=H.pan(),Gw=ee[0]*_u+Qc.x,Ww=ee[1]*_u+Qc.y,tR={x:-Qp/_u*(Gw-Qc.x-JA)+Gw,y:-Qp/_u*(Ww-Qc.y-eR)+Ww};if(wr&&wr.active()){var Nn=t.dragData.touchDragEles;v(Nn),t.redrawHint("drag",!0),t.redrawHint("eles",!0),wr.unactivate().emit(he("freeon")),Nn.emit(he("free")),t.dragData.didDrag&&(wr.emit(he("dragfreeon")),Nn.emit(he("dragfree")))}H.viewport({zoom:Qp,pan:tR,cancelOnFailedZoom:!0}),H.emit(he("pinchzoom")),J=qw,V=Gt,Y=fn,Z=en,W=En,t.pinching=!0}if(x.touches[0]){var fe=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);G[0]=fe[0],G[1]=fe[1]}if(x.touches[1]){var fe=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);G[2]=fe[0],G[3]=fe[1]}if(x.touches[2]){var fe=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);G[4]=fe[0],G[5]=fe[1]}}else if(x.touches[0]&&!t.touchData.didSelect){var Vr=t.touchData.start,Jp=t.touchData.last,Qn;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Qn=t.findNearestElement(G[0],G[1],!0,!0)),R&&Vr!=null&&x.preventDefault(),R&&Vr!=null&&t.nodeIsDraggable(Vr))if(Fe){var Nn=t.dragData.touchDragEles,Yw=!t.dragData.didDrag;Yw&&m(Nn,{inDragLayer:!0}),t.dragData.didDrag=!0;var Mu={x:0,y:0};if(ce(je[0])&&ce(je[1])&&(Mu.x+=je[0],Mu.y+=je[1],Yw)){t.redrawHint("eles",!0);var jr=t.touchData.dragDelta;jr&&ce(jr[0])&&ce(jr[1])&&(Mu.x+=jr[0],Mu.y+=jr[1])}t.hoverData.draggingEles=!0,Nn.silentShift(Mu).emit(he("position")).emit(he("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==re[0]&&t.touchData.startPosition[1]==re[1]&&t.redrawHint("eles",!0),t.redraw()}else{var jr=t.touchData.dragDelta=t.touchData.dragDelta||[];jr.length===0?(jr.push(je[0]),jr.push(je[1])):(jr[0]+=je[0],jr[1]+=je[1])}if(i(Vr||Qn,["touchmove","tapdrag","vmousemove"],x,{x:G[0],y:G[1]}),(!Vr||!Vr.grabbed())&&Qn!=Jp&&(Jp&&Jp.emit(he("tapdragout")),Qn&&Qn.emit(he("tapdragover"))),t.touchData.last=Qn,R)for(var Jn=0;Jn<G.length;Jn++)G[Jn]&&t.touchData.startPosition[Jn]&&Fe&&(t.touchData.singleTouchMoved=!0);if(R&&(Vr==null||Vr.pannable())&&H.panningEnabled()&&H.userPanningEnabled()){var nR=a(Vr,t.touchData.starts);nR&&(x.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ou(t.touchData.startPosition)),t.swipePanning?(H.panBy({x:je[0]*Q,y:je[1]*Q}),H.emit(he("dragpan"))):Fe&&(t.swipePanning=!0,H.panBy({x:He*Q,y:At*Q}),H.emit(he("dragpan")),Vr&&(Vr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var fe=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);G[0]=fe[0],G[1]=fe[1]}}for(var be=0;be<G.length;be++)re[be]=G[be];R&&x.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Se;t.registerBinding(e,"touchcancel",Se=function(x){var R=t.touchData.start;t.touchData.capture=!1,R&&R.unactivate()});var le,ve,Ee,Me;if(t.registerBinding(e,"touchend",le=function(x){var R=t.touchData.start,L=t.touchData.capture;if(L)x.touches.length===0&&(t.touchData.capture=!1),x.preventDefault();else return;var H=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var G=t.cy,re=G.zoom(),Q=t.touchData.now,fe=t.touchData.earlier;if(x.touches[0]){var he=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);Q[0]=he[0],Q[1]=he[1]}if(x.touches[1]){var he=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);Q[2]=he[0],Q[3]=he[1]}if(x.touches[2]){var he=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);Q[4]=he[0],Q[5]=he[1]}var _e=function(Pi){return{originalEvent:x,type:Pi,position:{x:Q[0],y:Q[1]}}};R&&R.unactivate();var Fe;if(t.touchData.cxt){if(Fe=_e("cxttapend"),R?R.emit(Fe):G.emit(Fe),!t.touchData.cxtDragged){var je=_e("cxttap");R?R.emit(je):G.emit(je)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!x.touches[2]&&G.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var be=G.collection(t.getAllInBox(H[0],H[1],H[2],H[3]));H[0]=void 0,H[1]=void 0,H[2]=void 0,H[3]=void 0,H[4]=0,t.redrawHint("select",!0),G.emit(_e("boxend"));var He=function(Pi){return Pi.selectable()&&!Pi.selected()};be.emit(_e("box")).stdFilter(He).select().emit(_e("boxselect")),be.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(R?.unactivate(),x.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!x.touches[1]){if(!x.touches[0]){if(!x.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ye=t.dragData.touchDragEles;if(R!=null){var At=R._private.grabbed;v(Ye),t.redrawHint("drag",!0),t.redrawHint("eles",!0),At&&(R.emit(_e("freeon")),Ye.emit(_e("free")),t.dragData.didDrag&&(R.emit(_e("dragfreeon")),Ye.emit(_e("dragfree")))),i(R,["touchend","tapend","vmouseup","tapdragout"],x,{x:Q[0],y:Q[1]}),R.unactivate(),t.touchData.start=null}else{var bt=t.findNearestElement(Q[0],Q[1],!0,!0);i(bt,["touchend","tapend","vmouseup","tapdragout"],x,{x:Q[0],y:Q[1]})}var jn=t.touchData.startPosition[0]-Q[0],Gt=jn*jn,fn=t.touchData.startPosition[1]-Q[1],en=fn*fn,En=Gt+en,oo=En*re*re;t.touchData.singleTouchMoved||(R||G.$(":selected").unselect(["tapunselect"]),i(R,["tap","vclick"],x,{x:Q[0],y:Q[1]}),ve=!1,x.timeStamp-Me<=G.multiClickDebounceTime()?(Ee&&clearTimeout(Ee),ve=!0,Me=null,i(R,["dbltap","vdblclick"],x,{x:Q[0],y:Q[1]})):(Ee=setTimeout(function(){ve||i(R,["onetap","voneclick"],x,{x:Q[0],y:Q[1]})},G.multiClickDebounceTime()),Me=x.timeStamp)),R!=null&&!t.dragData.didDrag&&R._private.selectable&&oo<t.touchTapThreshold2&&!t.pinching&&(G.selectionType()==="single"?(G.$(n).unmerge(R).unselect(["tapunselect"]),R.select(["tapselect"])):R.selected()?R.unselect(["tapunselect"]):R.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Wt=0;Wt<Q.length;Wt++)fe[Wt]=Q[Wt];t.dragData.didDrag=!1,x.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),x.touches.length<2&&(x.touches.length===1&&(t.touchData.startGPosition=[x.touches[0].clientX,x.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var De=[],Ve=function(x){return{clientX:x.clientX,clientY:x.clientY,force:1,identifier:x.pointerId,pageX:x.pageX,pageY:x.pageY,radiusX:x.width/2,radiusY:x.height/2,screenX:x.screenX,screenY:x.screenY,target:x.target}},Ke=function(x){return{event:x,touch:Ve(x)}},Qe=function(x){De.push(Ke(x))},Je=function(x){for(var R=0;R<De.length;R++){var L=De[R];if(L.event.pointerId===x.pointerId){De.splice(R,1);return}}},it=function(x){var R=De.filter(function(L){return L.event.pointerId===x.pointerId})[0];R.event=x,R.touch=Ve(x)},Pe=function(x){x.touches=De.map(function(R){return R.touch})},me=function(x){return x.pointerType==="mouse"||x.pointerType===4};t.registerBinding(t.container,"pointerdown",function(X){me(X)||(X.preventDefault(),Qe(X),Pe(X),Ne(X))}),t.registerBinding(t.container,"pointerup",function(X){me(X)||(Je(X),Pe(X),le(X))}),t.registerBinding(t.container,"pointercancel",function(X){me(X)||(Je(X),Pe(X),Se(X))}),t.registerBinding(t.container,"pointermove",function(X){me(X)||(X.preventDefault(),it(X),Pe(X),Ie(X))})}};var eo={};eo.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(r,i,o,a,s,u){this.renderer.nodeShapeImpl("polygon",r,i,o,a,s,this.points)},intersectLine:function(r,i,o,a,s,u,l,c){return Cc(s,u,this.points,r,i,o/2,a/2,l)},checkPoint:function(r,i,o,a,s,u,l,c){return Qi(r,i,this.points,u,l,a,s,[0,-1],o)},hasMiterBounds:t!=="rectangle",miterBounds:function(r,i,o,a,s,u){return Kj(this.points,r,i,o,a,s)}}};eo.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o)},intersectLine:function(e,n,r,i,o,a,s,u){return iH(o,a,e,n,r/2+s,i/2+s)},checkPoint:function(e,n,r,i,o,a,s,u){return Wa(e,n,i,o,a,s,r)}}};eo.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(r,i,o,a,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===r&&u[l+"-cy"]===i)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=r,u[l+"-cy"]=i;var c=o/2,d=a/2;s=s==="auto"?HM(o,a):s;for(var f=new Array(e.length/2),h=0;h<e.length/2;h++)f[h]={x:r+c*e[h*2],y:i+d*e[h*2+1]};var p,m,g,v,y=f.length;for(m=f[y-1],p=0;p<y;p++)g=f[p%y],v=f[(p+1)%y],u[l][p]=yw(m,g,v,s),m=g,g=v;return u[l]},draw:function(r,i,o,a,s,u,l){this.renderer.nodeShapeImpl("round-polygon",r,i,o,a,s,this.points,this.getOrCreateCorners(i,o,a,s,u,l,"drawCorners"))},intersectLine:function(r,i,o,a,s,u,l,c,d){return aH(s,u,this.points,r,i,o,a,l,this.getOrCreateCorners(r,i,o,a,c,d,"corners"))},checkPoint:function(r,i,o,a,s,u,l,c,d){return rH(r,i,this.points,u,l,a,s,this.getOrCreateCorners(u,l,a,s,c,d,"corners"))}}};eo.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Yn(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o,this.points,a)},intersectLine:function(e,n,r,i,o,a,s,u){return VM(o,a,e,n,r,i,s,u)},checkPoint:function(e,n,r,i,o,a,s,u){var l=i/2,c=o/2;u=u==="auto"?jo(i,o):u,u=Math.min(l,c,u);var d=u*2;return!!(Qi(e,n,this.points,a,s,i,o-d,[0,-1],r)||Qi(e,n,this.points,a,s,i-d,o,[0,-1],r)||Wa(e,n,d,d,a-l+u,s-c+u,r)||Wa(e,n,d,d,a+l-u,s-c+u,r)||Wa(e,n,d,d,a+l-u,s+c-u,r)||Wa(e,n,d,d,a-l+u,s+c-u,r))}}};eo.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:sw(),points:Yn(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o,null,a)},generateCutTrianglePts:function(e,n,r,i,o){var a=o==="auto"?this.cornerLength:o,s=n/2,u=e/2,l=r-u,c=r+u,d=i-s,f=i+s;return{topLeft:[l,d+a,l+a,d,l+a,d+a],topRight:[c-a,d,c,d+a,c-a,d+a],bottomRight:[c,f-a,c-a,f,c-a,f-a],bottomLeft:[l+a,f,l,f-a,l+a,f-a]}},intersectLine:function(e,n,r,i,o,a,s,u){var l=this.generateCutTrianglePts(r+2*s,i+2*s,e,n,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Cc(o,a,c,e,n)},checkPoint:function(e,n,r,i,o,a,s,u){var l=u==="auto"?this.cornerLength:u;if(Qi(e,n,this.points,a,s,i,o-2*l,[0,-1],r)||Qi(e,n,this.points,a,s,i-2*l,o,[0,-1],r))return!0;var c=this.generateCutTrianglePts(i,o,a,s);return cr(e,n,c.topLeft)||cr(e,n,c.topRight)||cr(e,n,c.bottomRight)||cr(e,n,c.bottomLeft)}}};eo.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Yn(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o)},intersectLine:function(e,n,r,i,o,a,s,u){var l=.15,c=.5,d=.85,f=this.generateBarrelBezierPts(r+2*s,i+2*s,e,n),h=function(g){var v=uu({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},l),y=uu({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},c),w=uu({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},d);return[g[0],g[1],v.x,v.y,y.x,y.y,w.x,w.y,g[4],g[5]]},p=[].concat(h(f.topLeft),h(f.topRight),h(f.bottomRight),h(f.bottomLeft));return Cc(o,a,p,e,n)},generateBarrelBezierPts:function(e,n,r,i){var o=n/2,a=e/2,s=r-a,u=r+a,l=i-o,c=i+o,d=Ob(e,n),f=d.heightOffset,h=d.widthOffset,p=d.ctrlPtOffsetPct*e,m={topLeft:[s,l+f,s+p,l,s+h,l],topRight:[u-h,l,u-p,l,u,l+f],bottomRight:[u,c-f,u-p,c,u-h,c],bottomLeft:[s+h,c,s+p,c,s,c-f]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,n,r,i,o,a,s,u){var l=Ob(i,o),c=l.heightOffset,d=l.widthOffset;if(Qi(e,n,this.points,a,s,i,o-2*c,[0,-1],r)||Qi(e,n,this.points,a,s,i-2*d,o,[0,-1],r))return!0;for(var f=this.generateBarrelBezierPts(i,o,a,s),h=function(S,I,T){var _=T[4],M=T[2],A=T[0],N=T[5],k=T[1],P=Math.min(_,A),O=Math.max(_,A),F=Math.min(N,k),U=Math.max(N,k);if(P<=S&&S<=O&&F<=I&&I<=U){var z=sH(_,M,A),B=Jj(z[0],z[1],z[2],S),V=B.filter(function(Y){return 0<=Y&&Y<=1});if(V.length>0)return V[0]}return null},p=Object.keys(f),m=0;m<p.length;m++){var g=p[m],v=f[g],y=h(e,n,v);if(y!=null){var w=v[5],b=v[3],C=v[1],E=vn(w,b,C,y);if(v.isTop&&E<=n||v.isBottom&&n<=E)return!0}}return!1}}};eo.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Yn(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o,this.points,a)},intersectLine:function(e,n,r,i,o,a,s,u){var l=e-(r/2+s),c=n-(i/2+s),d=c,f=e+(r/2+s),h=Po(o,a,e,n,l,c,f,d,!1);return h.length>0?h:VM(o,a,e,n,r,i,s,u)},checkPoint:function(e,n,r,i,o,a,s,u){u=u==="auto"?jo(i,o):u;var l=2*u;if(Qi(e,n,this.points,a,s,i,o-l,[0,-1],r)||Qi(e,n,this.points,a,s,i-l,o,[0,-1],r))return!0;var c=i/2+2*r,d=o/2+2*r,f=[a-c,s-d,a-c,s,a+c,s,a+c,s-d];return!!(cr(e,n,f)||Wa(e,n,l,l,a+i/2-u,s+o/2-u,r)||Wa(e,n,l,l,a-i/2+u,s+o/2-u,r))}}};eo.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Yn(3,0)),this.generateRoundPolygon("round-triangle",Yn(3,0)),this.generatePolygon("rectangle",Yn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",Yn(5,0)),this.generateRoundPolygon("round-pentagon",Yn(5,0)),this.generatePolygon("hexagon",Yn(6,0)),this.generateRoundPolygon("round-hexagon",Yn(6,0)),this.generatePolygon("heptagon",Yn(7,0)),this.generateRoundPolygon("round-heptagon",Yn(7,0)),this.generatePolygon("octagon",Yn(8,0)),this.generateRoundPolygon("round-octagon",Yn(8,0));var r=new Array(20);{var i=Nb(5,0),o=Nb(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[s*2]*=a,o[s*2+1]*=a;for(var s=0;s<20/4;s++)r[s*4]=i[s*2],r[s*4+1]=i[s*2+1],r[s*4+2]=o[s*2],r[s*4+3]=o[s*2+1]}r=jM(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var c=l.join("$"),d="polygon-"+c,f;return(f=this[d])?f:e.generatePolygon(d,l)}};var Vc={};Vc.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Vc.redraw=function(t){t=t||PM();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Vc.beforeRender=function(t,e){if(!this.destroyed){e==null&&_t("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort(function(r,i){return i.priority-r.priority})}};var eM=function(e,n,r){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(n,r)};Vc.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var n=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){eM(t,!0,i);var o=Xi();t.render(t.renderOptions);var a=t.lastDrawTime=Xi();t.averageRedrawTime===void 0&&(t.averageRedrawTime=a-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=a-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else eM(t,!1,i);t.skipFrame=!1,dp(n)}};dp(n)}};var Cz=function(e){this.init(e)},H1=Cz,wu=H1.prototype;wu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];wu.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container(),r=e.cy.window();if(r){var i=r.document,o=i.head,a="__________cytoscape_stylesheet",s="__________cytoscape_container",u=i.getElementById(a)!=null;if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!u){var l=i.createElement("style");l.id=a,l.textContent="."+s+" { position: relative; }",o.insertBefore(l,o.children[0])}var c=r.getComputedStyle(n),d=c.getPropertyValue("position");d==="static"&&ft("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ce(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};wu.notify=function(t,e){var n=this,r=n.cy;if(!this.destroyed){if(t==="init"){n.load();return}if(t==="destroy"){n.destroy();return}(t==="add"||t==="remove"||t==="move"&&r.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&n.invalidateCachedZSortedEles(),t==="viewport"&&n.redrawHint("select",!0),t==="gc"&&n.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};wu.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};wu.isHeadless=function(){return!1};[mw,V1,j1,bu,eo,Vc].forEach(function(t){Re(wu,t)});var Cb=1e3/60,U1={setupDequeueing:function(e){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var o=kc(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),a=function(l,c){var d=Xi(),f=i.averageRedrawTime,h=i.lastRedrawTime,p=[],m=i.cy.extent(),g=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var v=Xi(),y=v-d,w=v-c;if(h<Cb){var b=Cb-(l?f:0);if(w>=e.deqFastCost*b)break}else if(l){if(y>=e.deqCost*h||y>=e.deqAvgCost*f)break}else if(w>=e.deqNoDrawCost*Cb)break;var C=e.deq(r,g,m);if(C.length>0)for(var E=0;E<C.length;E++)p.push(C[E]);else break}p.length>0&&(e.onDeqd(r,p),!l&&e.shouldRedraw(r,p,g,m)&&o())},s=e.priority||nw;i.beforeRender(a,s(r))}}}},Sz=(function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fp;zo(this,t),this.idsByKey=new Ki,this.keyForId=new Ki,this.cachesByLvl=new Ki,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return qo(t,[{key:"getIdsFor",value:function(n){n==null&&_t("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(n);return i||(i=new gu,r.set(n,i)),i}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),o=this.getKey(n);this.deleteIdForKey(i,r),this.addIdForKey(o,r),this.keyForId.set(r,o)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),o=this.getKey(n);return i!==o}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,i=this.lvls,o=r.get(n);return o||(o=new Ki,r.set(n,o),i.push(n)),o}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var i=this.getKey(n),o=this.getCache(i,r);return o!=null&&this.updateKeyMappingFor(n),o}},{key:"getForCachedKey",value:function(n,r){var i=this.keyForId.get(n.id()),o=this.getCache(i,r);return o}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var i=this.getKey(n);return this.hasCache(i,r)}},{key:"setCache",value:function(n,r,i){i.key=n,this.getCachesAt(r).set(n,i)}},{key:"set",value:function(n,r,i){var o=this.getKey(n);this.setCache(o,r,i),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var i=this.getKey(n);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(i){return r.deleteCache(n,i)})}},{key:"invalidate",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(n);var o=this.doesEleInvalidateKey(n);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}])})(),tM=25,Kh=50,sp=-4,Gb=3,$1=7.99,Iz=8,Tz=1024,xz=1024,_z=1024,Mz=.2,Az=.8,Rz=10,Nz=.15,Oz=.1,kz=.9,Pz=.9,Fz=100,Lz=1,su={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Bz=Mn({getKey:null,doesEleInvalidateKey:fp,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:NM,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),gc=function(e,n){var r=this;r.renderer=e,r.onDequeues=[];var i=Bz(n);Re(r,i),r.lookup=new Sz(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},ln=gc.prototype;ln.reasons=su;ln.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ln.getRetiredTextureQueue=function(t){var e=this,n=e.eleImgCaches.retired=e.eleImgCaches.retired||{},r=n[t]=n[t]||[];return r};ln.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Pc(function(n,r){return r.reqs-n.reqs});return e};ln.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ln.getElement=function(t,e,n,r,i){var o=this,a=this.renderer,s=a.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(r==null&&(r=Math.ceil(iw(s*n))),r<sp)r=sp;else if(s>=$1||r>Gb)return null;var l=Math.pow(2,r),c=e.h*l,d=e.w*l,f=a.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,f))return null;var h=u.get(t,r);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var p;if(c<=tM?p=tM:c<=Kh?p=Kh:p=Math.ceil(c/Kh)*Kh,c>_z||d>xz)return null;var m=o.getTextureQueue(p),g=m[m.length-2],v=function(){return o.recycleTexture(p,d)||o.addTexture(p,d)};g||(g=m[m.length-1]),g||(g=v()),g.width-g.usedWidth<d&&(g=v());for(var y=function(P){return P&&P.scaledLabelShown===f},w=i&&i===su.dequeue,b=i&&i===su.highQuality,C=i&&i===su.downscale,E,D=r+1;D<=Gb;D++){var S=u.get(t,D);if(S){E=S;break}}var I=E&&E.level===r+1?E:null,T=function(){g.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,g.usedWidth,0,d,c)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,d,p),y(I))T();else if(y(E))if(b){for(var _=E.level;_>r;_--)I=o.getElement(t,e,n,_,su.downscale);T()}else return o.queueElement(t,E.level-1),E;else{var M;if(!w&&!b&&!C)for(var A=r-1;A>=sp;A--){var N=u.get(t,A);if(N){M=N;break}}if(y(M))return o.queueElement(t,r),M;g.context.translate(g.usedWidth,0),g.context.scale(l,l),this.drawElement(g.context,t,e,f,!1),g.context.scale(1/l,1/l),g.context.translate(-g.usedWidth,0)}return h={x:g.usedWidth,texture:g,level:r,scale:l,width:d,height:c,scaledLabelShown:f},g.usedWidth+=Math.ceil(d+Iz),g.eleCaches.push(h),u.set(t,r,h),o.checkTextureFullness(g),h};ln.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ln.invalidateElement=function(t){var e=this,n=e.lookup,r=[],i=n.isInvalid(t);if(i){for(var o=sp;o<=Gb;o++){var a=n.getForCachedKey(t,o);a&&r.push(a)}var s=n.invalidate(t);if(s)for(var u=0;u<r.length;u++){var l=r[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};ln.checkTextureUtility=function(t){t.invalidatedWidth>=Mz*t.width&&this.retireTexture(t)};ln.checkTextureFullness=function(t){var e=this,n=e.getTextureQueue(t.height);t.usedWidth/t.width>Az&&t.fullnessChecks>=Rz?Vo(n,t):t.fullnessChecks++};ln.retireTexture=function(t){var e=this,n=t.height,r=e.getTextureQueue(n),i=this.lookup;Vo(r,t),t.retired=!0;for(var o=t.eleCaches,a=0;a<o.length;a++){var s=o[a];i.deleteCache(s.key,s.level)}rw(o);var u=e.getRetiredTextureQueue(n);u.push(t)};ln.addTexture=function(t,e){var n=this,r=n.getTextureQueue(t),i={};return r.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(Tz,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};ln.recycleTexture=function(t,e){for(var n=this,r=n.getTextureQueue(t),i=n.getRetiredTextureQueue(t),o=0;o<i.length;o++){var a=i[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,rw(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),Vo(i,a),r.push(a),a}};ln.queueElement=function(t,e){var n=this,r=n.getElementQueue(),i=n.getElementKeyToQueue(),o=this.getKey(t),a=i[o];if(a)a.level=Math.max(a.level,e),a.eles.merge(t),a.reqs++,r.updateItem(a);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};r.push(s),i[o]=s}};ln.dequeue=function(t){for(var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<Lz&&n.size()>0;a++){var s=n.pop(),u=s.key,l=s.eles[0],c=o.hasCache(l,s.level);if(r[u]=null,c)continue;i.push(s);var d=e.getBoundingBox(l);e.getElement(l,d,t,s.level,su.dequeue)}return i};ln.removeFromQueue=function(t){var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=this.getKey(t),o=r[i];o!=null&&(o.eles.length===1?(o.reqs=tw,n.updateItem(o),n.pop(),r[i]=null):o.eles.unmerge(t))};ln.onDequeue=function(t){this.onDequeues.push(t)};ln.offDequeue=function(t){Vo(this.onDequeues,t)};ln.setupDequeueing=U1.setupDequeueing({deqRedrawThreshold:Fz,deqCost:Nz,deqAvgCost:Oz,deqNoDrawCost:kz,deqFastCost:Pz,deq:function(e,n,r){return e.dequeue(n,r)},onDeqd:function(e,n){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(n)}},shouldRedraw:function(e,n,r,i){for(var o=0;o<n.length;o++)for(var a=n[o].eles,s=0;s<a.length;s++){var u=a[s].boundingBox();if(aw(u,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Vz=1,mc=-4,wp=2,jz=3.99,Hz=50,Uz=50,$z=.15,zz=.1,qz=.9,Gz=.9,Wz=1,nM=250,Yz=4e3*4e3,rM=32767,Zz=!0,z1=function(e){var n=this,r=n.renderer=e,i=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=Xi()-2*nM,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=kc(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},Uz),r.beforeRender(function(a,s){s-n.lastInvalidationTime<=nM?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var o=function(s,u){return u.reqs-s.reqs};n.layersQueue=new Pc(o),n.setupDequeueing()},An=z1.prototype,iM=0,Kz=Math.pow(2,53)-1;An.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),o=this.renderer.makeOffscreenCanvas(r,i),a={id:iM=++iM%Kz,bb:t,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(n,n),s.translate(u,l),a};An.getLayers=function(t,e,n){var r=this,i=r.renderer,o=i.cy,a=o.zoom(),s=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(iw(a*e)),n<mc)n=mc;else if(a>=jz||n>wp)return null}r.validateLayersElesOrdering(n,t);var u=r.layersByLevel,l=Math.pow(2,n),c=u[n]=u[n]||[],d,f=r.levelIsComplete(n,t),h,p=function(){var T=function(k){if(r.validateLayersElesOrdering(k,t),r.levelIsComplete(k,t))return h=u[k],!0},_=function(k){if(!h)for(var P=n+k;mc<=P&&P<=wp&&!T(P);P+=k);};_(1),_(-1);for(var M=c.length-1;M>=0;M--){var A=c[M];A.invalid&&Vo(c,A)}};if(!f)p();else return c;var m=function(){if(!d){d=Zn();for(var T=0;T<t.length;T++)Wj(d,t[T].boundingBox())}return d},g=function(T){T=T||{};var _=T.after;m();var M=Math.ceil(d.w*l),A=Math.ceil(d.h*l);if(M>rM||A>rM)return null;var N=M*A;if(N>Yz)return null;var k=r.makeLayer(d,n);if(_!=null){var P=c.indexOf(_)+1;c.splice(P,0,k)}else(T.insert===void 0||T.insert)&&c.unshift(k);return k};if(r.skipping&&!s)return null;for(var v=null,y=t.length/Vz,w=!s,b=0;b<t.length;b++){var C=t[b],E=C._private.rscratch,D=E.imgLayerCaches=E.imgLayerCaches||{},S=D[n];if(S){v=S;continue}if((!v||v.eles.length>=y||!BM(v.bb,C.boundingBox()))&&(v=g({insert:!0,after:v}),!v))return null;h||w?r.queueLayer(v,C):r.drawEleInLayer(v,C,n,e),v.eles.push(C),D[n]=v}return h||(w?null:c)};An.getEleLevelForLayerLevel=function(t,e){return t};An.drawEleInLayer=function(t,e,n,r){var i=this,o=this.renderer,a=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(n=i.getEleLevelForLayerLevel(n,r),o.setImgSmoothing(a,!1),o.drawCachedElement(a,e,null,null,n,Zz),o.setImgSmoothing(a,!0))};An.levelIsComplete=function(t,e){var n=this,r=n.layersByLevel[t];if(!r||r.length===0)return!1;for(var i=0,o=0;o<r.length;o++){var a=r[o];if(a.reqs>0||a.invalid)return!1;i+=a.eles.length}return i===e.length};An.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0){this.invalidateLayer(i);continue}for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}};An.updateElementsInLayers=function(t,e){for(var n=this,r=Ac(t[0]),i=0;i<t.length;i++)for(var o=r?null:t[i],a=r?t[i]:t[i].ele,s=a._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=mc;l<=wp;l++){var c=u[l];c&&(o&&n.getEleLevelForLayerLevel(c.level)!==o.level||e(c,a,o))}};An.haveLayers=function(){for(var t=this,e=!1,n=mc;n<=wp;n++){var r=t.layersByLevel[n];if(r&&r.length>0){e=!0;break}}return e};An.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Xi(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(r,i,o){e.invalidateLayer(r)}))};An.invalidateLayer=function(t){if(this.lastInvalidationTime=Xi(),!t.invalid){var e=t.level,n=t.eles,r=this.layersByLevel[e];Vo(r,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};An.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(r,i,o){var a=r.replacement;if(a||(a=r.replacement=e.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)e.queueLayer(a,a.eles[s])})};An.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};An.queueLayer=function(t,e){var n=this,r=n.layersQueue,i=t.elesQueue,o=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,r.updateItem(t)):(t.reqs=1,r.push(t))}};An.dequeue=function(t){for(var e=this,n=e.layersQueue,r=[],i=0;i<Wz&&n.size()!==0;){var o=n.peek();if(o.replacement){n.pop();continue}if(o.replaces&&o!==o.replaces.replacement){n.pop();continue}if(o.invalid){n.pop();continue}var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),r.length===0&&r.push(!0),o.elesQueue.length===0&&(n.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return r};An.applyLayerReplacement=function(t){var e=this,n=e.layersByLevel[t.level],r=t.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=t;for(var o=0;o<t.eles.length;o++){var a=t.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};An.requestRedraw=kc(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);An.setupDequeueing=U1.setupDequeueing({deqRedrawThreshold:Hz,deqCost:$z,deqAvgCost:zz,deqNoDrawCost:qz,deqFastCost:Gz,deq:function(e,n){return e.dequeue(n)},onDeqd:nw,shouldRedraw:NM,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var q1={},oM;function Xz(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}}function Qz(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];i===0&&(r=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)}function aM(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}var a=n,s=n[0];t.moveTo(s.x,s.y);for(var i=1;i<a.length;i++){var o=a[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function Jz(t,e,n,r,i){t.beginPath&&t.beginPath(),t.arc(n,r,i,0,Math.PI*2,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var u=o[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function e3(t,e,n,r){t.arc(e,n,r,0,Math.PI*2,!1)}q1.arrowShapeImpl=function(t){return(oM||(oM={polygon:Xz,"triangle-backcurve":Qz,"triangle-tee":aM,"circle-triangle":Jz,"triangle-cross":aM,circle:e3}))[t]};var Ni={};Ni.drawElement=function(t,e,n,r,i,o){var a=this;e.isNode()?a.drawNode(t,e,n,r,i,o):a.drawEdge(t,e,n,r,i,o)};Ni.drawElementOverlay=function(t,e){var n=this;e.isNode()?n.drawNodeOverlay(t,e):n.drawEdgeOverlay(t,e)};Ni.drawElementUnderlay=function(t,e){var n=this;e.isNode()?n.drawNodeUnderlay(t,e):n.drawEdgeUnderlay(t,e)};Ni.drawCachedElementPortion=function(t,e,n,r,i,o,a,s){var u=this,l=n.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=n.getElement(e,l,r,i,o);if(c!=null){var d=s(u,e);if(d===0)return;var f=a(u,e),h=l.x1,p=l.y1,m=l.w,g=l.h,v,y,w,b,C;if(f!==0){var E=n.getRotationPoint(e);w=E.x,b=E.y,t.translate(w,b),t.rotate(f),C=u.getImgSmoothing(t),C||u.setImgSmoothing(t,!0);var D=n.getRotationOffset(e);v=D.x,y=D.y}else v=h,y=p;var S;d!==1&&(S=t.globalAlpha,t.globalAlpha=S*d),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,v,y,m,g),d!==1&&(t.globalAlpha=S),f!==0&&(t.rotate(-f),t.translate(-w,-b),C||u.setImgSmoothing(t,!1))}else n.drawElement(t,e)}};var t3=function(){return 0},n3=function(e,n){return e.getTextAngle(n,null)},r3=function(e,n){return e.getTextAngle(n,"source")},i3=function(e,n){return e.getTextAngle(n,"target")},o3=function(e,n){return n.effectiveOpacity()},Sb=function(e,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};Ni.drawCachedElement=function(t,e,n,r,i,o){var a=this,s=a.data,u=s.eleTxrCache,l=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,f=e.boundingBox(),h=o===!0?u.reasons.highQuality:null;if(!(f.w===0||f.h===0||!e.visible())&&(!r||aw(f,r))){var p=e.isEdge(),m=e.element()._private.rscratch.badLine;a.drawElementUnderlay(t,e),a.drawCachedElementPortion(t,e,u,n,i,h,t3,o3),(!p||!m)&&a.drawCachedElementPortion(t,e,l,n,i,h,n3,Sb),p&&!m&&(a.drawCachedElementPortion(t,e,c,n,i,h,r3,Sb),a.drawCachedElementPortion(t,e,d,n,i,h,i3,Sb)),a.drawElementOverlay(t,e)}};Ni.drawElements=function(t,e){for(var n=this,r=0;r<e.length;r++){var i=e[r];n.drawElement(t,i)}};Ni.drawCachedElements=function(t,e,n,r){for(var i=this,o=0;o<e.length;o++){var a=e[o];i.drawCachedElement(t,a,n,r)}};Ni.drawCachedNodes=function(t,e,n,r){for(var i=this,o=0;o<e.length;o++){var a=e[o];a.isNode()&&i.drawCachedElement(t,a,n,r)}};Ni.drawLayeredElements=function(t,e,n,r){var i=this,o=i.data.lyrTxrCache.getLayers(e,n);if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(t,e,n,r)};var to={};to.drawEdge=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s=e._private.rscratch;if(!(o&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;n&&(u=n,t.translate(-u.x1,-u.y1));var l=o?e.pstyle("opacity").value:1,c=o?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,f=e.pstyle("line-style").value,h=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,g=e.pstyle("line-outline-color").value,v=l*c,y=l*c,w=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;d==="straight-triangle"?(a.eleStrokeStyle(t,e,k),a.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=h,t.lineCap=p,a.eleStrokeStyle(t,e,k),a.drawEdgePath(e,t,s.allpts,f),t.lineCap="butt")},b=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(t.lineWidth=h+m,t.lineCap=p,m>0)a.colorStrokeStyle(t,g[0],g[1],g[2],k);else{t.lineCap="butt";return}d==="straight-triangle"?a.drawEdgeTrianglePath(e,t,s.allpts):(a.drawEdgePath(e,t,s.allpts,f),t.lineCap="butt")},C=function(){i&&a.drawEdgeOverlay(t,e)},E=function(){i&&a.drawEdgeUnderlay(t,e)},D=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;a.drawArrowheads(t,e,k)},S=function(){a.drawElementText(t,e,null,r)};t.lineJoin="round";var I=e.pstyle("ghost").value==="yes";if(I){var T=e.pstyle("ghost-offset-x").pfValue,_=e.pstyle("ghost-offset-y").pfValue,M=e.pstyle("ghost-opacity").value,A=v*M;t.translate(T,_),w(A),D(A),t.translate(-T,-_)}else b();E(),w(),D(),C(),S(),n&&t.translate(u.x1,u.y1)}};var G1=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,a=o.usePaths(),s=r._private.rscratch,u=r.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=r.pstyle("".concat(e,"-color")).value;n.lineWidth=l,s.edgeType==="self"&&!a?n.lineCap="butt":n.lineCap="round",o.colorStrokeStyle(n,c[0],c[1],c[2],i),o.drawEdgePath(r,n,s.allpts,"solid")}}}};to.drawEdgeOverlay=G1("overlay");to.drawEdgeUnderlay=G1("underlay");to.drawEdgePath=function(t,e,n,r){var i=t._private.rscratch,o=e,a,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var d=n.join("$"),f=i.pathCacheKey&&i.pathCacheKey===d;f?(a=e=i.pathCache,s=!0):(a=e=new Path2D,i.pathCacheKey=d,i.pathCache=a)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=c;break;case"solid":o.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<n.length;h+=4)e.quadraticCurveTo(n[h],n[h+1],n[h+2],n[h+3]);break;case"straight":case"haystack":for(var p=2;p+1<n.length;p+=2)e.lineTo(n[p],n[p+1]);break;case"segments":if(i.isRound){var m=dr(i.roundCorners),g;try{for(m.s();!(g=m.n()).done;){var v=g.value;k1(e,v)}}catch(w){m.e(w)}finally{m.f()}e.lineTo(n[n.length-2],n[n.length-1])}else for(var y=2;y+1<n.length;y+=2)e.lineTo(n[y],n[y+1]);break}e=o,u?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])};to.drawEdgeTrianglePath=function(t,e,n){e.fillStyle=e.strokeStyle;for(var r=t.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var o=[n[i+2]-n[i],n[i+3]-n[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/a,-o[0]/a],u=[s[0]*r/2,s[1]*r/2];e.beginPath(),e.moveTo(n[i]-u[0],n[i+1]-u[1]),e.lineTo(n[i]+u[0],n[i+1]+u[1]),e.lineTo(n[i+2],n[i+3]),e.closePath(),e.fill()}};to.drawArrowheads=function(t,e,n){var r=e._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};to.drawArrowhead=function(t,e,n,r,i,o,a){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(o)||o==null)){var s=this,u=e.pstyle(n+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(n+"-arrow-fill").value,d=e.pstyle("width").pfValue,f=e.pstyle(n+"-arrow-width"),h=f.value==="match-line"?d:f.pfValue;f.units==="%"&&(h*=d);var p=e.pstyle("opacity").value;a===void 0&&(a=p);var m=t.globalCompositeOperation;(a!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,d,u,h,r,i,o),t.globalCompositeOperation=m);var g=e.pstyle(n+"-arrow-color").value;s.colorFillStyle(t,g[0],g[1],g[2],a),s.colorStrokeStyle(t,g[0],g[1],g[2],a),s.drawArrowShape(e,t,c,d,u,h,r,i,o)}}};to.drawArrowShape=function(t,e,n,r,i,o,a,s,u){var l=this,c=this.usePaths()&&i!=="triangle-cross",d=!1,f,h=e,p={x:a,y:s},m=t.pstyle("arrow-scale").value,g=this.getArrowWidth(r,m),v=l.arrowShapes[i];if(c){var y=l.arrowPathCache=l.arrowPathCache||[],w=Ya(i),b=y[w];b!=null?(f=e=b,d=!0):(f=e=new Path2D,y[w]=f)}d||(e.beginPath&&e.beginPath(),c?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,g,u,p,r),e.closePath&&e.closePath()),e=h,c&&(e.translate(a,s),e.rotate(u),e.scale(g,g)),(n==="filled"||n==="both")&&(c?e.fill(f):e.fill()),(n==="hollow"||n==="both")&&(e.lineWidth=o/(c?g:1),e.lineJoin="miter",c?e.stroke(f):e.stroke()),c&&(e.scale(1/g,1/g),e.rotate(-u),e.translate(-a,-s))};var ww={};ww.safeDrawImage=function(t,e,n,r,i,o,a,s,u,l){if(!(i<=0||o<=0||u<=0||l<=0))try{t.drawImage(e,n,r,i,o,a,s,u,l)}catch(c){ft(c)}};ww.drawInscribedImage=function(t,e,n,r,i){var o=this,a=n.position(),s=a.x,u=a.y,l=n.cy().style(),c=l.getIndexedStyle.bind(l),d=c(n,"background-fit","value",r),f=c(n,"background-repeat","value",r),h=n.width(),p=n.height(),m=n.padding()*2,g=h+(c(n,"background-width-relative-to","value",r)==="inner"?0:m),v=p+(c(n,"background-height-relative-to","value",r)==="inner"?0:m),y=n._private.rscratch,w=c(n,"background-clip","value",r),b=w==="node",C=c(n,"background-image-opacity","value",r)*i,E=c(n,"background-image-smoothing","value",r),D=n.pstyle("corner-radius").value;D!=="auto"&&(D=n.pstyle("corner-radius").pfValue);var S=e.width||e.cachedW,I=e.height||e.cachedH;(S==null||I==null)&&(document.body.appendChild(e),S=e.cachedW=e.width||e.offsetWidth,I=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var T=S,_=I;if(c(n,"background-width","value",r)!=="auto"&&(c(n,"background-width","units",r)==="%"?T=c(n,"background-width","pfValue",r)*g:T=c(n,"background-width","pfValue",r)),c(n,"background-height","value",r)!=="auto"&&(c(n,"background-height","units",r)==="%"?_=c(n,"background-height","pfValue",r)*v:_=c(n,"background-height","pfValue",r)),!(T===0||_===0)){if(d==="contain"){var M=Math.min(g/T,v/_);T*=M,_*=M}else if(d==="cover"){var M=Math.max(g/T,v/_);T*=M,_*=M}var A=s-g/2,N=c(n,"background-position-x","units",r),k=c(n,"background-position-x","pfValue",r);N==="%"?A+=(g-T)*k:A+=k;var P=c(n,"background-offset-x","units",r),O=c(n,"background-offset-x","pfValue",r);P==="%"?A+=(g-T)*O:A+=O;var F=u-v/2,U=c(n,"background-position-y","units",r),z=c(n,"background-position-y","pfValue",r);U==="%"?F+=(v-_)*z:F+=z;var B=c(n,"background-offset-y","units",r),V=c(n,"background-offset-y","pfValue",r);B==="%"?F+=(v-_)*V:F+=V,y.pathCache&&(A-=s,F-=u,s=0,u=0);var Y=t.globalAlpha;t.globalAlpha=C;var Z=o.getImgSmoothing(t),W=!1;if(E==="no"&&Z?(o.setImgSmoothing(t,!1),W=!0):E==="yes"&&!Z&&(o.setImgSmoothing(t,!0),W=!0),f==="no-repeat")b&&(t.save(),y.pathCache?t.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,s,u,g,v,D,y),t.clip())),o.safeDrawImage(t,e,0,0,S,I,A,F,T,_),b&&t.restore();else{var J=t.createPattern(e,f);t.fillStyle=J,o.nodeShapes[o.getNodeShape(n)].draw(t,s,u,g,v,D,y),t.translate(A,F),t.fill(),t.translate(-A,-F)}t.globalAlpha=Y,W&&o.setImgSmoothing(t,Z)}};var es={};es.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(iw(n*r));e=Math.pow(2,i)}var o=t.pstyle("font-size").pfValue*e,a=t.pstyle("min-zoomed-font-size").pfValue;return!(o<a)};es.drawElementText=function(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this;if(r==null){if(o&&!a.eleTextBiggerThanMin(e))return}else if(r===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=a.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),f=e.pstyle("target-label");if(l||(!c||!c.value)&&(!d||!d.value)&&(!f||!f.value))return;t.textAlign="center",t.textBaseline="bottom"}var h=!n,p;n&&(p=n,t.translate(-p.x1,-p.y1)),i==null?(a.drawText(t,e,null,h,o),e.isEdge()&&(a.drawText(t,e,"source",h,o),a.drawText(t,e,"target",h,o))):a.drawText(t,e,i,h,o),n&&t.translate(p.x1,p.y1)};es.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(e=this.fontCaches[n],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};es.setupTextStyle=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=r+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function a3(t,e,n,r,i){var o=Math.min(r,i),a=o/2,s=e+r/2,u=n+i/2;t.beginPath(),t.arc(s,u,a,0,Math.PI*2),t.closePath()}function sM(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,a=Math.min(o,r/2,i/2);t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+r-a,n),t.quadraticCurveTo(e+r,n,e+r,n+a),t.lineTo(e+r,n+i-a),t.quadraticCurveTo(e+r,n+i,e+r-a,n+i),t.lineTo(e+a,n+i),t.quadraticCurveTo(e,n+i,e,n+i-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath()}es.getTextAngle=function(t,e){var n,r=t._private,i=r.rscratch,o=e?e+"-":"",a=t.pstyle(o+"text-rotation");if(a.strValue==="autorotate"){var s=lr(i,"labelAngle",e);n=t.isEdge()?s:0}else a.strValue==="none"?n=0:n=a.pfValue;return n};es.drawText=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var u=lr(a,"labelX",n),l=lr(a,"labelY",n),c,d,f=this.getLabelText(e,n);if(f!=null&&f!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,i);var h=n?n+"-":"",p=lr(a,"labelWidth",n),m=lr(a,"labelHeight",n),g=e.pstyle(h+"text-margin-x").pfValue,v=e.pstyle(h+"text-margin-y").pfValue,y=e.isEdge(),w=e.pstyle("text-halign").value,b=e.pstyle("text-valign").value;y&&(w="center",b="center"),u+=g,l+=v;var C;switch(r?C=this.getTextAngle(e,n):C=0,C!==0&&(c=u,d=l,t.translate(c,d),t.rotate(C),u=0,l=0),b){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var E=e.pstyle("text-background-opacity").value,D=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,I=e.pstyle("text-background-padding").pfValue,T=e.pstyle("text-background-shape").strValue,_=T==="round-rectangle"||T==="roundrectangle",M=T==="circle",A=2;if(E>0||S>0&&D>0){var N=t.fillStyle,k=t.strokeStyle,P=t.lineWidth,O=e.pstyle("text-background-color").value,F=e.pstyle("text-border-color").value,U=e.pstyle("text-border-style").value,z=E>0,B=S>0&&D>0,V=u-I;switch(w){case"left":V-=p;break;case"center":V-=p/2;break}var Y=l-m-I,Z=p+2*I,W=m+2*I;if(z&&(t.fillStyle="rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(E*s,")")),B&&(t.strokeStyle="rgba(".concat(F[0],",").concat(F[1],",").concat(F[2],",").concat(D*s,")"),t.lineWidth=S,t.setLineDash))switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=S/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(_?(t.beginPath(),sM(t,V,Y,Z,W,A)):M?(t.beginPath(),a3(t,V,Y,Z,W)):(t.beginPath(),t.rect(V,Y,Z,W)),z&&t.fill(),B&&t.stroke(),B&&U==="double"){var J=S/2;t.beginPath(),_?sM(t,V+J,Y+J,Z-2*J,W-2*J,A):t.rect(V+J,Y+J,Z-2*J,W-2*J),t.stroke()}t.fillStyle=N,t.strokeStyle=k,t.lineWidth=P,t.setLineDash&&t.setLineDash([])}var te=2*e.pstyle("text-outline-width").pfValue;if(te>0&&(t.lineWidth=te),e.pstyle("text-wrap").value==="wrap"){var ue=lr(a,"labelWrapCachedLines",n),ee=lr(a,"labelLineHeight",n),j=p/2,$=this.getLabelJustification(e);switch($==="auto"||(w==="left"?$==="left"?u+=-p:$==="center"&&(u+=-j):w==="center"?$==="left"?u+=-j:$==="right"&&(u+=j):w==="right"&&($==="center"?u+=j:$==="right"&&(u+=p))),b){case"top":l-=(ue.length-1)*ee;break;case"center":case"bottom":l-=(ue.length-1)*ee;break}for(var q=0;q<ue.length;q++)te>0&&t.strokeText(ue[q],u,l),t.fillText(ue[q],u,l),l+=ee}else te>0&&t.strokeText(f,u,l),t.fillText(f,u,l);C!==0&&(t.rotate(-C),t.translate(-c,-d))}}};var Wo={};Wo.drawNode=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s,u,l=e._private,c=l.rscratch,d=e.position();if(!(!ce(d.x)||!ce(d.y))&&!(o&&!e.visible())){var f=o?e.effectiveOpacity():1,h=a.usePaths(),p,m=!1,g=e.padding();s=e.width()+2*g,u=e.height()+2*g;var v;n&&(v=n,t.translate(-v.x1,-v.y1));for(var y=e.pstyle("background-image"),w=y.value,b=new Array(w.length),C=new Array(w.length),E=0,D=0;D<w.length;D++){var S=w[D],I=b[D]=S!=null&&S!=="none";if(I){var T=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",D);E++,C[D]=a.getCachedImage(S,T,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var _=e.pstyle("background-blacken").value,M=e.pstyle("border-width").pfValue,A=e.pstyle("background-opacity").value*f,N=e.pstyle("border-color").value,k=e.pstyle("border-style").value,P=e.pstyle("border-join").value,O=e.pstyle("border-cap").value,F=e.pstyle("border-position").value,U=e.pstyle("border-dash-pattern").pfValue,z=e.pstyle("border-dash-offset").pfValue,B=e.pstyle("border-opacity").value*f,V=e.pstyle("outline-width").pfValue,Y=e.pstyle("outline-color").value,Z=e.pstyle("outline-style").value,W=e.pstyle("outline-opacity").value*f,J=e.pstyle("outline-offset").value,te=e.pstyle("corner-radius").value;te!=="auto"&&(te=e.pstyle("corner-radius").pfValue);var ue=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;a.eleFillStyle(t,e,me)},ee=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;a.colorStrokeStyle(t,N[0],N[1],N[2],me)},j=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;a.colorStrokeStyle(t,Y[0],Y[1],Y[2],me)},$=function(me,X,x,R){var L=a.nodePathCache=a.nodePathCache||[],H=RM(x==="polygon"?x+","+R.join(","):x,""+X,""+me,""+te),G=L[H],re,Q=!1;return G!=null?(re=G,Q=!0,c.pathCache=re):(re=new Path2D,L[H]=c.pathCache=re),{path:re,cacheHit:Q}},q=e.pstyle("shape").strValue,K=e.pstyle("shape-polygon-points").pfValue;if(h){t.translate(d.x,d.y);var se=$(s,u,q,K);p=se.path,m=se.cacheHit}var we=function(){if(!m){var me=d;h&&(me={x:0,y:0}),a.nodeShapes[a.getNodeShape(e)].draw(p||t,me.x,me.y,s,u,te,c)}h?t.fill(p):t.fill()},We=function(){for(var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,x=l.backgrounding,R=0,L=0;L<C.length;L++){var H=e.cy().style().getIndexedStyle(e,"background-image-containment","value",L);if(X&&H==="over"||!X&&H==="inside"){R++;continue}b[L]&&C[L].complete&&!C[L].error&&(R++,a.drawInscribedImage(t,C[L],e,L,me))}l.backgrounding=R!==E,x!==l.backgrounding&&e.updateStyle(!1)},Ne=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;a.hasPie(e)&&(a.drawPie(t,e,X),me&&(h||a.nodeShapes[a.getNodeShape(e)].draw(t,d.x,d.y,s,u,te,c)))},Ie=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;a.hasStripe(e)&&(t.save(),h?t.clip(c.pathCache):(a.nodeShapes[a.getNodeShape(e)].draw(t,d.x,d.y,s,u,te,c),t.clip()),a.drawStripe(t,e,X),t.restore(),me&&(h||a.nodeShapes[a.getNodeShape(e)].draw(t,d.x,d.y,s,u,te,c)))},Se=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,X=(_>0?_:-_)*me,x=_>0?0:255;_!==0&&(a.colorFillStyle(t,x,x,x,X),h?t.fill(p):t.fill())},le=function(){if(M>0){if(t.lineWidth=M,t.lineCap=O,t.lineJoin=P,t.setLineDash)switch(k){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(U),t.lineDashOffset=z;break;case"solid":case"double":t.setLineDash([]);break}if(F!=="center"){if(t.save(),t.lineWidth*=2,F==="inside")h?t.clip(p):t.clip();else{var me=new Path2D;me.rect(-s/2-M,-u/2-M,s+2*M,u+2*M),me.addPath(p),t.clip(me,"evenodd")}h?t.stroke(p):t.stroke(),t.restore()}else h?t.stroke(p):t.stroke();if(k==="double"){t.lineWidth=M/3;var X=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(p):t.stroke(),t.globalCompositeOperation=X}t.setLineDash&&t.setLineDash([])}},ve=function(){if(V>0){if(t.lineWidth=V,t.lineCap="butt",t.setLineDash)switch(Z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var me=d;h&&(me={x:0,y:0});var X=a.getNodeShape(e),x=M;F==="inside"&&(x=0),F==="outside"&&(x*=2);var R=(s+x+(V+J))/s,L=(u+x+(V+J))/u,H=s*R,G=u*L,re=a.nodeShapes[X].points,Q;if(h){var fe=$(H,G,X,re);Q=fe.path}if(X==="ellipse")a.drawEllipsePath(Q||t,me.x,me.y,H,G);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(X)){var he=0,_e=0,Fe=0;X==="round-diamond"?he=(x+J+V)*1.4:X==="round-heptagon"?(he=(x+J+V)*1.075,Fe=-(x/2+J+V)/35):X==="round-hexagon"?he=(x+J+V)*1.12:X==="round-pentagon"?(he=(x+J+V)*1.13,Fe=-(x/2+J+V)/15):X==="round-tag"?(he=(x+J+V)*1.12,_e=(x/2+V+J)*.07):X==="round-triangle"&&(he=(x+J+V)*(Math.PI/2),Fe=-(x+J/2+V)/Math.PI),he!==0&&(R=(s+he)/s,H=s*R,["round-hexagon","round-tag"].includes(X)||(L=(u+he)/u,G=u*L)),te=te==="auto"?HM(H,G):te;for(var je=H/2,be=G/2,He=te+(x+V+J)/2,Ye=new Array(re.length/2),At=new Array(re.length/2),bt=0;bt<re.length/2;bt++)Ye[bt]={x:me.x+_e+je*re[bt*2],y:me.y+Fe+be*re[bt*2+1]};var jn,Gt,fn,en,En=Ye.length;for(Gt=Ye[En-1],jn=0;jn<En;jn++)fn=Ye[jn%En],en=Ye[(jn+1)%En],At[jn]=yw(Gt,fn,en,He),Gt=fn,fn=en;a.drawRoundPolygonPath(Q||t,me.x+_e,me.y+Fe,s*R,u*L,re,At)}else if(["roundrectangle","round-rectangle"].includes(X))te=te==="auto"?jo(H,G):te,a.drawRoundRectanglePath(Q||t,me.x,me.y,H,G,te+(x+V+J)/2);else if(["cutrectangle","cut-rectangle"].includes(X))te=te==="auto"?sw():te,a.drawCutRectanglePath(Q||t,me.x,me.y,H,G,null,te+(x+V+J)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(X))te=te==="auto"?jo(H,G):te,a.drawBottomRoundRectanglePath(Q||t,me.x,me.y,H,G,te+(x+V+J)/2);else if(X==="barrel")a.drawBarrelPath(Q||t,me.x,me.y,H,G);else if(X.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(X)){var oo=(x+V+J)/s;re=hp(pp(re,oo)),a.drawPolygonPath(Q||t,me.x,me.y,s,u,re)}else{var Wt=(x+V+J)/s;re=hp(pp(re,-Wt)),a.drawPolygonPath(Q||t,me.x,me.y,s,u,re)}if(h?t.stroke(Q):t.stroke(),Z==="double"){t.lineWidth=x/3;var ki=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(Q):t.stroke(),t.globalCompositeOperation=ki}t.setLineDash&&t.setLineDash([])}},Ee=function(){i&&a.drawNodeOverlay(t,e,d,s,u)},Me=function(){i&&a.drawNodeUnderlay(t,e,d,s,u)},De=function(){a.drawElementText(t,e,null,r)},Ve=e.pstyle("ghost").value==="yes";if(Ve){var Ke=e.pstyle("ghost-offset-x").pfValue,Qe=e.pstyle("ghost-offset-y").pfValue,Je=e.pstyle("ghost-opacity").value,it=Je*f;t.translate(Ke,Qe),j(),ve(),ue(Je*A),we(),We(it,!0),ee(Je*B),le(),Ne(_!==0||M!==0),Ie(_!==0||M!==0),We(it,!1),Se(it),t.translate(-Ke,-Qe)}h&&t.translate(-d.x,-d.y),Me(),h&&t.translate(d.x,d.y),j(),ve(),ue(),we(),We(f,!0),ee(),le(),Ne(_!==0||M!==0),Ie(_!==0||M!==0),We(f,!1),Se(),h&&t.translate(-d.x,-d.y),De(),Ee(),n&&t.translate(v.x1,v.y1)}};var W1=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r,i,o,a){var s=this;if(r.visible()){var u=r.pstyle("".concat(e,"-padding")).pfValue,l=r.pstyle("".concat(e,"-opacity")).value,c=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,f=r.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(i=i||r.position(),o==null||a==null){var h=r.padding();o=r.width()+2*h,a=r.height()+2*h}s.colorFillStyle(n,c[0],c[1],c[2],l),s.nodeShapes[d].draw(n,i.x,i.y,o+u*2,a+u*2,f),n.fill()}}}};Wo.drawNodeOverlay=W1("overlay");Wo.drawNodeUnderlay=W1("underlay");Wo.hasPie=function(t){return t=t[0],t._private.hasPie};Wo.hasStripe=function(t){return t=t[0],t._private.hasStripe};Wo.drawPie=function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=e.pstyle("pie-hole"),s=e.pstyle("pie-start-angle").pfValue,u=r.x,l=r.y,c=e.width(),d=e.height(),f=Math.min(c,d)/2,h,p=0,m=this.usePaths();if(m&&(u=0,l=0),o.units==="%"?f=f*o.pfValue:o.pfValue!==void 0&&(f=o.pfValue/2),a.units==="%"?h=f*a.pfValue:a.pfValue!==void 0&&(h=a.pfValue/2),!(h>=f))for(var g=1;g<=i.pieBackgroundN;g++){var v=e.pstyle("pie-"+g+"-background-size").value,y=e.pstyle("pie-"+g+"-background-color").value,w=e.pstyle("pie-"+g+"-background-opacity").value*n,b=v/100;b+p>1&&(b=1-p);var C=1.5*Math.PI+2*Math.PI*p;C+=s;var E=2*Math.PI*b,D=C+E;v===0||p>=1||p+b>1||(h===0?(t.beginPath(),t.moveTo(u,l),t.arc(u,l,f,C,D),t.closePath()):(t.beginPath(),t.arc(u,l,f,C,D),t.arc(u,l,h,D,C,!0),t.closePath()),this.colorFillStyle(t,y[0],y[1],y[2],w),t.fill(),p+=b)}};Wo.drawStripe=function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=r.x,a=r.y,s=e.width(),u=e.height(),l=0,c=this.usePaths();t.save();var d=e.pstyle("stripe-direction").value,f=e.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var h=s,p=u;f.units==="%"?(h=h*f.pfValue,p=p*f.pfValue):f.pfValue!==void 0&&(h=f.pfValue,p=f.pfValue),c&&(o=0,a=0),a-=h/2,o-=p/2;for(var m=1;m<=i.stripeBackgroundN;m++){var g=e.pstyle("stripe-"+m+"-background-size").value,v=e.pstyle("stripe-"+m+"-background-color").value,y=e.pstyle("stripe-"+m+"-background-opacity").value*n,w=g/100;w+l>1&&(w=1-l),!(g===0||l>=1||l+w>1)&&(t.beginPath(),t.rect(o,a+p*l,h,p*w),t.closePath(),this.colorFillStyle(t,v[0],v[1],v[2],y),t.fill(),l+=w)}t.restore()};var Kn={},s3=100;Kn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),n=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/n};Kn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],n=!0,r,i=0;i<e.length;i++)if(r=e[i],r.context===t){n=!1;break}return n&&(r={context:t},e.push(r)),r};Kn.createGradientStyleFor=function(t,e,n,r,i){var o,a=this.usePaths(),s=n.pstyle(e+"-gradient-stop-colors").value,u=n.pstyle(e+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var l=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),f=Za(l,d),h=Za(c,d);o=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(f,h))}else{var p=a?{x:0,y:0}:n.position(),m=n.paddedWidth(),g=n.paddedHeight();o=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(m,g))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();o=t.createLinearGradient(v.x,v.y,y.x,y.y)}else{var w=a?{x:0,y:0}:n.position(),b=n.paddedWidth(),C=n.paddedHeight(),E=b/2,D=C/2,S=n.pstyle("background-gradient-direction").value;switch(S){case"to-bottom":o=t.createLinearGradient(w.x,w.y-D,w.x,w.y+D);break;case"to-top":o=t.createLinearGradient(w.x,w.y+D,w.x,w.y-D);break;case"to-left":o=t.createLinearGradient(w.x+E,w.y,w.x-E,w.y);break;case"to-right":o=t.createLinearGradient(w.x-E,w.y,w.x+E,w.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(w.x-E,w.y-D,w.x+E,w.y+D);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(w.x-E,w.y+D,w.x+E,w.y-D);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(w.x+E,w.y-D,w.x-E,w.y+D);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(w.x+E,w.y+D,w.x-E,w.y-D);break}}if(!o)return null;for(var I=u.length===s.length,T=s.length,_=0;_<T;_++)o.addColorStop(I?u[_]:_/(T-1),"rgba("+s[_][0]+","+s[_][1]+","+s[_][2]+","+i+")");return o};Kn.gradientFillStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"background",e,n,r);if(!i)return null;t.fillStyle=i};Kn.colorFillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"};Kn.eleFillStyle=function(t,e,n){var r=e.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(t,e,r,n);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],n)}};Kn.gradientStrokeStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"line",e,n,r);if(!i)return null;t.strokeStyle=i};Kn.colorStrokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"};Kn.eleStrokeStyle=function(t,e,n){var r=e.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(t,e,r,n);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],n)}};Kn.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(a=s);var u=i*a,l=o*a,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var f=0;f<e.CANVAS_LAYERS;f++)c=n.canvases[f],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=o+"px";for(var f=0;f<e.BUFFER_COUNT;f++)c=n.bufferCanvases[f],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=o+"px";e.textureMult=1,a<=1&&(c=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l,e.pixelRatio=a}};Kn.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};Kn.clearCanvas=function(){var t=this,e=t.data;function n(r){r.clearRect(0,0,t.canvasWidth,t.canvasHeight)}n(e.contexts[t.NODE]),n(e.contexts[t.DRAG])};Kn.render=function(t){var e=this;t=t||PM();var n=e.cy,r=t.forcedContext,i=t.drawAllLayers,o=t.drawOnlyNodeLayer,a=t.forcedZoom,s=t.forcedPan,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=e.data,c=l.canvasNeedsRedraw,d=e.textureOnViewport&&!r&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),f=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,h=e.motionBlurPxRatio,p=n.hasCompoundNodes(),m=e.hoverData.draggingEles,g=!!(e.hoverData.selecting||e.touchData.selecting);f=f&&!r&&e.motionBlurEnabled&&!g;var v=f;r||(e.prevPxRatio!==u&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=u),!r&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),f&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(v=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!d&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var y=n.style(),w=n.zoom(),b=a!==void 0?a:w,C=n.pan(),E={x:C.x,y:C.y},D={zoom:w,pan:{x:C.x,y:C.y}},S=e.prevViewport,I=S===void 0||D.zoom!==S.zoom||D.pan.x!==S.pan.x||D.pan.y!==S.pan.y;!I&&!(m&&!p)&&(e.motionBlurPxRatio=1),s&&(E=s),b*=u,E.x*=u,E.y*=u;var T=e.getCachedZSortedEles();function _(ee,j,$,q,K){var se=ee.globalCompositeOperation;ee.globalCompositeOperation="destination-out",e.colorFillStyle(ee,255,255,255,e.motionBlurTransparency),ee.fillRect(j,$,q,K),ee.globalCompositeOperation=se}function M(ee,j){var $,q,K,se;!e.clearingMotionBlur&&(ee===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ee===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?($={x:C.x*h,y:C.y*h},q=w*h,K=e.canvasWidth*h,se=e.canvasHeight*h):($=E,q=b,K=e.canvasWidth,se=e.canvasHeight),ee.setTransform(1,0,0,1,0,0),j==="motionBlur"?_(ee,0,0,K,se):!r&&(j===void 0||j)&&ee.clearRect(0,0,K,se),i||(ee.translate($.x,$.y),ee.scale(q,q)),s&&ee.translate(s.x,s.y),a&&ee.scale(a,a)}if(d||(e.textureDrawLastFrame=!1),d){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=n.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var A=e.data.bufferContexts[e.TEXTURE_BUFFER];A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:u*e.textureMult});var D=e.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:e.canvasWidth,height:e.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var N=l.contexts[e.NODE],k=e.textureCache.texture,D=e.textureCache.viewport;N.setTransform(1,0,0,1,0,0),f?_(N,0,0,D.width,D.height):N.clearRect(0,0,D.width,D.height);var P=y.core("outside-texture-bg-color").value,O=y.core("outside-texture-bg-opacity").value;e.colorFillStyle(N,P[0],P[1],P[2],O),N.fillRect(0,0,D.width,D.height);var w=n.zoom();M(N,!1),N.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/u,D.height/D.zoom/u),N.drawImage(k,D.mpan.x,D.mpan.y,D.width/D.zoom/u,D.height/D.zoom/u)}else e.textureOnViewport&&!r&&(e.textureCache=null);var F=n.extent(),U=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),z=e.hideEdgesOnViewport&&U,B=[];if(B[e.NODE]=!c[e.NODE]&&f&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,B[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),B[e.DRAG]=!c[e.DRAG]&&f&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,B[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||i||o||B[e.NODE]){var V=f&&!B[e.NODE]&&h!==1,N=r||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),Y=f&&!V?"motionBlur":void 0;M(N,Y),z?e.drawCachedNodes(N,T.nondrag,u,F):e.drawLayeredElements(N,T.nondrag,u,F),e.debug&&e.drawDebugPoints(N,T.nondrag),!i&&!f&&(c[e.NODE]=!1)}if(!o&&(c[e.DRAG]||i||B[e.DRAG])){var V=f&&!B[e.DRAG]&&h!==1,N=r||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);M(N,f&&!V?"motionBlur":void 0),z?e.drawCachedNodes(N,T.drag,u,F):e.drawCachedElements(N,T.drag,u,F),e.debug&&e.drawDebugPoints(N,T.drag),!i&&!f&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,M),f&&h!==1){var Z=l.contexts[e.NODE],W=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],J=l.contexts[e.DRAG],te=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],ue=function(j,$,q){j.setTransform(1,0,0,1,0,0),q||!v?j.clearRect(0,0,e.canvasWidth,e.canvasHeight):_(j,0,0,e.canvasWidth,e.canvasHeight);var K=h;j.drawImage($,0,0,e.canvasWidth*K,e.canvasHeight*K,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||B[e.NODE])&&(ue(Z,W,B[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||B[e.DRAG])&&(ue(J,te,B[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=D,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),f&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!d,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},s3)),r||n.emit("render")};var cc;Kn.drawSelectionRectangle=function(t,e){var n=this,r=n.cy,i=n.data,o=r.style(),a=t.drawOnlyNodeLayer,s=t.drawAllLayers,u=i.canvasNeedsRedraw,l=t.forcedContext;if(n.showFps||!a&&u[n.SELECT_BOX]&&!s){var c=l||i.contexts[n.SELECT_BOX];if(e(c),n.selection[4]==1&&(n.hoverData.selecting||n.touchData.selecting)){var d=n.cy.zoom(),f=o.core("selection-box-border-width").value/d;c.lineWidth=f,c.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",c.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),f>0&&(c.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",c.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(i.bgActivePosistion&&!n.hoverData.selecting){var d=n.cy.zoom(),h=i.bgActivePosistion;c.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",c.beginPath(),c.arc(h.x,h.y,o.core("active-bg-size").pfValue/d,0,2*Math.PI),c.fill()}var p=n.lastRedrawTime;if(n.showFps&&p){p=Math.round(p);var m=Math.round(1e3/p),g="1 frame = "+p+" ms = "+m+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!cc){var v=c.measureText(g);cc=v.actualBoundingBoxAscent}c.fillText(g,0,cc);var y=60;c.strokeRect(0,cc+10,250,20),c.fillRect(0,cc+10,250*Math.min(m/y,1),20)}s||(u[n.SELECT_BOX]=!1)}};function uM(t,e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r));return r}function u3(t,e,n){var r=uM(t,t.VERTEX_SHADER,e),i=uM(t,t.FRAGMENT_SHADER,n),o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function l3(t,e,n){n===void 0&&(n=e);var r=t.makeOffscreenCanvas(e,n),i=r.context=r.getContext("2d");return r.clear=function(){return i.clearRect(0,0,r.width,r.height)},r.clear(),r}function Ew(t){var e=t.pixelRatio,n=t.cy.zoom(),r=t.cy.pan();return{zoom:n*e,pan:{x:r.x*e,y:r.y*e}}}function c3(t){var e=t.pixelRatio,n=t.cy.zoom();return n*e}function d3(t,e,n,r,i){var o=r*n+e.x,a=i*n+e.y;return a=Math.round(t.canvasHeight-a),[o,a]}function f3(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function h3(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ha(t,e,n){var r=t[0]/255,i=t[1]/255,o=t[2]/255,a=e,s=n||new Array(4);return s[0]=r*a,s[1]=i*a,s[2]=o*a,s[3]=a,s}function nu(t,e){var n=e||new Array(4);return n[0]=(t>>0&255)/255,n[1]=(t>>8&255)/255,n[2]=(t>>16&255)/255,n[3]=(t>>24&255)/255,n}function p3(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function g3(t,e){var n=t.createTexture();return n.buffer=function(r){t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},n.deleteTexture=function(){t.deleteTexture(n)},n}function Y1(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function Z1(t,e,n){switch(e){case t.FLOAT:return new Float32Array(n);case t.INT:return new Int32Array(n)}}function v3(t,e,n,r,i,o){switch(e){case t.FLOAT:return new Float32Array(n.buffer,o*r,i);case t.INT:return new Int32Array(n.buffer,o*r,i)}}function m3(t,e,n,r){var i=Y1(t,e),o=Qt(i,2),a=o[0],s=o[1],u=Z1(t,s,r),l=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,u,t.STATIC_DRAW),s===t.FLOAT?t.vertexAttribPointer(n,a,s,!1,0,0):s===t.INT&&t.vertexAttribIPointer(n,a,s,0,0),t.enableVertexAttribArray(n),t.bindBuffer(t.ARRAY_BUFFER,null),l}function xi(t,e,n,r){var i=Y1(t,n),o=Qt(i,3),a=o[0],s=o[1],u=o[2],l=Z1(t,s,e*a),c=a*u,d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(r),s===t.FLOAT?t.vertexAttribPointer(r,a,s,!1,c,0):s===t.INT&&t.vertexAttribIPointer(r,a,s,c,0),t.vertexAttribDivisor(r,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var f=new Array(e),h=0;h<e;h++)f[h]=v3(t,s,l,c,a,h);return d.dataArray=l,d.stride=c,d.size=a,d.getView=function(p){return f[p]},d.setPoint=function(p,m,g){var v=f[p];v[0]=m,v[1]=g},d.bufferSubData=function(p){t.bindBuffer(t.ARRAY_BUFFER,d),p?t.bufferSubData(t.ARRAY_BUFFER,0,l,0,p*a):t.bufferSubData(t.ARRAY_BUFFER,0,l)},d}function y3(t,e,n){for(var r=9,i=new Float32Array(e*r),o=new Array(e),a=0;a<e;a++){var s=a*r*4;o[a]=new Float32Array(i.buffer,s,r)}var u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=n+l;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,36,l*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),u.getMatrixView=function(d){return o[d]},u.setData=function(d,f){o[f].set(d,0)},u.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferSubData(t.ARRAY_BUFFER,0,i)},u}function b3(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(r,i){t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var lM=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Ib(){var t=new lM(9);return lM!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function cM(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w3(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=n[0],h=n[1],p=n[2],m=n[3],g=n[4],v=n[5],y=n[6],w=n[7],b=n[8];return t[0]=f*r+h*a+p*l,t[1]=f*i+h*s+p*c,t[2]=f*o+h*u+p*d,t[3]=m*r+g*a+v*l,t[4]=m*i+g*s+v*c,t[5]=m*o+g*u+v*d,t[6]=y*r+w*a+b*l,t[7]=y*i+w*s+b*c,t[8]=y*o+w*u+b*d,t}function up(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=n[0],h=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+h*a+l,t[7]=f*i+h*s+c,t[8]=f*o+h*u+d,t}function dM(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=Math.sin(n),h=Math.cos(n);return t[0]=h*r+f*a,t[1]=h*i+f*s,t[2]=h*o+f*u,t[3]=h*a-f*r,t[4]=h*s-f*i,t[5]=h*u-f*o,t[6]=l,t[7]=c,t[8]=d,t}function Wb(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function E3(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var D3=(function(){function t(e,n,r,i){zo(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=n,this.texRows=r,this.texHeight=Math.floor(n/r),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,n,n),this.scratch=i(e,n,this.texHeight,"scratch")}return qo(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(n){var r=n.w,i=n.h,o=this.texHeight,a=this.texSize,s=o/i,u=r*s,l=i*s;return u>a&&(s=a/r,u=r*s,l=i*s),{scale:s,texW:u,texH:l}}},{key:"draw",value:function(n,r,i){var o=this;if(this.locked)throw new Error("can't draw, atlas is locked");var a=this.texSize,s=this.texRows,u=this.texHeight,l=this.getScale(r),c=l.scale,d=l.texW,f=l.texH,h=function(w,b){if(i&&b){var C=b.context,E=w.x,D=w.row,S=E,I=u*D;C.save(),C.translate(S,I),C.scale(c,c),i(C,r),C.restore()}},p=[null,null],m=function(){h(o.freePointer,o.canvas),p[0]={x:o.freePointer.x,y:o.freePointer.row*u,w:d,h:f},p[1]={x:o.freePointer.x+d,y:o.freePointer.row*u,w:0,h:f},o.freePointer.x+=d,o.freePointer.x==a&&(o.freePointer.x=0,o.freePointer.row++)},g=function(){var w=o.scratch,b=o.canvas;w.clear(),h({x:0,row:0},w);var C=a-o.freePointer.x,E=d-C,D=u;{var S=o.freePointer.x,I=o.freePointer.row*u,T=C;b.context.drawImage(w,0,0,T,D,S,I,T,D),p[0]={x:S,y:I,w:T,h:f}}{var _=C,M=(o.freePointer.row+1)*u,A=E;b&&b.context.drawImage(w,_,0,A,D,0,M,A,D),p[1]={x:0,y:M,w:A,h:f}}o.freePointer.x=E,o.freePointer.row++},v=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+d<=a)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===a?(v(),m()):this.enableWrapping?g():(v(),m())}return this.keyToLocation.set(n,p),this.needsBuffer=!0,p}},{key:"getOffsets",value:function(n){return this.keyToLocation.get(n)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(n){if(this.locked)return!1;var r=this.texSize,i=this.texRows,o=this.getScale(n),a=o.texW;return this.freePointer.x+a>r?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(n){this.texture||(this.texture=g3(n,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),C3=(function(){function t(e,n,r,i){zo(this,t),this.r=e,this.texSize=n,this.texRows=r,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return qo(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var n=this.r,r=this.texSize,i=this.texRows,o=this.createTextureCanvas;return new D3(n,r,i,o)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var n=this.r,r=this.texSize,i=this.texRows,o=this.createTextureCanvas,a=Math.floor(r/i);this.scratch=o(n,r,a,"scratch")}return this.scratch}},{key:"draw",value:function(n,r,i){var o=this.styleKeyToAtlas.get(n);return o||(o=this.atlases[this.atlases.length-1],(!o||!o.canFit(r))&&(o&&o.lock(),o=this._createAtlas(),this.atlases.push(o)),o.draw(n,r,i),this.styleKeyToAtlas.set(n,o)),o}},{key:"getAtlas",value:function(n){return this.styleKeyToAtlas.get(n)}},{key:"hasAtlas",value:function(n){return this.styleKeyToAtlas.has(n)}},{key:"markKeyForGC",value:function(n){this.markedKeys.add(n)}},{key:"gc",value:function(){var n=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var i=[],o=new Map,a=null,s=dr(this.atlases),u;try{var l=function(){var d=u.value,f=d.getKeys(),h=S3(r,f);if(h.size===0)return i.push(d),f.forEach(function(C){return o.set(C,d)}),1;a||(a=n._createAtlas(),i.push(a));var p=dr(f),m;try{for(p.s();!(m=p.n()).done;){var g=m.value;if(!h.has(g)){var v=d.getOffsets(g),y=Qt(v,2),w=y[0],b=y[1];a.canFit({w:w.w+b.w,h:w.h})||(a.lock(),a=n._createAtlas(),i.push(a)),d.canvas&&(n._copyTextureToNewAtlas(g,d,a),o.set(g,a))}}}catch(C){p.e(C)}finally{p.f()}d.dispose()};for(s.s();!(u=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=o,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(n,r,i){var o=r.getOffsets(n),a=Qt(o,2),s=a[0],u=a[1];if(u.w===0)i.draw(n,s,function(f){f.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),l.context.drawImage(r.canvas,u.x,u.y,u.w,u.h,s.w,0,u.w,u.h);var c=s.w+u.w,d=s.h;i.draw(n,{w:c,h:d},function(f){f.drawImage(l,0,0,c,d,0,0,c,d)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function S3(t,e){return t.intersection?t.intersection(e):new Set(lp(t).filter(function(n){return e.has(n)}))}var I3=(function(){function t(e,n){zo(this,t),this.r=e,this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return qo(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(n,r){var i=this.globalOptions,o=i.webglTexSize,a=i.createTextureCanvas,s=r.texRows,u=this._cacheScratchCanvas(a),l=new C3(this.r,o,s,u);this.collections.set(n,l)}},{key:"addRenderType",value:function(n,r){var i=r.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var o=this.collections.get(i),a=Re({type:n,atlasCollection:o},r);this.renderTypes.set(n,a)}},{key:"getRenderTypeOpts",value:function(n){return this.renderTypes.get(n)}},{key:"getAtlasCollection",value:function(n){return this.collections.get(n)}},{key:"_cacheScratchCanvas",value:function(n){var r=-1,i=-1,o=null;return function(a,s,u,l){return l?((!o||s!=r||u!=i)&&(r=s,i=u,o=n(a,s,u)),o):n(a,s,u)}}},{key:"_key",value:function(n,r){return"".concat(n,"-").concat(r)}},{key:"invalidate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.forceRedraw,a=o===void 0?!1:o,s=i.filterEle,u=s===void 0?function(){return!0}:s,l=i.filterType,c=l===void 0?function(){return!0}:l,d=!1,f=!1,h=dr(n),p;try{for(h.s();!(p=h.n()).done;){var m=p.value;if(u(m)){var g=dr(this.renderTypes.values()),v;try{var y=function(){var b=v.value,C=b.type;if(c(C)){var E=r.collections.get(b.collection),D=b.getKey(m),S=Array.isArray(D)?D:[D];if(a)S.forEach(function(M){return E.markKeyForGC(M)}),f=!0;else{var I=b.getID?b.getID(m):m.id(),T=r._key(C,I),_=r.typeAndIdToKey.get(T);_!==void 0&&!h3(S,_)&&(d=!0,r.typeAndIdToKey.delete(T),_.forEach(function(M){return E.markKeyForGC(M)}))}}};for(g.s();!(v=g.n()).done;)y()}catch(w){g.e(w)}finally{g.f()}}}}catch(w){h.e(w)}finally{h.f()}return f&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var n=dr(this.collections.values()),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;i.gc()}}catch(o){n.e(o)}finally{n.f()}}},{key:"getOrCreateAtlas",value:function(n,r,i,o){var a=this.renderTypes.get(r),s=this.collections.get(a.collection),u=!1,l=s.draw(o,i,function(f){a.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,i.w,i.h),f.clip(),a.drawElement(f,n,i,!0,!0),f.restore()):a.drawElement(f,n,i,!0,!0),u=!0});if(u){var c=a.getID?a.getID(n):n.id(),d=this._key(r,c);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(o):this.typeAndIdToKey.set(d,[o])}return l}},{key:"getAtlasInfo",value:function(n,r){var i=this,o=this.renderTypes.get(r),a=o.getKey(n),s=Array.isArray(a)?a:[a];return s.map(function(u){var l=o.getBoundingBox(n,u),c=i.getOrCreateAtlas(n,r,l,u),d=c.getOffsets(u),f=Qt(d,2),h=f[0],p=f[1];return{atlas:c,tex:h,tex1:h,tex2:p,bb:l}})}},{key:"getDebugInfo",value:function(){var n=[],r=dr(this.collections),i;try{for(r.s();!(i=r.n()).done;){var o=Qt(i.value,2),a=o[0],s=o[1],u=s.getCounts(),l=u.keyCount,c=u.atlasCount;n.push({type:a,keyCount:l,atlasCount:c})}}catch(d){r.e(d)}finally{r.f()}return n}}])})(),T3=(function(){function t(e){zo(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return qo(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(n,r){return r})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(n){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(n):!0}},{key:"getAtlasIndexForBatch",value:function(n){var r=this.batchAtlases.indexOf(n);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(n),r=this.batchAtlases.length-1}return r}}])})(),x3=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,_3=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,M3=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,A3=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,yc={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Ep={IGNORE:1,USE_BB:2},Tb=0,fM=1,hM=2,xb=3,ru=4,Xh=5,dc=6,fc=7,R3=(function(){function t(e,n,r){zo(this,t),this.r=e,this.gl=n,this.maxInstances=r.webglBatchSize,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,this.debug=r.webglDebug,this.batchDebugInfo=[],r.enableWrapping=!0,r.createTextureCanvas=l3,this.atlasManager=new I3(e,r),this.batchManager=new T3(r),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(yc.SCREEN),this.pickingProgram=this._createShaderProgram(yc.PICKING),this.vao=this._createVAO()}return qo(t,[{key:"addAtlasCollection",value:function(n,r){this.atlasManager.addAtlasCollection(n,r)}},{key:"addTextureAtlasRenderType",value:function(n,r){this.atlasManager.addRenderType(n,r)}},{key:"addSimpleShapeRenderType",value:function(n,r){this.simpleShapeOptions.set(n,r)}},{key:"invalidate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,o=this.atlasManager;return i?o.invalidate(n,{filterType:function(s){return s===i},forceRedraw:!0}):o.invalidate(n)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(n){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Tb,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(ru," || aVertType == ").concat(fc,` 
             || aVertType == `).concat(Xh," || aVertType == ").concat(dc,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(fM,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(hM,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(xb,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),o=this.batchManager.getIndexArray(),a=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(o.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(x3,`
      `).concat(_3,`
      `).concat(M3,`
      `).concat(A3,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Tb,`) {
          // look up the texel from the texture unit
          `).concat(o.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(xb,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(ru,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(ru," || vVertType == ").concat(fc,` 
          || vVertType == `).concat(Xh," || vVertType == ").concat(dc,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(ru,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(fc,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(fc,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(n.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=u3(r,i,a);s.aPosition=r.getAttribLocation(s,"aPosition"),s.aIndex=r.getAttribLocation(s,"aIndex"),s.aVertType=r.getAttribLocation(s,"aVertType"),s.aTransform=r.getAttribLocation(s,"aTransform"),s.aAtlasId=r.getAttribLocation(s,"aAtlasId"),s.aTex=r.getAttribLocation(s,"aTex"),s.aPointAPointB=r.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=r.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=r.getAttribLocation(s,"aLineWidth"),s.aColor=r.getAttribLocation(s,"aColor"),s.aCornerRadius=r.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=r.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=r.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=r.getUniformLocation(s,"uAtlasSize"),s.uBGColor=r.getUniformLocation(s,"uBGColor"),s.uZoom=r.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var u=0;u<this.batchManager.getMaxAtlasesPerBatch();u++)s.uTextures.push(r.getUniformLocation(s,"uTexture".concat(u)));return s}},{key:"_createVAO",value:function(){var n=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=n.length/2;var r=this.maxInstances,i=this.gl,o=this.program,a=i.createVertexArray();return i.bindVertexArray(a),m3(i,"vec2",o.aPosition,n),this.transformBuffer=y3(i,r,o.aTransform),this.indexBuffer=xi(i,r,"vec4",o.aIndex),this.vertTypeBuffer=xi(i,r,"int",o.aVertType),this.atlasIdBuffer=xi(i,r,"int",o.aAtlasId),this.texBuffer=xi(i,r,"vec4",o.aTex),this.pointAPointBBuffer=xi(i,r,"vec4",o.aPointAPointB),this.pointCPointDBuffer=xi(i,r,"vec4",o.aPointCPointD),this.lineWidthBuffer=xi(i,r,"vec2",o.aLineWidth),this.colorBuffer=xi(i,r,"vec4",o.aColor),this.cornerRadiusBuffer=xi(i,r,"vec4",o.aCornerRadius),this.borderColorBuffer=xi(i,r,"vec4",o.aBorderColor),i.bindVertexArray(null),a}},{key:"buffers",get:function(){var n=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return Oo(r,"Buffer")}).map(function(r){return n[r]})),this._buffers}},{key:"startFrame",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yc.SCREEN;this.panZoomMatrix=n,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(n,r){return n.visible()?r&&r.isVisible?r.isVisible(n):!0:!1}},{key:"drawTexture",value:function(n,r,i){var o=this.atlasManager,a=this.batchManager,s=o.getRenderTypeOpts(i);if(this._isVisible(n,s)&&!(n.isEdge()&&!this._isValidEdge(n))){if(this.renderTarget.picking&&s.getTexPickingMode){var u=s.getTexPickingMode(n);if(u===Ep.IGNORE)return;if(u==Ep.USE_BB){this.drawPickingRectangle(n,r,i);return}}var l=o.getAtlasInfo(n,i),c=dr(l),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=f.atlas,p=f.tex1,m=f.tex2;a.canAddToCurrentBatch(h)||this.endBatch();for(var g=a.getAtlasIndexForBatch(h),v=0,y=[[p,!0],[m,!1]];v<y.length;v++){var w=Qt(y[v],2),b=w[0],C=w[1];if(b.w!=0){var E=this.instanceCount;this.vertTypeBuffer.getView(E)[0]=Tb;var D=this.indexBuffer.getView(E);nu(r,D);var S=this.atlasIdBuffer.getView(E);S[0]=g;var I=this.texBuffer.getView(E);I[0]=b.x,I[1]=b.y,I[2]=b.w,I[3]=b.h;var T=this.transformBuffer.getMatrixView(E);this.setTransformMatrix(n,T,s,f,C),this.instanceCount++,C||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(_){c.e(_)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(n,r,i,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=n.pstyle(i.shapeProps.padding).pfValue),o){var u=o.bb,l=o.tex1,c=o.tex2,d=l.w/(l.w+c.w);a||(d=1-d);var f=this._getAdjustedBB(u,s,a,d);this._applyTransformMatrix(r,f,i,n)}else{var h=i.getBoundingBox(n),p=this._getAdjustedBB(h,s,!0,1);this._applyTransformMatrix(r,p,i,n)}}},{key:"_applyTransformMatrix",value:function(n,r,i,o){var a,s;cM(n);var u=i.getRotation?i.getRotation(o):0;if(u!==0){var l=i.getRotationPoint(o),c=l.x,d=l.y;up(n,n,[c,d]),dM(n,n,u);var f=i.getRotationOffset(o);a=f.x+(r.xOffset||0),s=f.y+(r.yOffset||0)}else a=r.x1,s=r.y1;up(n,n,[a,s]),Wb(n,n,[r.w,r.h])}},{key:"_getAdjustedBB",value:function(n,r,i,o){var a=n.x1,s=n.y1,u=n.w,l=n.h,c=n.yOffset;r&&(a-=r,s-=r,u+=2*r,l+=2*r);var d=0,f=u*o;return i&&o<1?u=f:!i&&o<1&&(d=u-f,a+=d,u=f),{x1:a,y1:s,w:u,h:l,xOffset:d,yOffset:c}}},{key:"drawPickingRectangle",value:function(n,r,i){var o=this.atlasManager.getRenderTypeOpts(i),a=this.instanceCount;this.vertTypeBuffer.getView(a)[0]=ru;var s=this.indexBuffer.getView(a);nu(r,s);var u=this.colorBuffer.getView(a);Ha([0,0,0],1,u);var l=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(n,l,o),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(n,r,i){var o=this.simpleShapeOptions.get(i);if(this._isVisible(n,o)){var a=o.shapeProps,s=this._getVertTypeForShape(n,a.shape);if(s===void 0||o.isSimple&&!o.isSimple(n)){this.drawTexture(n,r,i);return}var u=this.instanceCount;if(this.vertTypeBuffer.getView(u)[0]=s,s===Xh||s===dc){var l=o.getBoundingBox(n),c=this._getCornerRadius(n,a.radius,l),d=this.cornerRadiusBuffer.getView(u);d[0]=c,d[1]=c,d[2]=c,d[3]=c,s===dc&&(d[0]=0,d[2]=0)}var f=this.indexBuffer.getView(u);nu(r,f);var h=n.pstyle(a.color).value,p=n.pstyle(a.opacity).value,m=this.colorBuffer.getView(u);Ha(h,p,m);var g=this.lineWidthBuffer.getView(u);if(g[0]=0,g[1]=0,a.border){var v=n.pstyle("border-width").value;if(v>0){var y=n.pstyle("border-color").value,w=n.pstyle("border-opacity").value,b=this.borderColorBuffer.getView(u);Ha(y,w,b);var C=n.pstyle("border-position").value;if(C==="inside")g[0]=0,g[1]=-v;else if(C==="outside")g[0]=v,g[1]=0;else{var E=v/2;g[0]=E,g[1]=-E}}}var D=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(n,D,o),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(n,r){var i=n.pstyle(r).value;switch(i){case"rectangle":return ru;case"ellipse":return fc;case"roundrectangle":case"round-rectangle":return Xh;case"bottom-round-rectangle":return dc;default:return}}},{key:"_getCornerRadius",value:function(n,r,i){var o=i.w,a=i.h;if(n.pstyle(r).value==="auto")return jo(o,a);var s=n.pstyle(r).pfValue,u=o/2,l=a/2;return Math.min(s,l,u)}},{key:"drawEdgeArrow",value:function(n,r,i){if(n.visible()){var o=n._private.rscratch,a,s,u;if(i==="source"?(a=o.arrowStartX,s=o.arrowStartY,u=o.srcArrowAngle):(a=o.arrowEndX,s=o.arrowEndY,u=o.tgtArrowAngle),!(isNaN(a)||a==null||isNaN(s)||s==null||isNaN(u)||u==null)){var l=n.pstyle(i+"-arrow-shape").value;if(l!=="none"){var c=n.pstyle(i+"-arrow-color").value,d=n.pstyle("opacity").value,f=n.pstyle("line-opacity").value,h=d*f,p=n.pstyle("width").pfValue,m=n.pstyle("arrow-scale").value,g=this.r.getArrowWidth(p,m),v=this.instanceCount,y=this.transformBuffer.getMatrixView(v);cM(y),up(y,y,[a,s]),Wb(y,y,[g,g]),dM(y,y,u),this.vertTypeBuffer.getView(v)[0]=xb;var w=this.indexBuffer.getView(v);nu(r,w);var b=this.colorBuffer.getView(v);Ha(c,h,b),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(n,r){if(n.visible()){var i=this._getEdgePoints(n);if(i){var o=n.pstyle("opacity").value,a=n.pstyle("line-opacity").value,s=n.pstyle("width").pfValue,u=n.pstyle("line-color").value,l=o*a;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=fM;var d=this.indexBuffer.getView(c);nu(r,d);var f=this.colorBuffer.getView(c);Ha(u,l,f);var h=this.lineWidthBuffer.getView(c);h[0]=s;var p=this.pointAPointBBuffer.getView(c);p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var g=this.instanceCount;this.vertTypeBuffer.getView(g)[0]=hM;var v=this.indexBuffer.getView(g);nu(r,v);var y=this.colorBuffer.getView(g);Ha(u,l,y);var w=this.lineWidthBuffer.getView(g);w[0]=s;var b=i[m-2],C=i[m-1],E=i[m],D=i[m+1],S=i[m+2],I=i[m+3],T=i[m+4],_=i[m+5];m==0&&(b=2*E-S+.001,C=2*D-I+.001),m==i.length-4&&(T=2*S-E+.001,_=2*I-D+.001);var M=this.pointAPointBBuffer.getView(g);M[0]=b,M[1]=C,M[2]=E,M[3]=D;var A=this.pointCPointDBuffer.getView(g);A[0]=S,A[1]=I,A[2]=T,A[3]=_,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(n){var r=n._private.rscratch;return!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))}},{key:"_getEdgePoints",value:function(n){var r=n._private.rscratch;if(this._isValidEdge(n)){var i=r.allpts;if(i.length==4)return i;var o=this._getNumSegments(n);return this._getCurveSegmentPoints(i,o)}}},{key:"_getNumSegments",value:function(n){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(n,r){if(n.length==4)return n;for(var i=Array((r+1)*2),o=0;o<=r;o++)if(o==0)i[0]=n[0],i[1]=n[1];else if(o==r)i[o*2]=n[n.length-2],i[o*2+1]=n[n.length-1];else{var a=o/r;this._setCurvePoint(n,a,i,o*2)}return i}},{key:"_setCurvePoint",value:function(n,r,i,o){if(n.length<=2)i[o]=n[0],i[o+1]=n[1];else{for(var a=Array(n.length-2),s=0;s<a.length;s+=2){var u=(1-r)*n[s]+r*n[s+2],l=(1-r)*n[s+1]+r*n[s+3];a[s]=u,a[s+1]=l}return this._setCurvePoint(a,r,i,o)}}},{key:"endBatch",value:function(){var n=this.gl,r=this.vao,i=this.vertexCount,o=this.instanceCount;if(o!==0){var a=this.renderTarget.picking?this.pickingProgram:this.program;n.useProgram(a),n.bindVertexArray(r);var s=dr(this.buffers),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;l.bufferSubData(o)}}catch(p){s.e(p)}finally{s.f()}for(var c=this.batchManager.getAtlases(),d=0;d<c.length;d++)c[d].bufferIfNeeded(n);for(var f=0;f<c.length;f++)n.activeTexture(n.TEXTURE0+f),n.bindTexture(n.TEXTURE_2D,c[f].texture),n.uniform1i(a.uTextures[f],f);n.uniform1f(a.uZoom,c3(this.r)),n.uniformMatrix3fv(a.uPanZoomMatrix,!1,this.panZoomMatrix),n.uniform1i(a.uAtlasSize,this.batchManager.getAtlasSize());var h=Ha(this.bgColor,1);n.uniform4fv(a.uBGColor,h),n.drawArraysInstanced(n.TRIANGLES,0,i,o),n.bindVertexArray(null),n.bindTexture(n.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:o,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var n=this.atlasManager.getDebugInfo(),r=n.reduce(function(a,s){return a+s.atlasCount},0),i=this.batchDebugInfo,o=i.reduce(function(a,s){return a+s.count},0);return{atlasInfo:n,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:o}}}])})(),K1={};K1.initWebgl=function(t,e){var n=this,r=n.data.contexts[n.WEBGL];t.bgColor=N3(n),t.webglTexSize=Math.min(t.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=t.webglDebug,n.webglDebugShowAtlases=t.webglDebugShowAtlases,n.pickingFrameBuffer=b3(r),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new R3(n,r,t);var i=function(d){return function(f){return n.getTextAngle(f,d)}},o=function(d){return function(f){var h=f.pstyle(d);return h&&h.value}},a=function(d){return function(f){return f.pstyle("".concat(d,"-opacity")).value>0}},s=function(d){var f=d.pstyle("text-events").strValue==="yes";return f?Ep.USE_BB:Ep.IGNORE},u=function(d){var f=d.position(),h=f.x,p=f.y,m=d.outerWidth(),g=d.outerHeight();return{w:m,h:g,x1:h-m/2,y1:p-g/2}};n.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:f3,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:a("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:a("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:_b(e.getLabelKey,null),getBoundingBox:Mb(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:o("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:_b(e.getSourceLabelKey,"source"),getBoundingBox:Mb(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:o("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:_b(e.getTargetLabelKey,"target"),getBoundingBox:Mb(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:o("target-label")});var l=kc(function(){console.log("garbage collect flag set"),n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(c,d){var f=!1;d&&d.length>0&&(f|=n.drawing.invalidate(d)),f&&l()}),O3(n)};function N3(t){var e=t.cy.container(),n=e&&e.style&&e.style.backgroundColor||"white";return SM(n)}function X1(t,e){var n=t._private.rscratch;return lr(n,"labelWrapCachedLines",e)||[]}var _b=function(e,n){return function(r){var i=e(r),o=X1(r,n);return o.length>1?o.map(function(a,s){return"".concat(i,"_").concat(s)}):i}},Mb=function(e,n){return function(r,i){var o=e(r);if(typeof i=="string"){var a=i.indexOf("_");if(a>0){var s=Number(i.substring(a+1)),u=X1(r,n),l=o.h/u.length,c=l*s,d=o.y1+c;return{x1:o.x1,w:o.w,y1:d,h:l,yOffset:c}}}return o}};function O3(t){{var e=t.render;t.render=function(o){o=o||{};var a=t.cy;t.webgl&&(a.zoom()>$1?(k3(t),e.call(t,o)):(P3(t),J1(t,o,yc.SCREEN)))}}{var n=t.matchCanvasSize;t.matchCanvasSize=function(o){n.call(t,o),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(o,a,s,u){return H3(t,o,a)};{var r=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){r.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(o,a){i.call(t,o,a),o==="viewport"||o==="bounds"?t.pickingFrameBuffer.needsDraw=!0:o==="background"&&t.drawing.invalidate(a,{type:"node-body"})}}}function k3(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function P3(t){var e=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.canvasWidth,t.canvasHeight),r.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function F3(t){var e=t.canvasWidth,n=t.canvasHeight,r=Ew(t),i=r.pan,o=r.zoom,a=Ib();up(a,a,[i.x,i.y]),Wb(a,a,[o,o]);var s=Ib();E3(s,e,n);var u=Ib();return w3(u,s,a),u}function Q1(t,e){var n=t.canvasWidth,r=t.canvasHeight,i=Ew(t),o=i.pan,a=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n,r),e.translate(o.x,o.y),e.scale(a,a)}function L3(t,e){t.drawSelectionRectangle(e,function(n){return Q1(t,n)})}function B3(t){var e=t.data.contexts[t.NODE];e.save(),Q1(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function V3(t){var e=function(i,o,a){for(var s=i.atlasManager.getAtlasCollection(o),u=t.data.contexts[t.NODE],l=s.atlases,c=0;c<l.length;c++){var d=l[c],f=d.canvas;if(f){var h=f.width,p=f.height,m=h*c,g=f.height*a,v=.4;u.save(),u.scale(v,v),u.drawImage(f,m,g),u.strokeStyle="black",u.rect(m,g,h,p),u.stroke(),u.restore()}}},n=0;e(t.drawing,"node",n++),e(t.drawing,"label",n++)}function j3(t,e,n,r,i){var o,a,s,u,l=Ew(t),c=l.pan,d=l.zoom;{var f=d3(t,c,d,e,n),h=Qt(f,2),p=h[0],m=h[1],g=6;o=p-g/2,a=m-g/2,s=g,u=g}if(s===0||u===0)return[];var v=t.data.contexts[t.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),J1(t,null,yc.PICKING),t.pickingFrameBuffer.needsDraw=!1);var y=s*u,w=new Uint8Array(y*4);v.readPixels(o,a,s,u,v.RGBA,v.UNSIGNED_BYTE,w),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var b=new Set,C=0;C<y;C++){var E=w.slice(C*4,C*4+4),D=p3(E)-1;D>=0&&b.add(D)}return b}function H3(t,e,n){var r=j3(t,e,n),i=t.getCachedZSortedEles(),o,a,s=dr(r),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,c=i[l];if(!o&&c.isNode()&&(o=c),!a&&c.isEdge()&&(a=c),o&&a)break}}catch(d){s.e(d)}finally{s.f()}return[o,a].filter(Boolean)}function Ab(t,e,n){var r=t.drawing;e+=1,n.isNode()?(r.drawNode(n,e,"node-underlay"),r.drawNode(n,e,"node-body"),r.drawTexture(n,e,"label"),r.drawNode(n,e,"node-overlay")):(r.drawEdgeLine(n,e),r.drawEdgeArrow(n,e,"source"),r.drawEdgeArrow(n,e,"target"),r.drawTexture(n,e,"label"),r.drawTexture(n,e,"edge-source-label"),r.drawTexture(n,e,"edge-target-label"))}function J1(t,e,n){var r;t.webglDebug&&(r=performance.now());var i=t.drawing,o=0;if(n.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&L3(t,e),t.data.canvasNeedsRedraw[t.NODE]||n.picking){var a=t.data.contexts[t.WEBGL];n.screen?(a.clearColor(0,0,0,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)):a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.canvas.width,a.canvas.height);var s=F3(t),u=t.getCachedZSortedEles();if(o=u.length,i.startFrame(s,n),n.screen){for(var l=0;l<u.nondrag.length;l++)Ab(t,l,u.nondrag[l]);for(var c=0;c<u.drag.length;c++)Ab(t,c,u.drag[c])}else if(n.picking)for(var d=0;d<u.length;d++)Ab(t,d,u[d]);i.endFrame(),n.screen&&t.webglDebugShowAtlases&&(B3(t),V3(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var f=performance.now(),h=!1,p=Math.ceil(f-r),m=i.getDebugInfo(),g=["".concat(o," elements"),"".concat(m.totalInstances," instances"),"".concat(m.batchCount," batches"),"".concat(m.totalAtlases," atlases"),"".concat(m.wrappedCount," wrapped textures"),"".concat(m.simpleCount," simple shapes")].join(", ");if(h)console.log("WebGL (".concat(n.name,") - time ").concat(p,"ms, ").concat(g));else{console.log("WebGL (".concat(n.name,") - frame time ").concat(p,"ms")),console.log("Totals:"),console.log("  ".concat(g)),console.log("Texture Atlases Used:");var v=m.atlasInfo,y=dr(v),w;try{for(y.s();!(w=y.n()).done;){var b=w.value;console.log("  ".concat(b.type,": ").concat(b.keyCount," keys, ").concat(b.atlasCount," atlases"))}}catch(C){y.e(C)}finally{y.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var Yo={};Yo.drawPolygonPath=function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var u=1;u<o.length/2;u++)t.lineTo(e+a*o[u*2],n+s*o[u*2+1]);t.closePath()};Yo.drawRoundPolygonPath=function(t,e,n,r,i,o,a){a.forEach(function(s){return k1(t,s)}),t.closePath()};Yo.drawRoundRectanglePath=function(t,e,n,r,i,o){var a=r/2,s=i/2,u=o==="auto"?jo(r,i):Math.min(o,s,a);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+a,n-s,e+a,n,u),t.arcTo(e+a,n+s,e,n+s,u),t.arcTo(e-a,n+s,e-a,n,u),t.arcTo(e-a,n-s,e,n-s,u),t.lineTo(e,n-s),t.closePath()};Yo.drawBottomRoundRectanglePath=function(t,e,n,r,i,o){var a=r/2,s=i/2,u=o==="auto"?jo(r,i):o;t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+a,n-s),t.lineTo(e+a,n),t.arcTo(e+a,n+s,e,n+s,u),t.arcTo(e-a,n+s,e-a,n,u),t.lineTo(e-a,n-s),t.lineTo(e,n-s),t.closePath()};Yo.drawCutRectanglePath=function(t,e,n,r,i,o,a){var s=r/2,u=i/2,l=a==="auto"?sw():a;t.beginPath&&t.beginPath(),t.moveTo(e-s+l,n-u),t.lineTo(e+s-l,n-u),t.lineTo(e+s,n-u+l),t.lineTo(e+s,n+u-l),t.lineTo(e+s-l,n+u),t.lineTo(e-s+l,n+u),t.lineTo(e-s,n+u-l),t.lineTo(e-s,n-u+l),t.closePath()};Yo.drawBarrelPath=function(t,e,n,r,i){var o=r/2,a=i/2,s=e-o,u=e+o,l=n-a,c=n+a,d=Ob(r,i),f=d.widthOffset,h=d.heightOffset,p=d.ctrlPtOffsetPct*f;t.beginPath&&t.beginPath(),t.moveTo(s,l+h),t.lineTo(s,c-h),t.quadraticCurveTo(s+p,c,s+f,c),t.lineTo(u-f,c),t.quadraticCurveTo(u-p,c,u,c-h),t.lineTo(u,l+h),t.quadraticCurveTo(u-p,l,u-f,l),t.lineTo(s+f,l),t.quadraticCurveTo(s+p,l,s,l+h),t.closePath()};var pM=Math.sin(0),gM=Math.cos(0),Yb={},Zb={},eA=Math.PI/40;for(Ua=0*Math.PI;Ua<2*Math.PI;Ua+=eA)Yb[Ua]=Math.sin(Ua),Zb[Ua]=Math.cos(Ua);var Ua;Yo.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var o,a,s=r/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=eA)o=e-s*Yb[l]*pM+s*Zb[l]*gM,a=n+u*Zb[l]*pM+u*Yb[l]*gM,l===0?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var jc={};jc.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]};jc.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(r.w):i[2],a=t.full?Math.ceil(r.h):i[3],s=ce(t.maxWidth)||ce(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)o*=t.scale,a*=t.scale,l=t.scale;else if(s){var c=1/0,d=1/0;ce(t.maxWidth)&&(c=l*t.maxWidth/o),ce(t.maxHeight)&&(d=l*t.maxHeight/a),l=Math.min(c,d),o*=l,a*=l}s||(o*=u,a*=u,l*=u);var f=document.createElement("canvas");f.width=o,f.height=a,f.style.width=o+"px",f.style.height=a+"px";var h=f.getContext("2d");if(o>0&&a>0){h.clearRect(0,0,o,a),h.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)h.translate(-r.x1*l,-r.y1*l),h.scale(l,l),this.drawElements(h,p),h.scale(1/l,1/l),h.translate(r.x1*l,r.y1*l);else{var m=e.pan(),g={x:m.x*l,y:m.y*l};l*=e.zoom(),h.translate(g.x,g.y),h.scale(l,l),this.drawElements(h,p),h.scale(1/l,1/l),h.translate(-g.x,-g.y)}t.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=t.bg,h.rect(0,0,o,a),h.fill())}return f};function U3(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})}function vM(t){var e=t.indexOf(",");return t.substr(e+1)}function tA(t,e,n){var r=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new vu(function(i,o){try{e.toBlob(function(a){a!=null?i(a):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,t.quality)}catch(a){o(a)}});case"blob":return U3(vM(r()),n);case"base64":return vM(r());case"base64uri":default:return r()}}jc.png=function(t){return tA(t,this.bufferCanvasImage(t),"image/png")};jc.jpg=function(t){return tA(t,this.bufferCanvasImage(t),"image/jpeg")};var nA={};nA.nodeShapeImpl=function(t,e,n,r,i,o,a,s){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,o);case"polygon":return this.drawPolygonPath(e,n,r,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,n,r,i,o,a,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,r,i,o,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,r,i,o,a,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,o,s);case"barrel":return this.drawBarrelPath(e,n,r,i,o)}};var $3=rA,Xe=rA.prototype;Xe.CANVAS_LAYERS=3;Xe.SELECT_BOX=0;Xe.DRAG=1;Xe.NODE=2;Xe.WEBGL=3;Xe.CANVAS_TYPES=["2d","2d","2d","webgl2"];Xe.BUFFER_COUNT=3;Xe.TEXTURE_BUFFER=0;Xe.MOTIONBLUR_BUFFER_NODE=1;Xe.MOTIONBLUR_BUFFER_DRAG=2;function rA(t){var e=this,n=e.cy.window(),r=n.document;t.webgl&&(Xe.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Xe.CANVAS_LAYERS),contexts:new Array(Xe.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Xe.CANVAS_LAYERS),bufferCanvases:new Array(Xe.BUFFER_COUNT),bufferContexts:new Array(Xe.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,a.position="relative",a.zIndex="0",a.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[i]=o;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};LV()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Xe.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=r.createElement("canvas"),d=Xe.CANVAS_TYPES[l];e.data.contexts[l]=c.getContext(d),e.data.contexts[l]||_t("Could not create canvas of type "+d),Object.keys(u).forEach(function(ee){c.style[ee]=u[ee]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Xe.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Xe.NODE].setAttribute("data-id","layer"+Xe.NODE+"-node"),e.data.canvases[Xe.SELECT_BOX].setAttribute("data-id","layer"+Xe.SELECT_BOX+"-selectbox"),e.data.canvases[Xe.DRAG].setAttribute("data-id","layer"+Xe.DRAG+"-drag"),e.data.canvases[Xe.WEBGL]&&e.data.canvases[Xe.WEBGL].setAttribute("data-id","layer"+Xe.WEBGL+"-webgl");for(var l=0;l<Xe.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=r.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var f=Zn(),h=function(j){return{x:(j.x1+j.x2)/2,y:(j.y1+j.y2)/2}},p=function(j){return{x:-j.w/2,y:-j.h/2}},m=function(j){var $=j[0]._private,q=$.oldBackgroundTimestamp===$.backgroundTimestamp;return!q},g=function(j){return j[0]._private.nodeKey},v=function(j){return j[0]._private.labelStyleKey},y=function(j){return j[0]._private.sourceLabelStyleKey},w=function(j){return j[0]._private.targetLabelStyleKey},b=function(j,$,q,K,se){return e.drawElement(j,$,q,!1,!1,se)},C=function(j,$,q,K,se){return e.drawElementText(j,$,q,K,"main",se)},E=function(j,$,q,K,se){return e.drawElementText(j,$,q,K,"source",se)},D=function(j,$,q,K,se){return e.drawElementText(j,$,q,K,"target",se)},S=function(j){return j.boundingBox(),j[0]._private.bodyBounds},I=function(j){return j.boundingBox(),j[0]._private.labelBounds.main||f},T=function(j){return j.boundingBox(),j[0]._private.labelBounds.source||f},_=function(j){return j.boundingBox(),j[0]._private.labelBounds.target||f},M=function(j,$){return $},A=function(j){return h(S(j))},N=function(j,$,q){var K=j?j+"-":"";return{x:$.x+q.pstyle(K+"text-margin-x").pfValue,y:$.y+q.pstyle(K+"text-margin-y").pfValue}},k=function(j,$,q){var K=j[0]._private.rscratch;return{x:K[$],y:K[q]}},P=function(j){return N("",k(j,"labelX","labelY"),j)},O=function(j){return N("source",k(j,"sourceLabelX","sourceLabelY"),j)},F=function(j){return N("target",k(j,"targetLabelX","targetLabelY"),j)},U=function(j){return p(S(j))},z=function(j){return p(T(j))},B=function(j){return p(_(j))},V=function(j){var $=I(j),q=p(I(j));if(j.isNode()){switch(j.pstyle("text-halign").value){case"left":q.x=-$.w-($.leftPad||0);break;case"right":q.x=-($.rightPad||0);break}switch(j.pstyle("text-valign").value){case"top":q.y=-$.h-($.topPad||0);break;case"bottom":q.y=-($.botPad||0);break}}return q},Y=e.data.eleTxrCache=new gc(e,{getKey:g,doesEleInvalidateKey:m,drawElement:b,getBoundingBox:S,getRotationPoint:A,getRotationOffset:U,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Z=e.data.lblTxrCache=new gc(e,{getKey:v,drawElement:C,getBoundingBox:I,getRotationPoint:P,getRotationOffset:V,isVisible:M}),W=e.data.slbTxrCache=new gc(e,{getKey:y,drawElement:E,getBoundingBox:T,getRotationPoint:O,getRotationOffset:z,isVisible:M}),J=e.data.tlbTxrCache=new gc(e,{getKey:w,drawElement:D,getBoundingBox:_,getRotationPoint:F,getRotationOffset:B,isVisible:M}),te=e.data.lyrTxrCache=new z1(e);e.onUpdateEleCalcs(function(j,$){Y.invalidateElements($),Z.invalidateElements($),W.invalidateElements($),J.invalidateElements($),te.invalidateElements($);for(var q=0;q<$.length;q++){var K=$[q]._private;K.oldBackgroundTimestamp=K.backgroundTimestamp}});var ue=function(j){for(var $=0;$<j.length;$++)te.enqueueElementRefinement(j[$].ele)};Y.onDequeue(ue),Z.onDequeue(ue),W.onDequeue(ue),J.onDequeue(ue),t.webgl&&e.initWebgl(t,{getStyleKey:g,getLabelKey:v,getSourceLabelKey:y,getTargetLabelKey:w,drawElement:b,drawLabel:C,drawSourceLabel:E,drawTargetLabel:D,getElementBox:S,getLabelBox:I,getSourceLabelBox:T,getTargetLabelBox:_,getElementRotationPoint:A,getElementRotationOffset:U,getLabelRotationPoint:P,getSourceLabelRotationPoint:O,getTargetLabelRotationPoint:F,getLabelRotationOffset:V,getSourceLabelRotationOffset:z,getTargetLabelRotationOffset:B})}Xe.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[Xe.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[Xe.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[Xe.SELECT_BOX]=e;break;case"gc":n.data.gc=!0;break}};var z3=typeof Path2D<"u";Xe.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Xe.usePaths=function(){return z3&&this.pathsEnabled};Xe.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Xe.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Xe.makeOffscreenCanvas=function(t,e){var n;if((typeof OffscreenCanvas>"u"?"undefined":un(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(t,e);else{var r=this.cy.window(),i=r.document;n=i.createElement("canvas"),n.width=t,n.height=e}return n};[q1,Ni,to,ww,es,Wo,Kn,K1,Yo,jc,nA].forEach(function(t){Re(Xe,t)});var q3=[{name:"null",impl:R1},{name:"base",impl:H1},{name:"canvas",impl:$3}],G3=[{type:"layout",extensions:mz},{type:"renderer",extensions:q3}],iA={},oA={};function aA(t,e,n){var r=n,i=function(S){ft("Can not register `"+e+"` for `"+t+"` since `"+S+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(xc.prototype[e])return i(e);xc.prototype[e]=n}else if(t==="collection"){if(_n.prototype[e])return i(e);_n.prototype[e]=n}else if(t==="layout"){for(var o=function(S){this.options=S,n.call(this,S),rt(this._private)||(this._private={}),this._private.cy=S.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var D=this.options;if(D&&D.animate){var S=this.animations;if(S)for(var I=0;I<S.length;I++)S[I].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var d=function(S){return S._private.cy},f={addEventFields:function(S,I){I.layout=S,I.cy=d(S),I.target=S},bubble:function(){return!0},parent:function(S){return d(S)}};Re(a,{createEmitter:function(){return this._private.emitter=new Op(f,this),this},emitter:function(){return this._private.emitter},on:function(S,I){return this.emitter().on(S,I),this},one:function(S,I){return this.emitter().one(S,I),this},once:function(S,I){return this.emitter().one(S,I),this},removeListener:function(S,I){return this.emitter().removeListener(S,I),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(S,I){return this.emitter().emit(S,I),this}}),dt.eventAliasesOn(a),r=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var h=sA("renderer","base"),p=h.prototype,m=n,g=n.prototype,v=function(){h.apply(this,arguments),m.apply(this,arguments)},y=v.prototype;for(var w in p){var b=p[w],C=g[w]!=null;if(C)return i(w);y[w]=b}for(var E in g)y[E]=g[E];p.clientFunctions.forEach(function(D){y[D]=y[D]||function(){_t("Renderer does not implement `renderer."+D+"()` on its prototype")}}),r=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return _t(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return IM({map:iA,keys:[t,e],value:r})}function sA(t,e){return TM({map:iA,keys:[t,e]})}function W3(t,e,n,r,i){return IM({map:oA,keys:[t,e,n,r],value:i})}function Y3(t,e,n,r){return TM({map:oA,keys:[t,e,n,r]})}var Kb=function(){if(arguments.length===2)return sA.apply(null,arguments);if(arguments.length===3)return aA.apply(null,arguments);if(arguments.length===4)return Y3.apply(null,arguments);if(arguments.length===5)return W3.apply(null,arguments);_t("Invalid extension access syntax")};xc.prototype.extension=Kb;G3.forEach(function(t){t.extensions.forEach(function(e){aA(t.type,e.name,e.impl)})});var Dp=function(){if(!(this instanceof Dp))return new Dp;this.length=0},Qa=Dp.prototype;Qa.instanceString=function(){return"stylesheet"};Qa.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Qa.css=function(t,e){var n=this.length-1;if(xe(t))this[n].properties.push({name:t,value:e});else if(rt(t))for(var r=t,i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a];if(s!=null){var u=mn.properties[a]||mn.properties[Cp(a)];if(u!=null){var l=u.name,c=s;this[n].properties.push({name:l,value:c})}}}return this};Qa.style=Qa.css;Qa.generateStyle=function(t){var e=new mn(t);return this.appendToStyle(e)};Qa.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var Z3="3.33.1",Ji=function(e){if(e===void 0&&(e={}),rt(e))return new xc(e);if(xe(e))return Kb.apply(Kb,arguments)};Ji.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Ji),t.apply(null,e),this};Ji.warnings=function(t){return OM(t)};Ji.version=Z3;Ji.stylesheet=Ji.Stylesheet=Dp;var GA=pR(uA());var Vt="top",cn="bottom",Jt="right",qt="left",Hp="auto",Zo=[Vt,cn,Jt,qt],no="start",ts="end",lA="clippingParents",Up="viewport",Eu="popper",cA="reference",Cw=Zo.reduce(function(t,e){return t.concat([e+"-"+no,e+"-"+ts])},[]),$p=[].concat(Zo,[Hp]).reduce(function(t,e){return t.concat([e,e+"-"+no,e+"-"+ts])},[]),K3="beforeRead",X3="read",Q3="afterRead",J3="beforeMain",e5="main",t5="afterMain",n5="beforeWrite",r5="write",i5="afterWrite",dA=[K3,X3,Q3,J3,e5,t5,n5,r5,i5];function bn(t){return t?(t.nodeName||"").toLowerCase():null}function Mt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Fr(t){var e=Mt(t).Element;return t instanceof e||t instanceof Element}function dn(t){var e=Mt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Du(t){if(typeof ShadowRoot>"u")return!1;var e=Mt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function o5(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!dn(o)||!bn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function a5(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(u,l){return u[l]="",u},{});!dn(i)||!bn(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}var Uc={name:"applyStyles",enabled:!0,phase:"write",fn:o5,effect:a5,requires:["computeStyles"]};function wn(t){return t.split("-")[0]}var ri=Math.max,ns=Math.min,ro=Math.round;function Cu(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $c(){return!/^((?!chrome|android).)*safari/i.test(Cu())}function Lr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&dn(t)&&(i=t.offsetWidth>0&&ro(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ro(r.height)/t.offsetHeight||1);var a=Fr(t)?Mt(t):window,s=a.visualViewport,u=!$c()&&n,l=(r.left+(u&&s?s.offsetLeft:0))/i,c=(r.top+(u&&s?s.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l,x:l,y:c}}function rs(t){var e=Lr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function zc(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Du(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xn(t){return Mt(t).getComputedStyle(t)}function Sw(t){return["table","td","th"].indexOf(bn(t))>=0}function Rn(t){return((Fr(t)?t.ownerDocument:t.document)||window.document).documentElement}function io(t){return bn(t)==="html"?t:t.assignedSlot||t.parentNode||(Du(t)?t.host:null)||Rn(t)}function fA(t){return!dn(t)||Xn(t).position==="fixed"?null:t.offsetParent}function s5(t){var e=/firefox/i.test(Cu()),n=/Trident/i.test(Cu());if(n&&dn(t)){var r=Xn(t);if(r.position==="fixed")return null}var i=io(t);for(Du(i)&&(i=i.host);dn(i)&&["html","body"].indexOf(bn(i))<0;){var o=Xn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ii(t){for(var e=Mt(t),n=fA(t);n&&Sw(n)&&Xn(n).position==="static";)n=fA(n);return n&&(bn(n)==="html"||bn(n)==="body"&&Xn(n).position==="static")?e:n||s5(t)||e}function is(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function os(t,e,n){return ri(t,ns(e,n))}function hA(t,e,n){var r=os(t,e,n);return r>n?n:r}function qc(){return{top:0,right:0,bottom:0,left:0}}function Gc(t){return Object.assign({},qc(),t)}function Wc(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var u5=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Gc(typeof e!="number"?e:Wc(e,Zo))};function l5(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=wn(n.placement),u=is(s),l=[qt,Jt].indexOf(s)>=0,c=l?"height":"width";if(!(!o||!a)){var d=u5(i.padding,n),f=rs(o),h=u==="y"?Vt:qt,p=u==="y"?cn:Jt,m=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],g=a[u]-n.rects.reference[u],v=ii(o),y=v?u==="y"?v.clientHeight||0:v.clientWidth||0:0,w=m/2-g/2,b=d[h],C=y-f[c]-d[p],E=y/2-f[c]/2+w,D=os(b,E,C),S=u;n.modifiersData[r]=(e={},e[S]=D,e.centerOffset=D-E,e)}}function c5(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||zc(e.elements.popper,i)&&(e.elements.arrow=i))}var pA={name:"arrow",enabled:!0,phase:"main",fn:l5,effect:c5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Br(t){return t.split("-")[1]}var d5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f5(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ro(n*i)/i||0,y:ro(r*i)/i||0}}function gA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=a.x,h=f===void 0?0:f,p=a.y,m=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),w=qt,b=Vt,C=window;if(l){var E=ii(n),D="clientHeight",S="clientWidth";if(E===Mt(n)&&(E=Rn(n),Xn(E).position!=="static"&&s==="absolute"&&(D="scrollHeight",S="scrollWidth")),E=E,i===Vt||(i===qt||i===Jt)&&o===ts){b=cn;var I=d&&E===C&&C.visualViewport?C.visualViewport.height:E[D];m-=I-r.height,m*=u?1:-1}if(i===qt||(i===Vt||i===cn)&&o===ts){w=Jt;var T=d&&E===C&&C.visualViewport?C.visualViewport.width:E[S];h-=T-r.width,h*=u?1:-1}}var _=Object.assign({position:s},l&&d5),M=c===!0?f5({x:h,y:m},Mt(n)):{x:h,y:m};if(h=M.x,m=M.y,u){var A;return Object.assign({},_,(A={},A[b]=y?"0":"",A[w]=v?"0":"",A.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",A))}return Object.assign({},_,(e={},e[b]=y?m+"px":"",e[w]=v?h+"px":"",e.transform="",e))}function h5(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,l={placement:wn(e.placement),variation:Br(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gA(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gA(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var vA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:h5,data:{}};var zp={passive:!0};function p5(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=Mt(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(c){c.addEventListener("scroll",n.update,zp)}),s&&u.addEventListener("resize",n.update,zp),function(){o&&l.forEach(function(c){c.removeEventListener("scroll",n.update,zp)}),s&&u.removeEventListener("resize",n.update,zp)}}var mA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:p5,data:{}};var g5={left:"right",right:"left",bottom:"top",top:"bottom"};function Su(t){return t.replace(/left|right|bottom|top/g,function(e){return g5[e]})}var v5={start:"end",end:"start"};function qp(t){return t.replace(/start|end/g,function(e){return v5[e]})}function as(t){var e=Mt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ss(t){return Lr(Rn(t)).left+as(t).scrollLeft}function Iw(t,e){var n=Mt(t),r=Rn(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=$c();(l||!l&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+ss(t),y:u}}function Tw(t){var e,n=Rn(t),r=as(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ri(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ri(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ss(t),u=-r.scrollTop;return Xn(i||n).direction==="rtl"&&(s+=ri(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function us(t){var e=Xn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Gp(t){return["html","body","#document"].indexOf(bn(t))>=0?t.ownerDocument.body:dn(t)&&us(t)?t:Gp(io(t))}function Ko(t,e){var n;e===void 0&&(e=[]);var r=Gp(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Mt(r),a=i?[o].concat(o.visualViewport||[],us(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Ko(io(a)))}function Iu(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function m5(t,e){var n=Lr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function yA(t,e,n){return e===Up?Iu(Iw(t,n)):Fr(e)?m5(e,n):Iu(Tw(Rn(t)))}function y5(t){var e=Ko(io(t)),n=["absolute","fixed"].indexOf(Xn(t).position)>=0,r=n&&dn(t)?ii(t):t;return Fr(r)?e.filter(function(i){return Fr(i)&&zc(i,r)&&bn(i)!=="body"}):[]}function xw(t,e,n,r){var i=e==="clippingParents"?y5(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,l){var c=yA(t,l,r);return u.top=ri(c.top,u.top),u.right=ns(c.right,u.right),u.bottom=ns(c.bottom,u.bottom),u.left=ri(c.left,u.left),u},yA(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Yc(t){var e=t.reference,n=t.element,r=t.placement,i=r?wn(r):null,o=r?Br(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(i){case Vt:u={x:a,y:e.y-n.height};break;case cn:u={x:a,y:e.y+e.height};break;case Jt:u={x:e.x+e.width,y:s};break;case qt:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?is(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(o){case no:u[l]=u[l]-(e[c]/2-n[c]/2);break;case ts:u[l]=u[l]+(e[c]/2-n[c]/2);break;default:}}return u}function oi(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?lA:s,l=n.rootBoundary,c=l===void 0?Up:l,d=n.elementContext,f=d===void 0?Eu:d,h=n.altBoundary,p=h===void 0?!1:h,m=n.padding,g=m===void 0?0:m,v=Gc(typeof g!="number"?g:Wc(g,Zo)),y=f===Eu?cA:Eu,w=t.rects.popper,b=t.elements[p?y:f],C=xw(Fr(b)?b:b.contextElement||Rn(t.elements.popper),u,c,a),E=Lr(t.elements.reference),D=Yc({reference:E,element:w,strategy:"absolute",placement:i}),S=Iu(Object.assign({},w,D)),I=f===Eu?S:E,T={top:C.top-I.top+v.top,bottom:I.bottom-C.bottom+v.bottom,left:C.left-I.left+v.left,right:I.right-C.right+v.right},_=t.modifiersData.offset;if(f===Eu&&_){var M=_[i];Object.keys(T).forEach(function(A){var N=[Jt,cn].indexOf(A)>=0?1:-1,k=[Vt,cn].indexOf(A)>=0?"y":"x";T[A]+=M[k]*N})}return T}function _w(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?$p:u,c=Br(r),d=c?s?Cw:Cw.filter(function(p){return Br(p)===c}):Zo,f=d.filter(function(p){return l.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=oi(t,{placement:m,boundary:i,rootBoundary:o,padding:a})[wn(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function b5(t){if(wn(t)===Hp)return[];var e=Su(t);return[qp(t),e,qp(e)]}function w5(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,g=e.options.placement,v=wn(g),y=v===g,w=u||(y||!p?[Su(g)]:b5(g)),b=[g].concat(w).reduce(function(Z,W){return Z.concat(wn(W)===Hp?_w(e,{placement:W,boundary:c,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}):W)},[]),C=e.rects.reference,E=e.rects.popper,D=new Map,S=!0,I=b[0],T=0;T<b.length;T++){var _=b[T],M=wn(_),A=Br(_)===no,N=[Vt,cn].indexOf(M)>=0,k=N?"width":"height",P=oi(e,{placement:_,boundary:c,rootBoundary:d,altBoundary:f,padding:l}),O=N?A?Jt:qt:A?cn:Vt;C[k]>E[k]&&(O=Su(O));var F=Su(O),U=[];if(o&&U.push(P[M]<=0),s&&U.push(P[O]<=0,P[F]<=0),U.every(function(Z){return Z})){I=_,S=!1;break}D.set(_,U)}if(S)for(var z=p?3:1,B=function(W){var J=b.find(function(te){var ue=D.get(te);if(ue)return ue.slice(0,W).every(function(ee){return ee})});if(J)return I=J,"break"},V=z;V>0;V--){var Y=B(V);if(Y==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}var bA={name:"flip",enabled:!0,phase:"main",fn:w5,requiresIfExists:["offset"],data:{_skip:!1}};function wA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function EA(t){return[Vt,Jt,cn,qt].some(function(e){return t[e]>=0})}function E5(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=oi(e,{elementContext:"reference"}),s=oi(e,{altBoundary:!0}),u=wA(a,r),l=wA(s,i,o),c=EA(u),d=EA(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var DA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:E5};function D5(t,e,n){var r=wn(t),i=[qt,Vt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[qt,Jt].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function C5(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=$p.reduce(function(c,d){return c[d]=D5(d,e.rects,o),c},{}),s=a[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}var CA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:C5};function S5(t){var e=t.state,n=t.name;e.modifiersData[n]=Yc({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var SA={name:"popperOffsets",enabled:!0,phase:"read",fn:S5,data:{}};function Mw(t){return t==="x"?"y":"x"}function I5(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,m=p===void 0?0:p,g=oi(e,{boundary:u,rootBoundary:l,padding:d,altBoundary:c}),v=wn(e.placement),y=Br(e.placement),w=!y,b=is(v),C=Mw(b),E=e.modifiersData.popperOffsets,D=e.rects.reference,S=e.rects.popper,I=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,T=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),_=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(E){if(o){var A,N=b==="y"?Vt:qt,k=b==="y"?cn:Jt,P=b==="y"?"height":"width",O=E[b],F=O+g[N],U=O-g[k],z=h?-S[P]/2:0,B=y===no?D[P]:S[P],V=y===no?-S[P]:-D[P],Y=e.elements.arrow,Z=h&&Y?rs(Y):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qc(),J=W[N],te=W[k],ue=os(0,D[P],Z[P]),ee=w?D[P]/2-z-ue-J-T.mainAxis:B-ue-J-T.mainAxis,j=w?-D[P]/2+z+ue+te+T.mainAxis:V+ue+te+T.mainAxis,$=e.elements.arrow&&ii(e.elements.arrow),q=$?b==="y"?$.clientTop||0:$.clientLeft||0:0,K=(A=_?.[b])!=null?A:0,se=O+ee-K-q,we=O+j-K,We=os(h?ns(F,se):F,O,h?ri(U,we):U);E[b]=We,M[b]=We-O}if(s){var Ne,Ie=b==="x"?Vt:qt,Se=b==="x"?cn:Jt,le=E[C],ve=C==="y"?"height":"width",Ee=le+g[Ie],Me=le-g[Se],De=[Vt,qt].indexOf(v)!==-1,Ve=(Ne=_?.[C])!=null?Ne:0,Ke=De?Ee:le-D[ve]-S[ve]-Ve+T.altAxis,Qe=De?le+D[ve]+S[ve]-Ve-T.altAxis:Me,Je=h&&De?hA(Ke,le,Qe):os(h?Ke:Ee,le,h?Qe:Me);E[C]=Je,M[C]=Je-le}e.modifiersData[r]=M}}var IA={name:"preventOverflow",enabled:!0,phase:"main",fn:I5,requiresIfExists:["offset"]};function Aw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Rw(t){return t===Mt(t)||!dn(t)?as(t):Aw(t)}function T5(t){var e=t.getBoundingClientRect(),n=ro(e.width)/t.offsetWidth||1,r=ro(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Nw(t,e,n){n===void 0&&(n=!1);var r=dn(e),i=dn(e)&&T5(e),o=Rn(e),a=Lr(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((bn(e)!=="body"||us(o))&&(s=Rw(e)),dn(e)?(u=Lr(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=ss(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function x5(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Ow(t){var e=x5(t);return dA.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function kw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Pw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var TA={placement:"bottom",modifiers:[],strategy:"absolute"};function xA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _A(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?TA:i;return function(s,u,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},TA,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(v){var y=typeof v=="function"?v(c.options):v;m(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:Fr(s)?Ko(s):s.contextElement?Ko(s.contextElement):[],popper:Ko(u)};var w=Ow(Pw([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(b){return b.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var v=c.elements,y=v.reference,w=v.popper;if(xA(y,w)){c.rects={reference:Nw(y,ii(w),c.options.strategy==="fixed"),popper:rs(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var C=c.orderedModifiers[b],E=C.fn,D=C.options,S=D===void 0?{}:D,I=C.name;typeof E=="function"&&(c=E({state:c,options:S,name:I,instance:h})||c)}}}},update:kw(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){m(),f=!0}};if(!xA(s,u))return h;h.setOptions(l).then(function(g){!f&&l.onFirstUpdate&&l.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var v=g.name,y=g.options,w=y===void 0?{}:y,b=g.effect;if(typeof b=="function"){var C=b({state:c,name:v,instance:h,options:w}),E=function(){};d.push(C||E)}})}function m(){d.forEach(function(g){return g()}),d=[]}return h}}var _5=[mA,SA,vA,Uc,CA,bA,IA,pA,DA],Fw=_A({defaultModifiers:_5});var M5="tippy-box",BA="tippy-content",A5="tippy-backdrop",VA="tippy-arrow",jA="tippy-svg-arrow",ls={passive:!0,capture:!0},HA=function(){return document.body};function Lw(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function $w(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function UA(t,e){return typeof t=="function"?t.apply(void 0,e):t}function MA(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function R5(t){return t.split(/\s+/).filter(Boolean)}function Tu(t){return[].concat(t)}function AA(t,e){t.indexOf(e)===-1&&t.push(e)}function N5(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function O5(t){return t.split("-")[0]}function Yp(t){return[].slice.call(t)}function RA(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Zc(){return document.createElement("div")}function Zp(t){return["Element","Fragment"].some(function(e){return $w(t,e)})}function k5(t){return $w(t,"NodeList")}function P5(t){return $w(t,"MouseEvent")}function F5(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function L5(t){return Zp(t)?[t]:k5(t)?Yp(t):Array.isArray(t)?t:Yp(document.querySelectorAll(t))}function Bw(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function NA(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function B5(t){var e,n=Tu(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function V5(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,u=s.interactiveBorder,l=O5(a.placement),c=a.modifiersData.offset;if(!c)return!0;var d=l==="bottom"?c.top.y:0,f=l==="top"?c.bottom.y:0,h=l==="right"?c.left.x:0,p=l==="left"?c.right.x:0,m=o.top-r+d>u,g=r-o.bottom-f>u,v=o.left-n+h>u,y=n-o.right-p>u;return m||g||v||y})}function Vw(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function OA(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Oi={isTouch:!1},kA=0;function j5(){Oi.isTouch||(Oi.isTouch=!0,window.performance&&document.addEventListener("mousemove",$A))}function $A(){var t=performance.now();t-kA<20&&(Oi.isTouch=!1,document.removeEventListener("mousemove",$A)),kA=t}function H5(){var t=document.activeElement;if(F5(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function U5(){document.addEventListener("touchstart",j5,ls),window.addEventListener("blur",H5)}var $5=typeof window<"u"&&typeof document<"u",z5=$5?!!window.msCrypto:!1;var q5={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},G5={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ai=Object.assign({appendTo:HA,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},q5,G5),W5=Object.keys(ai),Y5=function(e){var n=Object.keys(e);n.forEach(function(r){ai[r]=e[r]})};function zA(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=t[o]!==void 0?t[o]:(s=ai[o])!=null?s:a}return r},{});return Object.assign({},t,n)}function Z5(t,e){var n=e?Object.keys(zA(Object.assign({},ai,{plugins:e}))):W5,r=n.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function PA(t,e){var n=Object.assign({},e,{content:UA(e.content,[t])},e.ignoreAttributes?{}:Z5(t,e.plugins));return n.aria=Object.assign({},ai.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var K5=function(){return"innerHTML"};function Hw(t,e){t[K5()]=e}function FA(t){var e=Zc();return t===!0?e.className=VA:(e.className=jA,Zp(t)?e.appendChild(t):Hw(e,t)),e}function LA(t,e){Zp(e.content)?(Hw(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Hw(t,e.content):t.textContent=e.content)}function Uw(t){var e=t.firstElementChild,n=Yp(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(BA)}),arrow:n.find(function(r){return r.classList.contains(VA)||r.classList.contains(jA)}),backdrop:n.find(function(r){return r.classList.contains(A5)})}}function qA(t){var e=Zc(),n=Zc();n.className=M5,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Zc();r.className=BA,r.setAttribute("data-state","hidden"),LA(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,a){var s=Uw(e),u=s.box,l=s.content,c=s.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&LA(l,t.props),a.arrow?c?o.arrow!==a.arrow&&(u.removeChild(c),u.appendChild(FA(a.arrow))):u.appendChild(FA(a.arrow)):c&&u.removeChild(c)}return{popper:e,onUpdate:i}}qA.$$tippy=!0;var X5=1,Wp=[],jw=[];function Q5(t,e){var n=PA(t,Object.assign({},ai,zA(RA(e)))),r,i,o,a=!1,s=!1,u=!1,l=!1,c,d,f,h=[],p=MA(se,n.interactiveDebounce),m,g=X5++,v=null,y=N5(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:g,reference:t,popper:Zc(),popperInstance:v,props:n,state:w,plugins:y,clearDelayTimeouts:Ke,setProps:Qe,setContent:Je,show:it,hide:Pe,hideWithInteractivity:me,enable:De,disable:Ve,unmount:X,destroy:x};if(!n.render)return b;var C=n.render(b),E=C.popper,D=C.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+b.id,b.popper=E,t._tippy=b,E._tippy=b;var S=y.map(function(R){return R.fn(b)}),I=t.hasAttribute("aria-expanded");return $(),z(),O(),F("onCreate",[b]),n.showOnCreate&&Ee(),E.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",p)}),b;function T(){var R=b.props.touch;return Array.isArray(R)?R:[R,0]}function _(){return T()[0]==="hold"}function M(){var R;return!!((R=b.props.render)!=null&&R.$$tippy)}function A(){return m||t}function N(){var R=A().parentNode;return R?B5(R):document}function k(){return Uw(E)}function P(R){return b.state.isMounted&&!b.state.isVisible||Oi.isTouch||c&&c.type==="focus"?0:Lw(b.props.delay,R?0:1,ai.delay)}function O(R){R===void 0&&(R=!1),E.style.pointerEvents=b.props.interactive&&!R?"":"none",E.style.zIndex=""+b.props.zIndex}function F(R,L,H){if(H===void 0&&(H=!0),S.forEach(function(re){re[R]&&re[R].apply(re,L)}),H){var G;(G=b.props)[R].apply(G,L)}}function U(){var R=b.props.aria;if(R.content){var L="aria-"+R.content,H=E.id,G=Tu(b.props.triggerTarget||t);G.forEach(function(re){var Q=re.getAttribute(L);if(b.state.isVisible)re.setAttribute(L,Q?Q+" "+H:H);else{var fe=Q&&Q.replace(H,"").trim();fe?re.setAttribute(L,fe):re.removeAttribute(L)}})}}function z(){if(!(I||!b.props.aria.expanded)){var R=Tu(b.props.triggerTarget||t);R.forEach(function(L){b.props.interactive?L.setAttribute("aria-expanded",b.state.isVisible&&L===A()?"true":"false"):L.removeAttribute("aria-expanded")})}}function B(){N().removeEventListener("mousemove",p),Wp=Wp.filter(function(R){return R!==p})}function V(R){if(!(Oi.isTouch&&(u||R.type==="mousedown"))){var L=R.composedPath&&R.composedPath()[0]||R.target;if(!(b.props.interactive&&OA(E,L))){if(Tu(b.props.triggerTarget||t).some(function(H){return OA(H,L)})){if(Oi.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else F("onClickOutside",[b,R]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),s=!0,setTimeout(function(){s=!1}),b.state.isMounted||J())}}}function Y(){u=!0}function Z(){u=!1}function W(){var R=N();R.addEventListener("mousedown",V,!0),R.addEventListener("touchend",V,ls),R.addEventListener("touchstart",Z,ls),R.addEventListener("touchmove",Y,ls)}function J(){var R=N();R.removeEventListener("mousedown",V,!0),R.removeEventListener("touchend",V,ls),R.removeEventListener("touchstart",Z,ls),R.removeEventListener("touchmove",Y,ls)}function te(R,L){ee(R,function(){!b.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&L()})}function ue(R,L){ee(R,L)}function ee(R,L){var H=k().box;function G(re){re.target===H&&(Vw(H,"remove",G),L())}if(R===0)return L();Vw(H,"remove",d),Vw(H,"add",G),d=G}function j(R,L,H){H===void 0&&(H=!1);var G=Tu(b.props.triggerTarget||t);G.forEach(function(re){re.addEventListener(R,L,H),h.push({node:re,eventType:R,handler:L,options:H})})}function $(){_()&&(j("touchstart",K,{passive:!0}),j("touchend",we,{passive:!0})),R5(b.props.trigger).forEach(function(R){if(R!=="manual")switch(j(R,K),R){case"mouseenter":j("mouseleave",we);break;case"focus":j(z5?"focusout":"blur",We);break;case"focusin":j("focusout",We);break}})}function q(){h.forEach(function(R){var L=R.node,H=R.eventType,G=R.handler,re=R.options;L.removeEventListener(H,G,re)}),h=[]}function K(R){var L,H=!1;if(!(!b.state.isEnabled||Ne(R)||s)){var G=((L=c)==null?void 0:L.type)==="focus";c=R,m=R.currentTarget,z(),!b.state.isVisible&&P5(R)&&Wp.forEach(function(re){return re(R)}),R.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||a)&&b.props.hideOnClick!==!1&&b.state.isVisible?H=!0:Ee(R),R.type==="click"&&(a=!H),H&&!G&&Me(R)}}function se(R){var L=R.target,H=A().contains(L)||E.contains(L);if(!(R.type==="mousemove"&&H)){var G=ve().concat(E).map(function(re){var Q,fe=re._tippy,he=(Q=fe.popperInstance)==null?void 0:Q.state;return he?{popperRect:re.getBoundingClientRect(),popperState:he,props:n}:null}).filter(Boolean);V5(G,R)&&(B(),Me(R))}}function we(R){var L=Ne(R)||b.props.trigger.indexOf("click")>=0&&a;if(!L){if(b.props.interactive){b.hideWithInteractivity(R);return}Me(R)}}function We(R){b.props.trigger.indexOf("focusin")<0&&R.target!==A()||b.props.interactive&&R.relatedTarget&&E.contains(R.relatedTarget)||Me(R)}function Ne(R){return Oi.isTouch?_()!==R.type.indexOf("touch")>=0:!1}function Ie(){Se();var R=b.props,L=R.popperOptions,H=R.placement,G=R.offset,re=R.getReferenceClientRect,Q=R.moveTransition,fe=M()?Uw(E).arrow:null,he=re?{getBoundingClientRect:re,contextElement:re.contextElement||A()}:t,_e={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(be){var He=be.state;if(M()){var Ye=k(),At=Ye.box;["placement","reference-hidden","escaped"].forEach(function(bt){bt==="placement"?At.setAttribute("data-placement",He.placement):He.attributes.popper["data-popper-"+bt]?At.setAttribute("data-"+bt,""):At.removeAttribute("data-"+bt)}),He.attributes.popper={}}}},Fe=[{name:"offset",options:{offset:G}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Q}},_e];M()&&fe&&Fe.push({name:"arrow",options:{element:fe,padding:3}}),Fe.push.apply(Fe,L?.modifiers||[]),b.popperInstance=Fw(he,E,Object.assign({},L,{placement:H,onFirstUpdate:f,modifiers:Fe}))}function Se(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function le(){var R=b.props.appendTo,L,H=A();b.props.interactive&&R===HA||R==="parent"?L=H.parentNode:L=UA(R,[H]),L.contains(E)||L.appendChild(E),b.state.isMounted=!0,Ie()}function ve(){return Yp(E.querySelectorAll("[data-tippy-root]"))}function Ee(R){b.clearDelayTimeouts(),R&&F("onTrigger",[b,R]),W();var L=P(!0),H=T(),G=H[0],re=H[1];Oi.isTouch&&G==="hold"&&re&&(L=re),L?r=setTimeout(function(){b.show()},L):b.show()}function Me(R){if(b.clearDelayTimeouts(),F("onUntrigger",[b,R]),!b.state.isVisible){J();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(R.type)>=0&&a)){var L=P(!1);L?i=setTimeout(function(){b.state.isVisible&&b.hide()},L):o=requestAnimationFrame(function(){b.hide()})}}function De(){b.state.isEnabled=!0}function Ve(){b.hide(),b.state.isEnabled=!1}function Ke(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Qe(R){if(!b.state.isDestroyed){F("onBeforeUpdate",[b,R]),q();var L=b.props,H=PA(t,Object.assign({},L,RA(R),{ignoreAttributes:!0}));b.props=H,$(),L.interactiveDebounce!==H.interactiveDebounce&&(B(),p=MA(se,H.interactiveDebounce)),L.triggerTarget&&!H.triggerTarget?Tu(L.triggerTarget).forEach(function(G){G.removeAttribute("aria-expanded")}):H.triggerTarget&&t.removeAttribute("aria-expanded"),z(),O(),D&&D(L,H),b.popperInstance&&(Ie(),ve().forEach(function(G){requestAnimationFrame(G._tippy.popperInstance.forceUpdate)})),F("onAfterUpdate",[b,R])}}function Je(R){b.setProps({content:R})}function it(){var R=b.state.isVisible,L=b.state.isDestroyed,H=!b.state.isEnabled,G=Oi.isTouch&&!b.props.touch,re=Lw(b.props.duration,0,ai.duration);if(!(R||L||H||G)&&!A().hasAttribute("disabled")&&(F("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,M()&&(E.style.visibility="visible"),O(),W(),b.state.isMounted||(E.style.transition="none"),M()){var Q=k(),fe=Q.box,he=Q.content;Bw([fe,he],0)}f=function(){var Fe;if(!(!b.state.isVisible||l)){if(l=!0,E.offsetHeight,E.style.transition=b.props.moveTransition,M()&&b.props.animation){var je=k(),be=je.box,He=je.content;Bw([be,He],re),NA([be,He],"visible")}U(),z(),AA(jw,b),(Fe=b.popperInstance)==null||Fe.forceUpdate(),F("onMount",[b]),b.props.animation&&M()&&ue(re,function(){b.state.isShown=!0,F("onShown",[b])})}},le()}}function Pe(){var R=!b.state.isVisible,L=b.state.isDestroyed,H=!b.state.isEnabled,G=Lw(b.props.duration,1,ai.duration);if(!(R||L||H)&&(F("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,l=!1,a=!1,M()&&(E.style.visibility="hidden"),B(),J(),O(!0),M()){var re=k(),Q=re.box,fe=re.content;b.props.animation&&(Bw([Q,fe],G),NA([Q,fe],"hidden"))}U(),z(),b.props.animation?M()&&te(G,b.unmount):b.unmount()}}function me(R){N().addEventListener("mousemove",p),AA(Wp,p),p(R)}function X(){b.state.isVisible&&b.hide(),b.state.isMounted&&(Se(),ve().forEach(function(R){R._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),jw=jw.filter(function(R){return R!==b}),b.state.isMounted=!1,F("onHidden",[b]))}function x(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),q(),delete t._tippy,b.state.isDestroyed=!0,F("onDestroy",[b]))}}function Kc(t,e){e===void 0&&(e={});var n=ai.plugins.concat(e.plugins||[]);U5();var r=Object.assign({},e,{plugins:n}),i=L5(t);if(0)var o,a;var s=i.reduce(function(u,l){var c=l&&Q5(l,r);return c&&u.push(c),u},[]);return Zp(t)?s[0]:s}Kc.defaultProps=ai;Kc.setDefaultProps=Y5;Kc.currentInput=Oi;var vue=Object.assign({},Uc,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Kc.setDefaultProps({render:qA});var zw=Kc;var J5=["cyContainer"],e4=["tooltipTemplate"],t4=(t,e)=>e[1];function n4(t,e){if(t&1&&(Mr(0,"div"),Ce(1),mr()),t&2){let n=e.$implicit,r=Be(2);oe(),zf("Runner ",n[0]," : ",r.formatNumber(n[1]))}}function r4(t,e){if(t&1&&(Mr(0,"div",7),rn(1,n4,2,2,"div",null,t4),mr()),t&2){let n=Be();oe(),on(n.wal)}}function i4(t,e){let n=document.createElement("div");return zw(n,{getReferenceClientRect:t.getBoundingClientRect,trigger:"manual",content:e,arrow:!0,placement:"top",hideOnClick:!1,sticky:"reference",interactive:!0,appendTo:document.body})}Ji.use((0,GA.default)(i4));var Kp=class t{constructor(e){this.vcr=e;this.viewContainerRef=e,Ea(()=>{let n=this.inputs();if(n){if(n.name.toLowerCase().includes("wal delayed")){let r=n.name.toLowerCase().replace("wal delayed","").trim();this.wal.set(r,n.size)}this.queues.set(n.name,n.size),this.updateNodeValues()}})}container;inputs=bi.required();tooltipTemplate;cy;queues=new Map;wal=new Map;viewContainerRef;ngAfterViewInit(){this.initGraph()}initGraph(){this.cy=Ji({container:this.container.nativeElement,style:[{selector:"node",style:{"background-color":"#2a323c",label:"data(label)",color:"#fff","text-valign":"center","text-halign":"center",width:"75px",shape:"round-rectangle","font-size":"12px"}},{selector:"edge",style:{width:2,"line-color":"data(color)","target-arrow-color":"data(color)","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(value)",color:"data(color)","font-weight":"bold","text-background-opacity":.8,"text-background-color":"#1a1a1a","text-background-padding":"2px"}},{selector:":parent",style:{"background-opacity":.1,"border-color":"#555",label:"data(id)"}},{selector:"node.rotate",style:{"text-rotation":1.6,width:"20px",height:"80px"}},{selector:"edge.rotate",style:{"target-endpoint":"0% -50%","text-rotation":1.6}},{selector:"edge.no-label",style:{"line-color":"grey","target-arrow-color":"gray",label:"","text-background-opacity":0}},{selector:"node.database",style:{"background-image":"assets/database.png","background-fit":"contain","background-clip":"none",width:50,height:50,label:"data(label)","background-opacity":0,shape:"rectangle"}},{selector:"node.save",style:{"background-image":"assets/save.png","background-fit":"contain","background-clip":"none",width:40,height:40,label:"data(label)","background-opacity":0,shape:"rectangle"}},{selector:"node.in",style:{"background-image":"assets/in.png","background-fit":"contain","background-clip":"none",width:30,height:30,label:"data(label)","background-opacity":0,shape:"round-rectangle"}}],elements:this.getInitialElements(),layout:{name:"preset"}}),this.setupPopups()}setupPopups(){if(!this.cy)return;let e=this.viewContainerRef.createEmbeddedView(this.tooltipTemplate,{wals:Array.from(this.wal)});this.cy.edges(".wal").forEach(n=>{let r=n.popperRef(),i=document.createElement("div"),o=zw(i,{getReferenceClientRect:r.getBoundingClientRect,content:e.rootNodes[0],trigger:"manual",interactive:!0,arrow:!0,appendTo:()=>document.body});n.on("mouseover",()=>o.show()),n.on("mouseout",()=>o.hide())})}updateNodeValues(){if(!this.cy)return;let e={"Sink Input":"edge-sink-timer","Time Annotation -> WAL":"edge-timer-wal","WAL -> Engines":"edge-wal-persister","Persister mongodb":"edge-persister1","Persister postgres":"edge-persister2","Persister neo4j":"edge-persister3","Definition-0-Document test":"edge-nativer0","Definition-1-Relational test":"edge-nativer1","Definition-2-Graph test":"edge-nativer2"};this.cy.batch(()=>{this.queues.forEach((r,i)=>{let o=e[i];if(!o)return;let a=this.cy?.getElementById(o);a&&(a.data("value",this.formatNumber(r)),a.data("color",this.getQueueColor(r)))});let n=this.cy?.getElementById("edge-wal-delay");if(n){let r=Array.from(this.wal.values()).reduce((i,o)=>i+o,0);n.data("value",this.formatNumber(r)),n.data("color",this.getQueueColor(r))}})}getInitialElements(){let e=0,n=200,r=150,i=200,o=e+r*3,a=e+r*4,s=e+r*5,u=i+200,l=u+100;return[{data:{id:"sink",label:"Sink"},position:{x:e,y:n}},{data:{id:"sinkLogo",label:""},position:{x:e-40,y:n},classes:"in"},{data:{id:"timer",label:"Timer"},position:{x:e+r,y:n}},{data:{id:"wal",label:"WAL"},position:{x:e+r*2,y:n}},{data:{id:"walBuffer",label:"WAL Delay"},position:{x:e+r*2,y:50},classes:"save"},{data:{id:"persister",label:"Persister"},position:{x:o,y:n}},{data:{id:"persister1",label:"Mongo"},position:{x:o-50,y:u},classes:"database"},{data:{id:"persister2",label:"Postgres"},position:{x:o,y:u},classes:"database"},{data:{id:"persister3",label:"Neo4j"},position:{x:o+50,y:u},classes:"database"},{data:{id:"nativer",label:"Nativer"},position:{x:a,y:n}},{data:{id:"nativer0",label:"Definition 0"},position:{x:a-50,y:u},classes:"rotate"},{data:{id:"nativer1",label:"Definition 1"},position:{x:a,y:u},classes:"rotate"},{data:{id:"nativer2",label:"Definition 2"},position:{x:a+50,y:u},classes:"rotate"},{data:{id:"nativer0engine",label:"Mongo"},position:{x:a-50,y:l},classes:"database"},{data:{id:"nativer1engine",label:"Postgres"},position:{x:a,y:l},classes:"database"},{data:{id:"nativer2engine",label:"Neo4j"},position:{x:a+50,y:l},classes:"database"},{data:{id:"end",label:"Poly"},position:{x:s,y:n}},{data:{id:"endLogo",label:""},position:{x:s+40,y:n},classes:"in"},{data:{id:"edge-sink-timer",source:"sink",target:"timer",value:"0",color:"#fff"}},{data:{id:"edge-timer-wal",source:"timer",target:"wal",value:"0",color:"#fff"}},{data:{id:"edge-wal-delay",source:"wal",target:"walBuffer",value:"0",color:"#fff"},classes:"wal"},{data:{id:"edge-wal-delay-back",source:"walBuffer",target:"wal",value:" ",color:"#fff"}},{data:{id:"edge-wal-persister",source:"wal",target:"persister",value:"0",color:"#fff"}},{data:{id:"edge-persister1",source:"persister",target:"persister1",value:"0",color:"#fff"},classes:"rotate"},{data:{id:"edge-persister2",source:"persister",target:"persister2",value:"0",color:"#fff"},classes:"rotate"},{data:{id:"edge-persister3",source:"persister",target:"persister3",value:"0",color:"#fff"},classes:"rotate"},{data:{id:"edge-persister-nativer",source:"persister",target:"nativer",value:"0",color:"#fff"},classes:"no-label"},{data:{id:"edge-nativer0",source:"nativer",target:"nativer0",value:"0",color:"#fff"},classes:"rotate"},{data:{id:"edge-nativer1",source:"nativer",target:"nativer1",value:"0",color:"#fff"},classes:"rotate"},{data:{id:"edge-nativer2",source:"nativer",target:"nativer2",value:"0",color:"#fff"},classes:"rotate"},{data:{id:"edge-nativer0engine",source:"nativer0",target:"nativer0engine",value:"0",color:"#fff"},classes:"rotate no-label"},{data:{id:"edge-nativer1engine",source:"nativer1",target:"nativer1engine",value:"0",color:"#fff"},classes:"rotate no-label"},{data:{id:"edge-nativer2engine",source:"nativer2",target:"nativer2engine",value:"0",color:"#fff"},classes:"rotate no-label"},{data:{id:"edge-nativer-poly",source:"nativer",target:"end",value:"0",color:"#fff"},classes:"no-label"}]}getQueueColor(e){return e>1e3?"#f87272":e>500?"#fbbd23":"#36d399"}formatNumber(e){return e.toLocaleString("en-US").replace(/,/g,"'")}static \u0275fac=function(n){return new(n||t)(xt($i))};static \u0275cmp=Wn({type:t,selectors:[["app-cyto"]],viewQuery:function(n,r){if(n&1&&jf(J5,5)(e4,5),n&2){let i;Hf(i=Uf())&&(r.container=i.first),Hf(i=Uf())&&(r.tooltipTemplate=i.first)}},inputs:{inputs:[1,"inputs"]},decls:9,vars:0,consts:[["cyContainer",""],["tooltipTemplate",""],[1,"card","bg-base-200","shadow-xl","border","border-base-300"],[1,"card-body","p-0"],[1,"flex","justify-between","items-center","p-4","border-b","border-base-300"],[1,"card-title","text-sm","uppercase","tracking-widest","opacity-70"],[2,"width","100%","height","600px","background","#1a1a1a"],[1,"p-2","bg-accent","rounded"]],template:function(n,r){n&1&&(Mr(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),Ce(4," Queue Architecture "),mr()(),Bf(5,"div",6,0),mr()(),Ff(7,r4,3,0,"ng-template",null,1,zm))},encapsulation:2})};function o4(t,e){t&1&&(ae(0,"span",18),gt(1,"span",19)(2,"span",20),ie(),ae(3,"span",21),Ce(4,"CONNECTED"),ie())}function a4(t,e){t&1&&(ae(0,"span",18),gt(1,"span",22)(2,"span",23),ie(),ae(3,"span",21),Ce(4,"DISCONNECTED"),ie())}function s4(t,e){if(t&1&&gt(0,"span",9),t&2){let n=Be();Et("badge-success",n.service.connectedStatistics())("badge-error",!n.service.connectedStatistics())}}function u4(t,e){if(t&1&&gt(0,"span",9),t&2){let n=Be();Et("badge-success",n.service.connectedEvents())("badge-error",!n.service.connectedEvents())}}function l4(t,e){if(t&1&&gt(0,"span",9),t&2){let n=Be();Et("badge-success",n.service.connectedQueues())("badge-error",!n.service.connectedQueues())}}function c4(t,e){if(t&1&&gt(0,"span",9),t&2){let n=Be();Et("badge-success",n.service.connectedThreads())("badge-error",!n.service.connectedThreads())}}var Xp=class t{title=qe("dashboard");service=ne(Mh);activeTab=2;Tab=WA;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Wn({type:t,selectors:[["app-root"]],decls:45,vars:31,consts:[[1,"h-screen","flex","flex-col","bg-black","overflow-hidden"],[1,"flex-none","bg-base-100","border-b","border-white/10","p-2","flex","flex-col","md:flex-row","items-center","gap-4"],[1,"flex","items-center","gap-3","px-4"],[1,"w-8","h-8","bg-primary","rounded-lg","flex","items-center","justify-center","text-primary-content","font-black"],[1,"text-sm","font-bold","uppercase","tracking-widest","leading-none"],[1,"flex","items-center","gap-1","mt-1"],[1,"tabs","tabs-boxed","bg-base-300","p-1"],[1,"tab","tab-sm","gap-2",3,"click"],[1,"badge","badge-xs",3,"badge-success","badge-error"],[1,"badge","badge-xs"],[1,"hidden","lg:flex","ml-auto","items-center","gap-4","pr-4"],[1,"text-right"],[1,"text-[10px]","opacity-40","uppercase"],[1,"text-xs","font-mono"],[1,"grow","overflow-y-auto","custom-scrollbar","p-4","lg:p-6","bg-black"],[1,"max-w-7xl","mx-auto","h-full","grid"],[1,"tab-pane"],[3,"inputs"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-success","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-success"],[1,"text-[10px]","opacity-50","font-mono"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-error","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-error"]],template:function(n,r){n&1&&(ae(0,"main",0)(1,"header",1)(2,"div",2)(3,"div",3),Ce(4," PS "),ie(),ae(5,"div")(6,"h1",4),Ce(7,"PolyStream"),ie(),ae(8,"div",5),$t(9,o4,5,0)(10,a4,5,0),ie()()(),ae(11,"div",6)(12,"button",7),Rt("click",function(){return r.activeTab=r.Tab.Stats}),Ce(13," Statistics "),$t(14,s4,1,4,"span",8),ie(),ae(15,"button",7),Rt("click",function(){return r.activeTab=r.Tab.Events}),Ce(16," Events "),$t(17,u4,1,4,"span",8),ie(),ae(18,"button",7),Rt("click",function(){return r.activeTab=r.Tab.Queues}),Ce(19," Queues "),$t(20,l4,1,4,"span",8),ie(),ae(21,"button",7),Rt("click",function(){return r.activeTab=r.Tab.Threads}),Ce(22," Threads "),$t(23,c4,1,4,"span",8),ie(),ae(24,"button",7),Rt("click",function(){return r.activeTab=r.Tab.Roundtrip}),Ce(25," Roundtrip "),gt(26,"span",9),ie()(),ae(27,"div",10)(28,"div",11)(29,"div",12),Ce(30,"Rust Version"),ie(),ae(31,"div",13),Ce(32,"v1.92.0"),ie()()()(),ae(33,"div",14)(34,"div",15)(35,"div",16),gt(36,"app-events",17),ie(),ae(37,"div",16),gt(38,"app-cyto",17),ie(),ae(39,"div",16),gt(40,"app-statistics",17),ie(),ae(41,"div",16),gt(42,"app-threads",17),ie(),ae(43,"div",16),gt(44,"app-roundtrip"),ie()()()()),n&2&&(oe(9),zt(r.service.connected()?9:10),oe(3),Et("tab-active",r.activeTab===r.Tab.Stats),oe(2),zt(r.activeTab===r.Tab.Stats?14:-1),oe(),Et("tab-active",r.activeTab===r.Tab.Events),oe(2),zt(r.activeTab===r.Tab.Events?17:-1),oe(),Et("tab-active",r.activeTab===r.Tab.Queues),oe(2),zt(r.activeTab===r.Tab.Queues?20:-1),oe(),Et("tab-active",r.activeTab===r.Tab.Threads),oe(2),zt(r.activeTab===r.Tab.Threads?23:-1),oe(),Et("tab-active",r.activeTab===r.Tab.Roundtrip),oe(2),Et("badge-primary",r.activeTab===r.Tab.Roundtrip),oe(9),Et("active-tab",r.activeTab===r.Tab.Events),oe(),Pt("inputs",r.service.events()),oe(),Et("active-tab",r.activeTab===r.Tab.Queues),oe(),Pt("inputs",r.service.queues()),oe(),Et("active-tab",r.activeTab===r.Tab.Stats),oe(),Pt("inputs",r.service.$statistics),oe(),Et("active-tab",r.activeTab===r.Tab.Threads),oe(),Pt("inputs",r.service.threads()),oe(),Et("active-tab",r.activeTab===r.Tab.Roundtrip))},dependencies:[RT,Ah,Lh,Bh,Kp],styles:['.grid[_ngcontent-%COMP%]{display:grid;grid-template-areas:"stack"}.tab-pane[_ngcontent-%COMP%]{grid-area:stack;opacity:0;transform:translateY(10px);pointer-events:none;visibility:hidden;transition:opacity .3s ease-out,transform .3s ease-out,visibility .3s}.tab-pane.active-tab[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);pointer-events:auto;visibility:visible}']})},WA=(o=>(o[o.Events=0]="Events",o[o.Queues=1]="Queues",o[o.Stats=2]="Stats",o[o.Roundtrip=3]="Roundtrip",o[o.Threads=4]="Threads",o))(WA||{});yy(Xp,AT).catch(t=>console.error(t));
